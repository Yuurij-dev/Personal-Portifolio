!function(e){"function"==typeof define&&define.amd?define(e):e();}(function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r;}function t(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object");}function n(e,t,n,r,i,o,a){try{var s=e[o](a),c=s.value;}catch(u){return void n(u);}s.done?t(c):Promise.resolve(c).then(r,i);}function r(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,c,"next",e);}function c(e){n(a,i,o,s,c,"throw",e);}s(void 0);});};}function i(e,t,n){return t=p(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e;}(e);}(e,m()?Reflect.construct(t,n||[],p(e).constructor):t.apply(e,n));}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function");}function a(e,n){return e.get(t(e,n));}function s(e,t,n){(function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object");})(e,t),t.set(e,n);}function c(e,n,r){return e.set(t(e,n),r),r;}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r);}}function l(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;}function d(e,t,n){return(t=k(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e;}function f(){return f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e;}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value;}},f.apply(null,arguments);}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e);})(e);}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t);}function m(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));}catch(t){}return(m=function(){return!!e;})();}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable;})),n.push.apply(n,r);}return n;}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){d(e,t,n[t]);}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t));});}return e;}function v(){v=function(){return t;};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value;},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t];}try{u({},"");}catch(M){u=function(e,t,n){return e[t]=n;};}function l(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,a=Object.create(o.prototype),s=new O(r||[]);return i(a,"_invoke",{value:T(e,n,s)}),a;}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)};}catch(r){return{type:"throw",arg:r};}}t.wrap=l;var f="suspendedStart",p="suspendedYield",h="executing",m="completed",g={};function y(){}function b(){}function _(){}var w={};u(w,a,function(){return this;});var k=Object.getPrototypeOf,S=k&&k(k(R([])));S&&S!==n&&r.call(S,a)&&(w=S);var x=_.prototype=y.prototype=Object.create(w);function E(e){["next","throw","return"].forEach(function(t){u(e,t,function(e){return this._invoke(t,e);});});}function C(e,t){function n(i,o,a,s){var c=d(e[i],e,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?t.resolve(l.__await).then(function(e){n("next",e,a,s);},function(e){n("throw",e,a,s);}):t.resolve(l).then(function(e){u.value=e,a(u);},function(e){return n("throw",e,a,s);});}s(c.arg);}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t(function(t,i){n(e,r,t,i);});}return o=o?o.then(i,i):i();}});}function T(t,n,r){var i=f;return function(o,a){if(i===h)throw Error("Generator is already running");if(i===m){if("throw"===o)throw a;return{value:e,done:!0};}for(r.method=o,r.arg=a;;){var s=r.delegate;if(s){var c=I(s,r);if(c){if(c===g)continue;return c;}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===f)throw i=m,r.arg;r.dispatchException(r.arg);}else"return"===r.method&&r.abrupt("return",r.arg);i=h;var u=d(t,n,r);if("normal"===u.type){if(i=r.done?m:p,u.arg===g)continue;return{value:u.arg,done:r.done};}"throw"===u.type&&(i=m,r.method="throw",r.arg=u.arg);}};}function I(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=d(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g);}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t);}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t;}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0);}function R(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n;};return o.next=o;}}throw new TypeError(typeof t+" is not iterable");}return b.prototype=_,i(x,"constructor",{value:_,configurable:!0}),i(_,"constructor",{value:b,configurable:!0}),b.displayName=u(_,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name));},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,u(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e;},t.awrap=function(e){return{__await:e};},E(C.prototype),u(C.prototype,s,function(){return this;}),t.AsyncIterator=C,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new C(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then(function(e){return e.done?e.value:a.next();});},E(x),u(x,c,"Generator"),u(x,a,function(){return this;}),u(x,"toString",function(){return"[object Generator]";}),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e;}return e.done=!0,e;};},t.values=R,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e);},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval;},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i;}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc);}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc);}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break;}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a);},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g;},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),g;}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;A(n);}return i;}}throw Error("illegal catch attempt");},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g;}},t;}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e;})(e,t);}function _(e,t){return function(e){if(Array.isArray(e))return e;}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],c=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1;}else for(;!(c=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);c=!0);}catch(l){u=!0,i=l;}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return;}finally{if(u)throw i;}}return s;}}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}();}function w(t){return function(t){if(Array.isArray(t))return e(t);}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e);}(t)||S(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}();}function k(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.");}return("string"===t?String:Number)(e);}(e,"string");return"symbol"==typeof t?t:t+"";}function S(t,n){if(t){if("string"==typeof t)return e(t,n);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?e(t,n):void 0;}}function x(e){var t="function"==typeof Map?new Map():void 0;return x=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]");}catch(t){return"function"==typeof e;}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n);}function n(){return function(e,t,n){if(m())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r))();return n&&b(i,n.prototype),i;}(e,arguments,p(this).constructor);}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,e);},x(e);}!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=new Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="d741120e-fa90-48c9-9cf9-5c49832354b9",e._sentryDebugIdIdentifier="sentry-dbid-d741120e-fa90-48c9-9cf9-5c49832354b9");}catch(n){}}(),("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).SENTRY_RELEASE={id:"payment-form-v1.210.0"};var E="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function C(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e;}var T,I,P={};function A(){if(I)return T;I=1;var e=function(e){return e&&e.Math===Math&&e;};return T=e("object"==typeof globalThis&&globalThis)||e("object"==typeof window&&window)||e("object"==typeof self&&self)||e("object"==typeof E&&E)||e("object"==typeof T&&T)||function(){return this;}()||Function("return this")();}var O,R,M,L,N,D,B,F,j={};function U(){return R?O:(R=1,O=function(e){try{return!!e();}catch(t){return!0;}});}function $(){if(L)return M;L=1;var e=U();return M=!e(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7;}})[1];});}function z(){if(D)return N;D=1;var e=U();return N=!e(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype");});}function H(){if(F)return B;F=1;var e=z(),t=Function.prototype.call;return B=e?t.bind(t):function(){return t.apply(t,arguments);},B;}var q,W,V,G,Y,J,X,K,Z,Q,ee,te,ne,re,ie,oe,ae,se,ce,ue,le,de,fe,pe,he,me,ge,ye,ve,be,_e,we,ke,Se,xe,Ee,Ce,Te,Ie,Pe,Ae,Oe={};function Re(){if(q)return Oe;q=1;var e={}.propertyIsEnumerable,t=Object.getOwnPropertyDescriptor,n=t&&!e.call({1:2},1);return Oe.f=n?function(e){var n=t(this,e);return!!n&&n.enumerable;}:e,Oe;}function Me(){return V?W:(V=1,W=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t};});}function Le(){if(Y)return G;Y=1;var e=z(),t=Function.prototype,n=t.call,r=e&&t.bind.bind(n,n);return G=e?r:function(e){return function(){return n.apply(e,arguments);};},G;}function Ne(){if(X)return J;X=1;var e=Le(),t=e({}.toString),n=e("".slice);return J=function(e){return n(t(e),8,-1);};}function De(){if(Z)return K;Z=1;var e=Le(),t=U(),n=Ne(),r=Object,i=e("".split);return K=t(function(){return!r("z").propertyIsEnumerable(0);})?function(e){return"String"===n(e)?i(e,""):r(e);}:r;}function Be(){return ee?Q:(ee=1,Q=function(e){return null==e;});}function Fe(){if(ne)return te;ne=1;var e=Be(),t=TypeError;return te=function(n){if(e(n))throw new t("Can't call method on "+n);return n;};}function je(){if(ie)return re;ie=1;var e=De(),t=Fe();return re=function(n){return e(t(n));};}function Ue(){if(ae)return oe;ae=1;var e="object"==typeof document&&document.all;return oe=void 0===e&&void 0!==e?function(t){return"function"==typeof t||t===e;}:function(e){return"function"==typeof e;};}function $e(){if(ce)return se;ce=1;var e=Ue();return se=function(t){return"object"==typeof t?null!==t:e(t);};}function ze(){if(le)return ue;le=1;var e=A(),t=Ue();return ue=function(n,r){return arguments.length<2?function(e){return t(e)?e:void 0;}(e[n]):e[n]&&e[n][r];},ue;}function He(){if(fe)return de;fe=1;var e=Le();return de=e({}.isPrototypeOf);}function qe(){return he?pe:(he=1,pe="undefined"!=typeof navigator&&String(navigator.userAgent)||"");}function We(){if(ge)return me;ge=1;var e,t,n=A(),r=qe(),i=n.process,o=n.Deno,a=i&&i.versions||o&&o.version,s=a&&a.v8;return s&&(t=(e=s.split("."))[0]>0&&e[0]<4?1:+(e[0]+e[1])),!t&&r&&(!(e=r.match(/Edge\/(\d+)/))||e[1]>=74)&&(e=r.match(/Chrome\/(\d+)/))&&(t=+e[1]),me=t;}function Ve(){if(ve)return ye;ve=1;var e=We(),t=U(),n=A().String;return ye=!!Object.getOwnPropertySymbols&&!t(function(){var t=Symbol("symbol detection");return!n(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&e&&e<41;});}function Ge(){if(_e)return be;_e=1;var e=Ve();return be=e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator;}function Ye(){if(ke)return we;ke=1;var e=ze(),t=Ue(),n=He(),r=Ge(),i=Object;return we=r?function(e){return"symbol"==typeof e;}:function(r){var o=e("Symbol");return t(o)&&n(o.prototype,i(r));};}function Je(){if(xe)return Se;xe=1;var e=String;return Se=function(t){try{return e(t);}catch(n){return"Object";}};}function Xe(){if(Ce)return Ee;Ce=1;var e=Ue(),t=Je(),n=TypeError;return Ee=function(r){if(e(r))return r;throw new n(t(r)+" is not a function");};}function Ke(){if(Ie)return Te;Ie=1;var e=Xe(),t=Be();return Te=function(n,r){var i=n[r];return t(i)?void 0:e(i);};}var Ze,Qe,et,tt,nt,rt,it,ot,at,st,ct,ut,lt,dt,ft,pt,ht,mt,gt,yt,vt,bt,_t,wt,kt={exports:{}};function St(){return Qe?Ze:(Qe=1,Ze=!1);}function xt(){if(tt)return et;tt=1;var e=A(),t=Object.defineProperty;return et=function(n,r){try{t(e,n,{value:r,configurable:!0,writable:!0});}catch(i){e[n]=r;}return r;};}function Et(){if(nt)return kt.exports;nt=1;var e=St(),t=A(),n=xt(),r="__core-js_shared__",i=kt.exports=t[r]||n(r,{});return(i.versions||(i.versions=[])).push({version:"3.37.1",mode:e?"pure":"global",copyright:"Â© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.37.1/LICENSE",source:"https://github.com/zloirock/core-js"}),kt.exports;}function Ct(){if(it)return rt;it=1;var e=Et();return rt=function(t,n){return e[t]||(e[t]=n||{});};}function Tt(){if(at)return ot;at=1;var e=Fe(),t=Object;return ot=function(n){return t(e(n));};}function It(){if(ct)return st;ct=1;var e=Le(),t=Tt(),n=e({}.hasOwnProperty);return st=Object.hasOwn||function(e,r){return n(t(e),r);};}function Pt(){if(lt)return ut;lt=1;var e=Le(),t=0,n=Math.random(),r=e(1..toString);return ut=function(e){return"Symbol("+(void 0===e?"":e)+")_"+r(++t+n,36);};}function At(){if(ft)return dt;ft=1;var e=A(),t=Ct(),n=It(),r=Pt(),i=Ve(),o=Ge(),a=e.Symbol,s=t("wks"),c=o?a.for||a:a&&a.withoutSetter||r;return dt=function(e){return n(s,e)||(s[e]=i&&n(a,e)?a[e]:c("Symbol."+e)),s[e];};}function Ot(){if(ht)return pt;ht=1;var e=H(),t=$e(),n=Ye(),r=Ke(),i=function(){if(Ae)return Pe;Ae=1;var e=H(),t=Ue(),n=$e(),r=TypeError;return Pe=function(i,o){var a,s;if("string"===o&&t(a=i.toString)&&!n(s=e(a,i)))return s;if(t(a=i.valueOf)&&!n(s=e(a,i)))return s;if("string"!==o&&t(a=i.toString)&&!n(s=e(a,i)))return s;throw new r("Can't convert object to primitive value");};}(),o=At(),a=TypeError,s=o("toPrimitive");return pt=function(o,c){if(!t(o)||n(o))return o;var u,l=r(o,s);if(l){if(void 0===c&&(c="default"),u=e(l,o,c),!t(u)||n(u))return u;throw new a("Can't convert object to primitive value");}return void 0===c&&(c="number"),i(o,c);};}function Rt(){if(gt)return mt;gt=1;var e=Ot(),t=Ye();return mt=function(n){var r=e(n,"string");return t(r)?r:r+"";};}function Mt(){if(vt)return yt;vt=1;var e=A(),t=$e(),n=e.document,r=t(n)&&t(n.createElement);return yt=function(e){return r?n.createElement(e):{};};}function Lt(){if(_t)return bt;_t=1;var e=$(),t=U(),n=Mt();return bt=!e&&!t(function(){return 7!==Object.defineProperty(n("div"),"a",{get:function(){return 7;}}).a;});}function Nt(){if(wt)return j;wt=1;var e=$(),t=H(),n=Re(),r=Me(),i=je(),o=Rt(),a=It(),s=Lt(),c=Object.getOwnPropertyDescriptor;return j.f=e?c:function(e,u){if(e=i(e),u=o(u),s)try{return c(e,u);}catch(l){}if(a(e,u))return r(!t(n.f,e,u),e[u]);},j;}var Dt,Bt,Ft,jt,Ut,$t,zt,Ht={};function qt(){if(Bt)return Dt;Bt=1;var e=$(),t=U();return Dt=e&&t(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype;});}function Wt(){if(jt)return Ft;jt=1;var e=$e(),t=String,n=TypeError;return Ft=function(r){if(e(r))return r;throw new n(t(r)+" is not an object");};}function Vt(){if(Ut)return Ht;Ut=1;var e=$(),t=Lt(),n=qt(),r=Wt(),i=Rt(),o=TypeError,a=Object.defineProperty,s=Object.getOwnPropertyDescriptor,c="enumerable",u="configurable",l="writable";return Ht.f=e?n?function(e,t,n){if(r(e),t=i(t),r(n),"function"==typeof e&&"prototype"===t&&"value"in n&&l in n&&!n[l]){var o=s(e,t);o&&o[l]&&(e[t]=n.value,n={configurable:u in n?n[u]:o[u],enumerable:c in n?n[c]:o[c],writable:!1});}return a(e,t,n);}:a:function(e,n,s){if(r(e),n=i(n),r(s),t)try{return a(e,n,s);}catch(c){}if("get"in s||"set"in s)throw new o("Accessors not supported");return"value"in s&&(e[n]=s.value),e;},Ht;}function Gt(){if(zt)return $t;zt=1;var e=$(),t=Vt(),n=Me();return $t=e?function(e,r,i){return t.f(e,r,n(1,i));}:function(e,t,n){return e[t]=n,e;};}var Yt,Jt,Xt,Kt,Zt,Qt,en,tn,nn,rn,on,an,sn,cn,un,ln={exports:{}};function dn(){if(Jt)return Yt;Jt=1;var e=$(),t=It(),n=Function.prototype,r=e&&Object.getOwnPropertyDescriptor,i=t(n,"name"),o=i&&"something"===function(){}.name,a=i&&(!e||e&&r(n,"name").configurable);return Yt={EXISTS:i,PROPER:o,CONFIGURABLE:a};}function fn(){if(Kt)return Xt;Kt=1;var e=Le(),t=Ue(),n=Et(),r=e(Function.toString);return t(n.inspectSource)||(n.inspectSource=function(e){return r(e);}),Xt=n.inspectSource;}function pn(){if(Qt)return Zt;Qt=1;var e=A(),t=Ue(),n=e.WeakMap;return Zt=t(n)&&/native code/.test(String(n));}function hn(){if(tn)return en;tn=1;var e=Ct(),t=Pt(),n=e("keys");return en=function(e){return n[e]||(n[e]=t(e));};}function mn(){return rn?nn:(rn=1,nn={});}function gn(){if(an)return on;an=1;var e,t,n,r=pn(),i=A(),o=$e(),a=Gt(),s=It(),c=Et(),u=hn(),l=mn(),d="Object already initialized",f=i.TypeError,p=i.WeakMap;if(r||c.state){var h=c.state||(c.state=new p());h.get=h.get,h.has=h.has,h.set=h.set,e=function(e,t){if(h.has(e))throw new f(d);return t.facade=e,h.set(e,t),t;},t=function(e){return h.get(e)||{};},n=function(e){return h.has(e);};}else{var m=u("state");l[m]=!0,e=function(e,t){if(s(e,m))throw new f(d);return t.facade=e,a(e,m,t),t;},t=function(e){return s(e,m)?e[m]:{};},n=function(e){return s(e,m);};}return on={set:e,get:t,has:n,enforce:function(r){return n(r)?t(r):e(r,{});},getterFor:function(e){return function(n){var r;if(!o(n)||(r=t(n)).type!==e)throw new f("Incompatible receiver, "+e+" required");return r;};}};}function yn(){if(sn)return ln.exports;sn=1;var e=Le(),t=U(),n=Ue(),r=It(),i=$(),o=dn().CONFIGURABLE,a=fn(),s=gn(),c=s.enforce,u=s.get,l=String,d=Object.defineProperty,f=e("".slice),p=e("".replace),h=e([].join),m=i&&!t(function(){return 8!==d(function(){},"length",{value:8}).length;}),g=String(String).split("String"),y=ln.exports=function(e,t,n){"Symbol("===f(l(t),0,7)&&(t="["+p(l(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!r(e,"name")||o&&e.name!==t)&&(i?d(e,"name",{value:t,configurable:!0}):e.name=t),m&&n&&r(n,"arity")&&e.length!==n.arity&&d(e,"length",{value:n.arity});try{n&&r(n,"constructor")&&n.constructor?i&&d(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0);}catch(s){}var a=c(e);return r(a,"source")||(a.source=h(g,"string"==typeof t?t:"")),e;};return Function.prototype.toString=y(function(){return n(this)&&u(this).source||a(this);},"toString"),ln.exports;}function vn(){if(un)return cn;un=1;var e=Ue(),t=Vt(),n=yn(),r=xt();return cn=function(i,o,a,s){s||(s={});var c=s.enumerable,u=void 0!==s.name?s.name:o;if(e(a)&&n(a,u,s),s.global)c?i[o]=a:r(o,a);else{try{s.unsafe?i[o]&&(c=!0):delete i[o];}catch(l){}c?i[o]=a:t.f(i,o,{value:a,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable});}return i;};}var bn,_n,wn,kn,Sn,xn,En,Cn,Tn,In,Pn,An,On,Rn,Mn,Ln,Nn,Dn={};function Bn(){if(kn)return wn;kn=1;var e=function(){if(_n)return bn;_n=1;var e=Math.ceil,t=Math.floor;return bn=Math.trunc||function(n){var r=+n;return(r>0?t:e)(r);};}();return wn=function(t){var n=+t;return n!=n||0===n?0:e(n);};}function Fn(){if(xn)return Sn;xn=1;var e=Bn(),t=Math.max,n=Math.min;return Sn=function(r,i){var o=e(r);return o<0?t(o+i,0):n(o,i);};}function jn(){if(Cn)return En;Cn=1;var e=Bn(),t=Math.min;return En=function(n){var r=e(n);return r>0?t(r,9007199254740991):0;};}function Un(){if(In)return Tn;In=1;var e=jn();return Tn=function(t){return e(t.length);};}function $n(){if(An)return Pn;An=1;var e=je(),t=Fn(),n=Un(),r=function(r){return function(i,o,a){var s=e(i),c=n(s);if(0===c)return!r&&-1;var u,l=t(a,c);if(r&&o!=o){for(;c>l;)if((u=s[l++])!=u)return!0;}else for(;c>l;l++)if((r||l in s)&&s[l]===o)return r||l||0;return!r&&-1;};};return Pn={includes:r(!0),indexOf:r(!1)};}function zn(){if(Rn)return On;Rn=1;var e=Le(),t=It(),n=je(),r=$n().indexOf,i=mn(),o=e([].push);return On=function(e,a){var s,c=n(e),u=0,l=[];for(s in c)!t(i,s)&&t(c,s)&&o(l,s);for(;a.length>u;)t(c,s=a[u++])&&(~r(l,s)||o(l,s));return l;};}function Hn(){return Ln?Mn:(Ln=1,Mn=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]);}function qn(){if(Nn)return Dn;Nn=1;var e=zn(),t=Hn().concat("length","prototype");return Dn.f=Object.getOwnPropertyNames||function(n){return e(n,t);},Dn;}var Wn,Vn,Gn,Yn,Jn,Xn,Kn,Zn,Qn,er,tr,nr,rr,ir,or,ar,sr,cr,ur,lr,dr,fr,pr,hr,mr,gr,yr,vr,br={};function _r(){return Wn||(Wn=1,br.f=Object.getOwnPropertySymbols),br;}function wr(){if(Jn)return Yn;Jn=1;var e=It(),t=function(){if(Gn)return Vn;Gn=1;var e=ze(),t=Le(),n=qn(),r=_r(),i=Wt(),o=t([].concat);return Vn=e("Reflect","ownKeys")||function(e){var t=n.f(i(e)),a=r.f;return a?o(t,a(e)):t;};}(),n=Nt(),r=Vt();return Yn=function(i,o,a){for(var s=t(o),c=r.f,u=n.f,l=0;l<s.length;l++){var d=s[l];e(i,d)||a&&e(a,d)||c(i,d,u(o,d));}};}function kr(){if(Kn)return Xn;Kn=1;var e=U(),t=Ue(),n=/#|\.prototype\./,r=function(n,r){var c=o[i(n)];return c===s||c!==a&&(t(r)?e(r):!!r);},i=r.normalize=function(e){return String(e).replace(n,".").toLowerCase();},o=r.data={},a=r.NATIVE="N",s=r.POLYFILL="P";return Xn=r;}function Sr(){if(Qn)return Zn;Qn=1;var e=A(),t=Nt().f,n=Gt(),r=vn(),i=xt(),o=wr(),a=kr();return Zn=function(s,c){var u,l,d,f,p,h=s.target,m=s.global,g=s.stat;if(u=m?e:g?e[h]||i(h,{}):e[h]&&e[h].prototype)for(l in c){if(f=c[l],d=s.dontCallGetSet?(p=t(u,l))&&p.value:u[l],!a(m?l:h+(g?".":"#")+l,s.forced)&&void 0!==d){if(typeof f==typeof d)continue;o(f,d);}(s.sham||d&&d.sham)&&n(f,"sham",!0),r(u,l,f,s);}};}function xr(){if(tr)return er;tr=1;var e=Ne();return er=Array.isArray||function(t){return"Array"===e(t);};}function Er(){if(or)return ir;or=1;var e=$(),t=Vt(),n=Me();return ir=function(r,i,o){e?t.f(r,i,n(0,o)):r[i]=o;};}function Cr(){if(sr)return ar;sr=1;var e={};return e[At()("toStringTag")]="z",ar="[object z]"===String(e);}function Tr(){if(ur)return cr;ur=1;var e=Cr(),t=Ue(),n=Ne(),r=At()("toStringTag"),i=Object,o="Arguments"===n(function(){return arguments;}());return cr=e?n:function(e){var a,s,c;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(s=function(e,t){try{return e[t];}catch(n){}}(a=i(e),r))?s:o?n(a):"Object"===(c=n(a))&&t(a.callee)?"Arguments":c;};}function Ir(){if(dr)return lr;dr=1;var e=Le(),t=U(),n=Ue(),r=Tr(),i=ze(),o=fn(),a=function(){},s=i("Reflect","construct"),c=/^\s*(?:class|function)\b/,u=e(c.exec),l=!c.test(a),d=function(e){if(!n(e))return!1;try{return s(a,[],e),!0;}catch(t){return!1;}},f=function(e){if(!n(e))return!1;switch(r(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1;}try{return l||!!u(c,o(e));}catch(t){return!0;}};return f.sham=!0,lr=!s||t(function(){var e;return d(d.call)||!d(Object)||!d(function(){e=!0;})||e;})?f:d;}function Pr(){if(mr)return hr;mr=1;var e=function(){if(pr)return fr;pr=1;var e=xr(),t=Ir(),n=$e(),r=At()("species"),i=Array;return fr=function(o){var a;return e(o)&&(a=o.constructor,(t(a)&&(a===i||e(a.prototype))||n(a)&&null===(a=a[r]))&&(a=void 0)),void 0===a?i:a;};}();return hr=function(t,n){return new(e(t))(0===n?0:n);};}function Ar(){if(yr)return gr;yr=1;var e=U(),t=At(),n=We(),r=t("species");return gr=function(t){return n>=51||!e(function(){var e=[];return(e.constructor={})[r]=function(){return{foo:1};},1!==e[t](Boolean).foo;});};}!function(){if(vr)return P;vr=1;var e=Sr(),t=U(),n=xr(),r=$e(),i=Tt(),o=Un(),a=function(){if(rr)return nr;rr=1;var e=TypeError;return nr=function(t){if(t>9007199254740991)throw e("Maximum allowed index exceeded");return t;};}(),s=Er(),c=Pr(),u=Ar(),l=At(),d=We(),f=l("isConcatSpreadable"),p=d>=51||!t(function(){var e=[];return e[f]=!1,e.concat()[0]!==e;}),h=function(e){if(!r(e))return!1;var t=e[f];return void 0!==t?!!t:n(e);};e({target:"Array",proto:!0,arity:1,forced:!p||!u("concat")},{concat:function(e){var t,n,r,u,l,d=i(this),f=c(d,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(h(l=-1===t?d:arguments[t]))for(u=o(l),a(p+u),n=0;n<u;n++,p++)n in l&&s(f,p,l[n]);else a(p+1),s(f,p++,l);return f.length=p,f;}});}();var Or,Rr,Mr,Lr={};!function(){if(Mr)return Lr;Mr=1;var e=Cr(),t=vn(),n=function(){if(Rr)return Or;Rr=1;var e=Cr(),t=Tr();return Or=e?{}.toString:function(){return"[object "+t(this)+"]";};}();e||t(Object.prototype,"toString",n,{unsafe:!0});}();var Nr,Dr,Br,Fr,jr,Ur,$r,zr,Hr,qr,Wr,Vr,Gr,Yr,Jr,Xr,Kr,Zr,Qr,ei,ti,ni,ri,ii,oi,ai,si,ci,ui,li,di,fi,pi,hi,mi,gi,yi,vi,bi,_i,wi,ki,Si,xi,Ei,Ci,Ti,Ii,Pi,Ai,Oi,Ri,Mi,Li,Ni,Di,Bi,Fi,ji,Ui,$i={};function zi(){if(Dr)return Nr;Dr=1;var e=A(),t=Ne();return Nr="process"===t(e.process);}function Hi(){if(zr)return $r;zr=1;var e=function(){if(Ur)return jr;Ur=1;var e=$e();return jr=function(t){return e(t)||null===t;};}(),t=String,n=TypeError;return $r=function(r){if(e(r))return r;throw new n("Can't set "+t(r)+" as a prototype");};}function qi(){if(qr)return Hr;qr=1;var e=function(){if(Fr)return Br;Fr=1;var e=Le(),t=Xe();return Br=function(n,r,i){try{return e(t(Object.getOwnPropertyDescriptor(n,r)[i]));}catch(o){}};}(),t=$e(),n=Fe(),r=Hi();return Hr=Object.setPrototypeOf||("__proto__"in{}?function(){var i,o=!1,a={};try{(i=e(Object.prototype,"__proto__","set"))(a,[]),o=a instanceof Array;}catch(s){}return function(e,a){return n(e),r(a),t(e)?(o?i(e,a):e.__proto__=a,e):e;};}():void 0);}function Wi(){if(Vr)return Wr;Vr=1;var e=Vt().f,t=It(),n=At()("toStringTag");return Wr=function(r,i,o){r&&!o&&(r=r.prototype),r&&!t(r,n)&&e(r,n,{configurable:!0,value:i});};}function Vi(){if(Yr)return Gr;Yr=1;var e=yn(),t=Vt();return Gr=function(n,r,i){return i.get&&e(i.get,r,{getter:!0}),i.set&&e(i.set,r,{setter:!0}),t.f(n,r,i);};}function Gi(){if(Xr)return Jr;Xr=1;var e=ze(),t=Vi(),n=At(),r=$(),i=n("species");return Jr=function(n){var o=e(n);r&&o&&!o[i]&&t(o,i,{configurable:!0,get:function(){return this;}});};}function Yi(){if(Zr)return Kr;Zr=1;var e=He(),t=TypeError;return Kr=function(n,r){if(e(r,n))return n;throw new t("Incorrect invocation");};}function Ji(){if(ni)return ti;ni=1;var e=Wt(),t=function(){if(ei)return Qr;ei=1;var e=Ir(),t=Je(),n=TypeError;return Qr=function(r){if(e(r))return r;throw new n(t(r)+" is not a constructor");};}(),n=Be(),r=At()("species");return ti=function(i,o){var a,s=e(i).constructor;return void 0===s||n(a=e(s)[r])?o:t(a);};}function Xi(){if(ii)return ri;ii=1;var e=z(),t=Function.prototype,n=t.apply,r=t.call;return ri="object"==typeof Reflect&&Reflect.apply||(e?r.bind(n):function(){return r.apply(n,arguments);}),ri;}function Ki(){if(ai)return oi;ai=1;var e=Ne(),t=Le();return oi=function(n){if("Function"===e(n))return t(n);};}function Zi(){if(ci)return si;ci=1;var e=Ki(),t=Xe(),n=z(),r=e(e.bind);return si=function(e,i){return t(e),void 0===i?e:n?r(e,i):function(){return e.apply(i,arguments);};},si;}function Qi(){if(li)return ui;li=1;var e=ze();return ui=e("document","documentElement");}function eo(){if(fi)return di;fi=1;var e=Le();return di=e([].slice);}function to(){if(hi)return pi;hi=1;var e=TypeError;return pi=function(t,n){if(t<n)throw new e("Not enough arguments");return t;};}function no(){if(gi)return mi;gi=1;var e=qe();return mi=/(?:ipad|iphone|ipod).*applewebkit/i.test(e);}function ro(){if(vi)return yi;vi=1;var e,t,n,r,i=A(),o=Xi(),a=Zi(),s=Ue(),c=It(),u=U(),l=Qi(),d=eo(),f=Mt(),p=to(),h=no(),m=zi(),g=i.setImmediate,y=i.clearImmediate,v=i.process,b=i.Dispatch,_=i.Function,w=i.MessageChannel,k=i.String,S=0,x={},E="onreadystatechange";u(function(){e=i.location;});var C=function(e){if(c(x,e)){var t=x[e];delete x[e],t();}},T=function(e){return function(){C(e);};},I=function(e){C(e.data);},P=function(t){i.postMessage(k(t),e.protocol+"//"+e.host);};return g&&y||(g=function(e){p(arguments.length,1);var n=s(e)?e:_(e),r=d(arguments,1);return x[++S]=function(){o(n,void 0,r);},t(S),S;},y=function(e){delete x[e];},m?t=function(e){v.nextTick(T(e));}:b&&b.now?t=function(e){b.now(T(e));}:w&&!h?(r=(n=new w()).port2,n.port1.onmessage=I,t=a(r.postMessage,r)):i.addEventListener&&s(i.postMessage)&&!i.importScripts&&e&&"file:"!==e.protocol&&!u(P)?(t=P,i.addEventListener("message",I,!1)):t=E in f("script")?function(e){l.appendChild(f("script"))[E]=function(){l.removeChild(this),C(e);};}:function(e){setTimeout(T(e),0);}),yi={set:g,clear:y};}function io(){if(_i)return bi;_i=1;var e=A(),t=$(),n=Object.getOwnPropertyDescriptor;return bi=function(r){if(!t)return e[r];var i=n(e,r);return i&&i.value;};}function oo(){if(ki)return wi;ki=1;var e=function(){this.head=null,this.tail=null;};return e.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t;},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item;}},wi=e;}function ao(){if(Ii)return Ti;Ii=1;var e,t,n,r,i,o=A(),a=io(),s=Zi(),c=ro().set,u=oo(),l=no(),d=function(){if(xi)return Si;xi=1;var e=qe();return Si=/ipad|iphone|ipod/i.test(e)&&"undefined"!=typeof Pebble;}(),f=function(){if(Ci)return Ei;Ci=1;var e=qe();return Ei=/web0s(?!.*chrome)/i.test(e);}(),p=zi(),h=o.MutationObserver||o.WebKitMutationObserver,m=o.document,g=o.process,y=o.Promise,v=a("queueMicrotask");if(!v){var b=new u(),_=function(){var t,n;for(p&&(t=g.domain)&&t.exit();n=b.get();)try{n();}catch(r){throw b.head&&e(),r;}t&&t.enter();};l||p||f||!h||!m?!d&&y&&y.resolve?((r=y.resolve(void 0)).constructor=y,i=s(r.then,r),e=function(){i(_);}):p?e=function(){g.nextTick(_);}:(c=s(c,o),e=function(){c(_);}):(t=!0,n=m.createTextNode(""),new h(_).observe(n,{characterData:!0}),e=function(){n.data=t=!t;}),v=function(t){b.head||e(),b.add(t);};}return Ti=v;}function so(){return Ri?Oi:(Ri=1,Oi=function(e){try{return{error:!1,value:e()};}catch(t){return{error:!0,value:t};}});}function co(){if(Li)return Mi;Li=1;var e=A();return Mi=e.Promise;}function uo(){return Di?Ni:(Di=1,Ni="object"==typeof Deno&&Deno&&"object"==typeof Deno.version);}function lo(){if(Ui)return ji;Ui=1;var e=A(),t=co(),n=Ue(),r=kr(),i=fn(),o=At(),a=function(){if(Fi)return Bi;Fi=1;var e=uo(),t=zi();return Bi=!e&&!t&&"object"==typeof window&&"object"==typeof document;}(),s=uo(),c=St(),u=We(),l=t&&t.prototype,d=o("species"),f=!1,p=n(e.PromiseRejectionEvent),h=r("Promise",function(){var e=i(t),n=e!==String(t);if(!n&&66===u)return!0;if(c&&(!l.catch||!l.finally))return!0;if(!u||u<51||!/native code/.test(e)){var r=new t(function(e){e(1);}),o=function(e){e(function(){},function(){});};if((r.constructor={})[d]=o,!(f=r.then(function(){})instanceof o))return!0;}return!n&&(a||s)&&!p;});return ji={CONSTRUCTOR:h,REJECTION_EVENT:p,SUBCLASSING:f};}var fo,po,ho={};function mo(){if(fo)return ho;fo=1;var e=Xe(),t=TypeError,n=function(n){var r,i;this.promise=new n(function(e,n){if(void 0!==r||void 0!==i)throw new t("Bad Promise constructor");r=e,i=n;}),this.resolve=e(r),this.reject=e(i);};return ho.f=function(e){return new n(e);},ho;}function go(){if(po)return $i;po=1;var e,t,n,r=Sr(),i=St(),o=zi(),a=A(),s=H(),c=vn(),u=qi(),l=Wi(),d=Gi(),f=Xe(),p=Ue(),h=$e(),m=Yi(),g=Ji(),y=ro().set,v=ao(),b=function(){return Ai||(Ai=1,Pi=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t);}catch(n){}}),Pi;}(),_=so(),w=oo(),k=gn(),S=co(),x=lo(),E=mo(),C="Promise",T=x.CONSTRUCTOR,I=x.REJECTION_EVENT,P=x.SUBCLASSING,O=k.getterFor(C),R=k.set,M=S&&S.prototype,L=S,N=M,D=a.TypeError,B=a.document,F=a.process,j=E.f,U=j,$=!!(B&&B.createEvent&&a.dispatchEvent),z="unhandledrejection",q=function(e){var t;return!(!h(e)||!p(t=e.then))&&t;},W=function(e,t){var n,r,i,o=t.value,a=1===t.state,c=a?e.ok:e.fail,u=e.resolve,l=e.reject,d=e.domain;try{c?(a||(2===t.rejection&&X(t),t.rejection=1),!0===c?n=o:(d&&d.enter(),n=c(o),d&&(d.exit(),i=!0)),n===e.promise?l(new D("Promise-chain cycle")):(r=q(n))?s(r,n,u,l):u(n)):l(o);}catch(f){d&&!i&&d.exit(),l(f);}},V=function(e,t){e.notified||(e.notified=!0,v(function(){for(var n,r=e.reactions;n=r.get();)W(n,e);e.notified=!1,t&&!e.rejection&&Y(e);}));},G=function(e,t,n){var r,i;$?((r=B.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),a.dispatchEvent(r)):r={promise:t,reason:n},!I&&(i=a["on"+e])?i(r):e===z&&b("Unhandled promise rejection",n);},Y=function(e){s(y,a,function(){var t,n=e.facade,r=e.value;if(J(e)&&(t=_(function(){o?F.emit("unhandledRejection",r,n):G(z,n,r);}),e.rejection=o||J(e)?2:1,t.error))throw t.value;});},J=function(e){return 1!==e.rejection&&!e.parent;},X=function(e){s(y,a,function(){var t=e.facade;o?F.emit("rejectionHandled",t):G("rejectionhandled",t,e.value);});},K=function(e,t,n){return function(r){e(t,r,n);};},Z=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,V(e,!0));},Q=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new D("Promise can't be resolved itself");var r=q(t);r?v(function(){var n={done:!1};try{s(r,t,K(Q,n,e),K(Z,n,e));}catch(i){Z(n,i,e);}}):(e.value=t,e.state=1,V(e,!1));}catch(i){Z({done:!1},i,e);}}};if(T&&(N=(L=function(t){m(this,N),f(t),s(e,this);var n=O(this);try{t(K(Q,n),K(Z,n));}catch(r){Z(n,r);}}).prototype,(e=function(e){R(this,{type:C,done:!1,notified:!1,parent:!1,reactions:new w(),rejection:!1,state:0,value:void 0});}).prototype=c(N,"then",function(e,t){var n=O(this),r=j(g(this,L));return n.parent=!0,r.ok=!p(e)||e,r.fail=p(t)&&t,r.domain=o?F.domain:void 0,0===n.state?n.reactions.add(r):v(function(){W(r,n);}),r.promise;}),t=function(){var t=new e(),n=O(t);this.promise=t,this.resolve=K(Q,n),this.reject=K(Z,n);},E.f=j=function(e){return e===L||undefined===e?new t(e):U(e);},!i&&p(S)&&M!==Object.prototype)){n=M.then,P||c(M,"then",function(e,t){var r=this;return new L(function(e,t){s(n,r,e,t);}).then(e,t);},{unsafe:!0});try{delete M.constructor;}catch(ee){}u&&u(M,N);}return r({global:!0,constructor:!0,wrap:!0,forced:T},{Promise:L}),l(L,C,!1,!0),d(C),$i;}var yo,vo,bo,_o,wo,ko,So,xo,Eo,Co,To,Io,Po,Ao,Oo,Ro,Mo,Lo={};function No(){return vo?yo:(vo=1,yo={});}function Do(){if(_o)return bo;_o=1;var e=At(),t=No(),n=e("iterator"),r=Array.prototype;return bo=function(e){return void 0!==e&&(t.Array===e||r[n]===e);};}function Bo(){if(ko)return wo;ko=1;var e=Tr(),t=Ke(),n=Be(),r=No(),i=At()("iterator");return wo=function(o){if(!n(o))return t(o,i)||t(o,"@@iterator")||r[e(o)];};}function Fo(){if(xo)return So;xo=1;var e=H(),t=Xe(),n=Wt(),r=Je(),i=Bo(),o=TypeError;return So=function(a,s){var c=arguments.length<2?i(a):s;if(t(c))return n(e(c,a));throw new o(r(a)+" is not iterable");},So;}function jo(){if(Co)return Eo;Co=1;var e=H(),t=Wt(),n=Ke();return Eo=function(r,i,o){var a,s;t(r);try{if(!(a=n(r,"return"))){if("throw"===i)throw o;return o;}a=e(a,r);}catch(c){s=!0,a=c;}if("throw"===i)throw o;if(s)throw a;return t(a),o;};}function Uo(){if(Io)return To;Io=1;var e=Zi(),t=H(),n=Wt(),r=Je(),i=Do(),o=Un(),a=He(),s=Fo(),c=Bo(),u=jo(),l=TypeError,d=function(e,t){this.stopped=e,this.result=t;},f=d.prototype;return To=function(p,h,m){var g,y,v,b,_,w,k,S=m&&m.that,x=!(!m||!m.AS_ENTRIES),E=!(!m||!m.IS_RECORD),C=!(!m||!m.IS_ITERATOR),T=!(!m||!m.INTERRUPTED),I=e(h,S),P=function(e){return g&&u(g,"normal",e),new d(!0,e);},A=function(e){return x?(n(e),T?I(e[0],e[1],P):I(e[0],e[1])):T?I(e,P):I(e);};if(E)g=p.iterator;else if(C)g=p;else{if(!(y=c(p)))throw new l(r(p)+" is not iterable");if(i(y)){for(v=0,b=o(p);b>v;v++)if((_=A(p[v]))&&a(f,_))return _;return new d(!1);}g=s(p,y);}for(w=E?p.next:g.next;!(k=t(w,g)).done;){try{_=A(k.value);}catch(O){u(g,"throw",O);}if("object"==typeof _&&_&&a(f,_))return _;}return new d(!1);};}function $o(){if(Ao)return Po;Ao=1;var e=At()("iterator"),t=!1;try{var n=0,r={next:function(){return{done:!!n++};},return:function(){t=!0;}};r[e]=function(){return this;},Array.from(r,function(){throw 2;});}catch(i){}return Po=function(n,r){try{if(!r&&!t)return!1;}catch(i){return!1;}var o=!1;try{var a={};a[e]=function(){return{next:function(){return{done:o=!0};}};},n(a);}catch(i){}return o;};}function zo(){if(Ro)return Oo;Ro=1;var e=co(),t=$o(),n=lo().CONSTRUCTOR;return Oo=n||!t(function(t){e.all(t).then(void 0,function(){});});}var Ho,qo={};var Wo,Vo={};var Go,Yo={};var Jo,Xo,Ko,Zo,Qo={};function ea(){if(Ko)return Qo;Ko=1;var e=Sr(),t=ze(),n=St(),r=co(),i=lo().CONSTRUCTOR,o=function(){if(Xo)return Jo;Xo=1;var e=Wt(),t=$e(),n=mo();return Jo=function(r,i){if(e(r),t(i)&&i.constructor===r)return i;var o=n.f(r);return(0,o.resolve)(i),o.promise;};}(),a=t("Promise"),s=n&&!i;return e({target:"Promise",stat:!0,forced:n||i},{resolve:function(e){return o(s&&this===a?r:this,e);}}),Qo;}!function(){Zo||(Zo=1,go(),function(){if(Mo)return Lo;Mo=1;var e=Sr(),t=H(),n=Xe(),r=mo(),i=so(),o=Uo();e({target:"Promise",stat:!0,forced:zo()},{all:function(e){var a=this,s=r.f(a),c=s.resolve,u=s.reject,l=i(function(){var r=n(a.resolve),i=[],s=0,l=1;o(e,function(e){var n=s++,o=!1;l++,t(r,a,e).then(function(e){o||(o=!0,i[n]=e,--l||c(i));},u);}),--l||c(i);});return l.error&&u(l.value),s.promise;}});}(),function(){if(Ho)return qo;Ho=1;var e=Sr(),t=St(),n=lo().CONSTRUCTOR,r=co(),i=ze(),o=Ue(),a=vn(),s=r&&r.prototype;if(e({target:"Promise",proto:!0,forced:n,real:!0},{catch:function(e){return this.then(void 0,e);}}),!t&&o(r)){var c=i("Promise").prototype.catch;s.catch!==c&&a(s,"catch",c,{unsafe:!0});}}(),function(){if(Wo)return Vo;Wo=1;var e=Sr(),t=H(),n=Xe(),r=mo(),i=so(),o=Uo();e({target:"Promise",stat:!0,forced:zo()},{race:function(e){var a=this,s=r.f(a),c=s.reject,u=i(function(){var r=n(a.resolve);o(e,function(e){t(r,a,e).then(s.resolve,c);});});return u.error&&c(u.value),s.promise;}});}(),function(){if(Go)return Yo;Go=1;var e=Sr(),t=mo();e({target:"Promise",stat:!0,forced:lo().CONSTRUCTOR},{reject:function(e){var n=t.f(this);return(0,n.reject)(e),n.promise;}});}(),ea());}();var ta,na,ra,ia,oa,aa,sa,ca,ua,la={};function da(){if(ia)return ra;ia=1;var e=It(),t=Ue(),n=Tt(),r=hn(),i=function(){if(na)return ta;na=1;var e=U();return ta=!e(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e())!==e.prototype;});}(),o=r("IE_PROTO"),a=Object,s=a.prototype;return ra=i?a.getPrototypeOf:function(r){var i=n(r);if(e(i,o))return i[o];var c=i.constructor;return t(c)&&i instanceof c?c.prototype:i instanceof a?s:null;};}function fa(){if(aa)return oa;aa=1;var e=zn(),t=Hn();return oa=Object.keys||function(n){return e(n,t);};}function pa(){if(ca)return sa;ca=1;var e=$(),t=U(),n=Le(),r=da(),i=fa(),o=je(),a=n(Re().f),s=n([].push),c=e&&t(function(){var e=Object.create(null);return e[2]=2,!a(e,2);}),u=function(t){return function(n){for(var u,l=o(n),d=i(l),f=c&&null===r(l),p=d.length,h=0,m=[];p>h;)u=d[h++],e&&!(f?u in l:a(l,u))||s(m,t?[u,l[u]]:l[u]);return m;};};return sa={entries:u(!0),values:u(!1)};}!function(){if(ua)return la;ua=1;var e=Sr(),t=pa().values;e({target:"Object",stat:!0},{values:function(e){return t(e);}});}();var ha,ma={};!function(){if(ha)return ma;ha=1;var e=Sr(),t=U(),n=Tt(),r=Ot();e({target:"Date",proto:!0,arity:1,forced:t(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1;}});})},{toJSON:function(e){var t=n(this),i=r(t,"number");return"number"!=typeof i||isFinite(i)?t.toISOString():null;}});}();var ga,ya,va,ba=function(e){function t(e,n){var r;return o(this,t),(r=i(this,t,[e])).details=n,r.name=r.constructor.name,r;}return h(t,e),l(t,null,[{key:"is",value:function(e){return null!=e&&"object"==typeof e&&(e instanceof t||"message"in e&&"string"==typeof e.message&&"stack"in e&&"details"in e);}},{key:"from",value:function(e){if(null==e)return new t("Unknown error");if(e instanceof t)return e;if(e instanceof Error){var n=new t(e.message);return n.stack=e.stack,n;}return"object"!=typeof e?new t(String(e)):function(e){return"message"in e&&"string"==typeof e.message;}(e)?new t(e.message):new t(JSON.stringify(e));}},{key:"wrap",value:function(e,n,r){var i=t.from(e),o=new t("".concat(n,": ").concat(i.message),y(y({},i.details),r));return o.stack=i.stack,o;}}]);}(x(Error)),_a={};function wa(){if(ya)return ga;ya=1;var e=Zi(),t=Le(),n=De(),r=Tt(),i=Un(),o=Pr(),a=t([].push),s=function(t){var s=1===t,c=2===t,u=3===t,l=4===t,d=6===t,f=7===t,p=5===t||d;return function(h,m,g,y){for(var v,b,_=r(h),w=n(_),k=i(w),S=e(m,g),x=0,E=y||o,C=s?E(h,k):c||f?E(h,0):void 0;k>x;x++)if((p||x in w)&&(b=S(v=w[x],x,_),t))if(s)C[x]=b;else if(b)switch(t){case 3:return!0;case 5:return v;case 6:return x;case 2:a(C,v);}else switch(t){case 4:return!1;case 7:a(C,v);}return d?-1:u||l?l:C;};};return ga={forEach:s(0),map:s(1),filter:s(2),some:s(3),every:s(4),find:s(5),findIndex:s(6),filterReject:s(7)};}!function(){if(va)return _a;va=1;var e=Sr(),t=wa().map;e({target:"Array",proto:!0,forced:!Ar()("map")},{map:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0);}});}();var ka,Sa,xa,Ea,Ca,Ta,Ia={};function Pa(){if(Sa)return ka;Sa=1;var e=Tr(),t=String;return ka=function(n){if("Symbol"===e(n))throw new TypeError("Cannot convert a Symbol value to a string");return t(n);};}function Aa(){if(Ea)return xa;Ea=1;var e=Wt();return xa=function(){var t=e(this),n="";return t.hasIndices&&(n+="d"),t.global&&(n+="g"),t.ignoreCase&&(n+="i"),t.multiline&&(n+="m"),t.dotAll&&(n+="s"),t.unicode&&(n+="u"),t.unicodeSets&&(n+="v"),t.sticky&&(n+="y"),n;};}function Oa(){if(Ta)return Ca;Ta=1;var e=U(),t=A().RegExp,n=e(function(){var e=t("a","y");return e.lastIndex=2,null!==e.exec("abcd");}),r=n||e(function(){return!t("a","y").sticky;}),i=n||e(function(){var e=t("^r","gy");return e.lastIndex=2,null!==e.exec("str");});return Ca={BROKEN_CARET:i,MISSED_STICKY:r,UNSUPPORTED_Y:n};}var Ra,Ma,La,Na,Da,Ba,Fa,ja,Ua,$a,za={};function Ha(){if(Ra)return za;Ra=1;var e=$(),t=qt(),n=Vt(),r=Wt(),i=je(),o=fa();return za.f=e&&!t?Object.defineProperties:function(e,t){r(e);for(var a,s=i(t),c=o(t),u=c.length,l=0;u>l;)n.f(e,a=c[l++],s[a]);return e;},za;}function qa(){if(La)return Ma;La=1;var e,t=Wt(),n=Ha(),r=Hn(),i=mn(),o=Qi(),a=Mt(),s=hn(),c="prototype",u="script",l=s("IE_PROTO"),d=function(){},f=function(e){return"<"+u+">"+e+"</"+u+">";},p=function(e){e.write(f("")),e.close();var t=e.parentWindow.Object;return e=null,t;},h=function(){try{e=new ActiveXObject("htmlfile");}catch(n){}h="undefined"!=typeof document?document.domain&&e?p(e):function(){var e,t=a("iframe"),n="java"+u+":";return t.style.display="none",o.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(f("document.F=Object")),e.close(),e.F;}():p(e);for(var t=r.length;t--;)delete h[c][r[t]];return h();};return i[l]=!0,Ma=Object.create||function(e,r){var i;return null!==e?(d[c]=t(e),i=new d(),d[c]=null,i[l]=e):i=h(),void 0===r?i:n.f(i,r);};}function Wa(){if(Da)return Na;Da=1;var e=U(),t=A().RegExp;return Na=e(function(){var e=t(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags);});}function Va(){if(Fa)return Ba;Fa=1;var e=U(),t=A().RegExp;return Ba=e(function(){var e=t("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c");});}function Ga(){if(Ua)return ja;Ua=1;var e=H(),t=Le(),n=Pa(),r=Aa(),i=Oa(),o=Ct(),a=qa(),s=gn().get,c=Wa(),u=Va(),l=o("native-string-replace",String.prototype.replace),d=RegExp.prototype.exec,f=d,p=t("".charAt),h=t("".indexOf),m=t("".replace),g=t("".slice),y=function(){var t=/a/,n=/b*/g;return e(d,t,"a"),e(d,n,"a"),0!==t.lastIndex||0!==n.lastIndex;}(),v=i.BROKEN_CARET,b=void 0!==/()??/.exec("")[1];return(y||b||v||c||u)&&(f=function(t){var i,o,c,u,_,w,k,S=this,x=s(S),E=n(t),C=x.raw;if(C)return C.lastIndex=S.lastIndex,i=e(f,C,E),S.lastIndex=C.lastIndex,i;var T=x.groups,I=v&&S.sticky,P=e(r,S),A=S.source,O=0,R=E;if(I&&(P=m(P,"y",""),-1===h(P,"g")&&(P+="g"),R=g(E,S.lastIndex),S.lastIndex>0&&(!S.multiline||S.multiline&&"\n"!==p(E,S.lastIndex-1))&&(A="(?: "+A+")",R=" "+R,O++),o=new RegExp("^(?:"+A+")",P)),b&&(o=new RegExp("^"+A+"$(?!\\s)",P)),y&&(c=S.lastIndex),u=e(d,I?o:S,R),I?u?(u.input=g(u.input,O),u[0]=g(u[0],O),u.index=S.lastIndex,S.lastIndex+=u[0].length):S.lastIndex=0:y&&u&&(S.lastIndex=S.global?u.index+u[0].length:c),b&&u&&u.length>1&&e(l,u[0],o,function(){for(_=1;_<arguments.length-2;_++)void 0===arguments[_]&&(u[_]=void 0);}),u&&T)for(u.groups=w=a(null),_=0;_<T.length;_++)w[(k=T[_])[0]]=u[k[1]];return u;}),ja=f;}function Ya(){if($a)return Ia;$a=1;var e=Sr(),t=Ga();return e({target:"RegExp",proto:!0,forced:/./.exec!==t},{exec:t}),Ia;}Ya();var Ja,Xa,Ka;function Za(){if(Xa)return Ja;Xa=1;var e=Bn(),t=Pa(),n=Fe(),r=RangeError;return Ja=function(i){var o=t(n(this)),a="",s=e(i);if(s<0||s===1/0)throw new r("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(o+=o))1&s&&(a+=o);return a;};}!function(){Ka||(Ka=1,Sr()({target:"String",proto:!0},{repeat:Za()}));}();var Qa,es,ts,ns,rs,is,os,as,ss,cs,us,ls={};function ds(){if(es)return Qa;es=1,Ya();var e=H(),t=vn(),n=Ga(),r=U(),i=At(),o=Gt(),a=i("species"),s=RegExp.prototype;return Qa=function(c,u,l,d){var f=i(c),p=!r(function(){var e={};return e[f]=function(){return 7;},7!==""[c](e);}),h=p&&!r(function(){var e=!1,t=/a/;return"split"===c&&((t={}).constructor={},t.constructor[a]=function(){return t;},t.flags="",t[f]=/./[f]),t.exec=function(){return e=!0,null;},t[f](""),!e;});if(!p||!h||l){var m=/./[f],g=u(f,""[c],function(t,r,i,o,a){var c=r.exec;return c===n||c===s.exec?p&&!a?{done:!0,value:e(m,r,i,o)}:{done:!0,value:e(t,i,r,o)}:{done:!1};});t(String.prototype,c,g[0]),t(s,f,g[1]);}d&&o(s[f],"sham",!0);};}function fs(){if(ns)return ts;ns=1;var e=Le(),t=Bn(),n=Pa(),r=Fe(),i=e("".charAt),o=e("".charCodeAt),a=e("".slice),s=function(e){return function(s,c){var u,l,d=n(r(s)),f=t(c),p=d.length;return f<0||f>=p?e?"":void 0:(u=o(d,f))<55296||u>56319||f+1===p||(l=o(d,f+1))<56320||l>57343?e?i(d,f):u:e?a(d,f,f+2):l-56320+(u-55296<<10)+65536;};};return ts={codeAt:s(!1),charAt:s(!0)};}function ps(){if(is)return rs;is=1;var e=fs().charAt;return rs=function(t,n,r){return n+(r?e(t,n).length:1);};}function hs(){if(cs)return ss;cs=1;var e=H(),t=Wt(),n=Ue(),r=Ne(),i=Ga(),o=TypeError;return ss=function(a,s){var c=a.exec;if(n(c)){var u=e(c,a,s);return null!==u&&t(u),u;}if("RegExp"===r(a))return e(i,a,s);throw new o("RegExp#exec called on incompatible receiver");};}!function(){if(us)return ls;us=1;var e=Xi(),t=H(),n=Le(),r=ds(),i=U(),o=Wt(),a=Ue(),s=Be(),c=Bn(),u=jn(),l=Pa(),d=Fe(),f=ps(),p=Ke(),h=function(){if(as)return os;as=1;var e=Le(),t=Tt(),n=Math.floor,r=e("".charAt),i=e("".replace),o=e("".slice),a=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;return os=function(e,c,u,l,d,f){var p=u+e.length,h=l.length,m=s;return void 0!==d&&(d=t(d),m=a),i(f,m,function(t,i){var a;switch(r(i,0)){case"$":return"$";case"&":return e;case"`":return o(c,0,u);case"'":return o(c,p);case"<":a=d[o(i,1,-1)];break;default:var s=+i;if(0===s)return t;if(s>h){var f=n(s/10);return 0===f?t:f<=h?void 0===l[f-1]?r(i,1):l[f-1]+r(i,1):t;}a=l[s-1];}return void 0===a?"":a;});};}(),m=hs(),g=At()("replace"),y=Math.max,v=Math.min,b=n([].concat),_=n([].push),w=n("".indexOf),k=n("".slice),S=function(e){return void 0===e?e:String(e);},x=function(){return"$0"==="a".replace(/./,"$0");}(),E=function(){return!!/./[g]&&""===/./[g]("a","$0");}();r("replace",function(n,r,i){var x=E?"$":"$0";return[function(e,n){var i=d(this),o=s(e)?void 0:p(e,g);return o?t(o,e,i,n):t(r,l(i),e,n);},function(t,n){var s=o(this),d=l(t);if("string"==typeof n&&-1===w(n,x)&&-1===w(n,"$<")){var p=i(r,s,d,n);if(p.done)return p.value;}var g=a(n);g||(n=l(n));var E,C=s.global;C&&(E=s.unicode,s.lastIndex=0);for(var T,I=[];null!==(T=m(s,d))&&(_(I,T),C);){""===l(T[0])&&(s.lastIndex=f(d,u(s.lastIndex),E));}for(var P="",A=0,O=0;O<I.length;O++){for(var R,M=l((T=I[O])[0]),L=y(v(c(T.index),d.length),0),N=[],D=1;D<T.length;D++)_(N,S(T[D]));var B=T.groups;if(g){var F=b([M],N,L,d);void 0!==B&&_(F,B),R=l(e(n,void 0,F));}else R=h(M,d,L,N,B,n);L>=A&&(P+=k(d,A,L)+R,A=L+M.length);}return P+k(d,A);}];},!!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e;},"7"!=="".replace(e,"$<a>");})||!x||E);}();var ms,gs,ys,vs,bs,_s,ws,ks,Ss,xs={};function Es(){return gs?ms:(gs=1,ms={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0});}function Cs(){if(vs)return ys;vs=1;var e=Mt()("span").classList,t=e&&e.constructor&&e.constructor.prototype;return ys=t===Object.prototype?void 0:t;}function Ts(){if(_s)return bs;_s=1;var e=U();return bs=function(t,n){var r=[][t];return!!r&&e(function(){r.call(null,n||function(){return 1;},1);});};}!function(){if(Ss)return xs;Ss=1;var e=A(),t=Es(),n=Cs(),r=function(){if(ks)return ws;ks=1;var e=wa().forEach,t=Ts()("forEach");return ws=t?[].forEach:function(t){return e(this,t,arguments.length>1?arguments[1]:void 0);},ws;}(),i=Gt(),o=function(e){if(e&&e.forEach!==r)try{i(e,"forEach",r);}catch(t){e.forEach=r;}};for(var a in t)t[a]&&o(e[a]&&e[a].prototype);o(n);}();var Is=["TypeError: Failed to fetch","AbortError: Request cancelled","TypeError: Load failed","TypeError: NetworkError when attempting to fetch resource.","TypeError: A conexÃ£o de rede foi perdiÂ§da.","TypeError: The connection has been lost.","TypeError: cancelado","TypeError: A conexÃ£o de rede foi perdida.","TypeError: no se puede analizar la respuesta"];var Ps,As,Os=l(function e(){o(this,e);}),Rs=function(e){return e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss",e;}(Rs||{}),Ms=function(e){function t(e){var n;return o(this,t),(n=i(this,t)).sentry=e,n;}return h(t,e),l(t,[{key:"trace",value:function(e){var t=this,n=this.sentry.startInactiveSpan({name:e,forceTransaction:!0});return{finish:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rs.Ok;n.setStatus({code:e===Rs.Ok?1:2,message:e}),n.end();},addSpan:function(e,r){var i,o;function a(){i&&o&&i.setStatus({code:o===Rs.Ok?1:2,message:o});}return t.sentry.withActiveSpan(n,function(){i=t.sentry.startInactiveSpan({name:e,op:r}),a();}),{finish:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rs.Ok;o=e,a();}};}};}}]);}(Os),Ls={exports:{}},Ns={};function Ds(){if(Ps)return Ns;Ps=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),a=Symbol.for("react.context"),s=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),d=Symbol.iterator;var f={isMounted:function(){return!1;},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,h={};function m(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||f;}function g(){}function y(e,t,n){this.props=e,this.context=t,this.refs=h,this.updater=n||f;}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState");},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate");},g.prototype=m.prototype;var v=y.prototype=new g();v.constructor=y,p(v,m.prototype),v.isPureReactComponent=!0;var b=Array.isArray,_=Object.prototype.hasOwnProperty,w={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(t,n,r){var i,o={},a=null,s=null;if(null!=n)for(i in void 0!==n.ref&&(s=n.ref),void 0!==n.key&&(a=""+n.key),n)_.call(n,i)&&!k.hasOwnProperty(i)&&(o[i]=n[i]);var c=arguments.length-2;if(1===c)o.children=r;else if(1<c){for(var u=Array(c),l=0;l<c;l++)u[l]=arguments[l+2];o.children=u;}if(t&&t.defaultProps)for(i in c=t.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:e,type:t,key:a,ref:s,props:o,_owner:w.current};}function x(t){return"object"==typeof t&&null!==t&&t.$$typeof===e;}var E=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e];});}(""+e.key):t.toString(36);}function T(n,r,i,o,a){var s=typeof n;"undefined"!==s&&"boolean"!==s||(n=null);var c=!1;if(null===n)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(n.$$typeof){case e:case t:c=!0;}}if(c)return a=a(c=n),n=""===o?"."+C(c,0):o,b(a)?(i="",null!=n&&(i=n.replace(E,"$&/")+"/"),T(a,r,i,"",function(e){return e;})):null!=a&&(x(a)&&(a=function(t,n){return{$$typeof:e,type:t.type,key:n,ref:t.ref,props:t.props,_owner:t._owner};}(a,i+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(E,"$&/")+"/")+n)),r.push(a)),1;if(c=0,o=""===o?".":o+":",b(n))for(var u=0;u<n.length;u++){var l=o+C(s=n[u],u);c+=T(s,r,i,l,a);}else if(l=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null;}(n),"function"==typeof l)for(n=l.call(n),u=0;!(s=n.next()).done;)c+=T(s=s.value,r,i,l=o+C(s,u++),a);else if("object"===s)throw r=String(n),Error("Objects are not valid as a React child (found: "+("[object Object]"===r?"object with keys {"+Object.keys(n).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return c;}function I(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",function(e){return t.call(n,e,i++);}),r;}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t);},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t);}),-1===e._status&&(e._status=0,e._result=t);}if(1===e._status)return e._result.default;throw e._result;}var A={current:null},O={transition:null},R={ReactCurrentDispatcher:A,ReactCurrentBatchConfig:O,ReactCurrentOwner:w};function M(){throw Error("act(...) is not supported in production builds of React.");}return Ns.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments);},n);},count:function(e){var t=0;return I(e,function(){t++;}),t;},toArray:function(e){return I(e,function(e){return e;})||[];},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e;}},Ns.Component=m,Ns.Fragment=n,Ns.Profiler=i,Ns.PureComponent=y,Ns.StrictMode=r,Ns.Suspense=c,Ns.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,Ns.act=M,Ns.cloneElement=function(t,n,r){if(null==t)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=p({},t.props),o=t.key,a=t.ref,s=t._owner;if(null!=n){if(void 0!==n.ref&&(a=n.ref,s=w.current),void 0!==n.key&&(o=""+n.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in n)_.call(n,u)&&!k.hasOwnProperty(u)&&(i[u]=void 0===n[u]&&void 0!==c?c[u]:n[u]);}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){c=Array(u);for(var l=0;l<u;l++)c[l]=arguments[l+2];i.children=c;}return{$$typeof:e,type:t.type,key:o,ref:a,props:i,_owner:s};},Ns.createContext=function(e){return(e={$$typeof:a,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e;},Ns.createElement=S,Ns.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t;},Ns.createRef=function(){return{current:null};},Ns.forwardRef=function(e){return{$$typeof:s,render:e};},Ns.isValidElement=x,Ns.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:P};},Ns.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t};},Ns.startTransition=function(e){var t=O.transition;O.transition={};try{e();}finally{O.transition=t;}},Ns.unstable_act=M,Ns.useCallback=function(e,t){return A.current.useCallback(e,t);},Ns.useContext=function(e){return A.current.useContext(e);},Ns.useDebugValue=function(){},Ns.useDeferredValue=function(e){return A.current.useDeferredValue(e);},Ns.useEffect=function(e,t){return A.current.useEffect(e,t);},Ns.useId=function(){return A.current.useId();},Ns.useImperativeHandle=function(e,t,n){return A.current.useImperativeHandle(e,t,n);},Ns.useInsertionEffect=function(e,t){return A.current.useInsertionEffect(e,t);},Ns.useLayoutEffect=function(e,t){return A.current.useLayoutEffect(e,t);},Ns.useMemo=function(e,t){return A.current.useMemo(e,t);},Ns.useReducer=function(e,t,n){return A.current.useReducer(e,t,n);},Ns.useRef=function(e){return A.current.useRef(e);},Ns.useState=function(e){return A.current.useState(e);},Ns.useSyncExternalStore=function(e,t,n){return A.current.useSyncExternalStore(e,t,n);},Ns.useTransition=function(){return A.current.useTransition();},Ns.version="18.3.1",Ns;}var Bs=function(){return As||(As=1,Ls.exports=Ds()),Ls.exports;}();var Fs,js={};!function(){if(Fs)return js;Fs=1;var e=Sr(),t=xr(),n=Ir(),r=$e(),i=Fn(),o=Un(),a=je(),s=Er(),c=At(),u=Ar(),l=eo(),d=u("slice"),f=c("species"),p=Array,h=Math.max;e({target:"Array",proto:!0,forced:!d},{slice:function(e,c){var u,d,m,g=a(this),y=o(g),v=i(e,y),b=i(void 0===c?y:c,y);if(t(g)&&(u=g.constructor,(n(u)&&(u===p||t(u.prototype))||r(u)&&null===(u=u[f]))&&(u=void 0),u===p||void 0===u))return l(g,v,b);for(d=new(void 0===u?p:u)(h(b-v,0)),m=0;v<b;v++,m++)v in g&&s(d,m,g[v]);return d.length=m,d;}});}();var Us,$s={};!function(){if(Us)return $s;Us=1;var e=H(),t=ds(),n=Wt(),r=Be(),i=jn(),o=Pa(),a=Fe(),s=Ke(),c=ps(),u=hs();t("match",function(t,l,d){return[function(n){var i=a(this),c=r(n)?void 0:s(n,t);return c?e(c,n,i):new RegExp(n)[t](o(i));},function(e){var t=n(this),r=o(e),a=d(l,t,r);if(a.done)return a.value;if(!t.global)return u(t,r);var s=t.unicode;t.lastIndex=0;for(var f,p=[],h=0;null!==(f=u(t,r));){var m=o(f[0]);p[h]=m,""===m&&(t.lastIndex=c(r,i(t.lastIndex),s)),h++;}return 0===h?null:p;}];});}();var zs,Hs={};!function(){if(zs)return Hs;zs=1;var e=Sr(),t=wa().filter;e({target:"Array",proto:!0,forced:!Ar()("filter")},{filter:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0);}});}();var qs,Ws,Vs,Gs,Ys={};function Js(){if(Ws)return qs;Ws=1;var e=H(),t=It(),n=He(),r=Aa(),i=RegExp.prototype;return qs=function(o){var a=o.flags;return void 0!==a||"flags"in i||t(o,"flags")||!n(i,o)?a:e(r,o);};}function Xs(){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16);});}().split("").filter(function(e){return"-"!==e;}).join("");}function Ks(){return Xs().slice(0,16);}function Zs(){return Date.now()/1e3;}!function(){if(Vs)return Ys;Vs=1;var e=dn().PROPER,t=vn(),n=Wt(),r=Pa(),i=U(),o=Js(),a="toString",s=RegExp.prototype,c=s[a],u=i(function(){return"/a/b"!==c.call({source:"a",flags:"b"});}),l=e&&c.name!==a;(u||l)&&t(s,a,function(){var e=n(this);return"/"+r(e.source)+"/"+r(o(e));},{unsafe:!0});}();var Qs,ec=function(){return l(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"function";o(this,e),this.name=t,this.op=n,this.startTimestamp=Zs(),this.status="",this.id=Ks(),this.endTimestamp=0;},[{key:"isFinished",value:function(){return!!this.endTimestamp;}},{key:"finish",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rs.Ok;this.endTimestamp=Zs(),this.status=e;}}]);}(),tc=function(e){function t(e,n){var r;return o(this,t),(r=i(this,t,[e])).onceFinish=n,r.spans=[],r.traceId=Xs(),r.id=Xs(),r;}return h(t,e),l(t,[{key:"getLastSpanId",value:function(){var e=this.getLastSpan();return e?e.id:Ks();}},{key:"addSpan",value:function(e,t){var n=new ec(e,t);return this.spans.push(n),n;}},{key:"finish",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rs.Ok,n=this.isFinished(),r=this.getLastSpan();f(p(t.prototype),"finish",this).call(this,e),r&&!r.isFinished()&&r.finish(e),n||this.onceFinish();}},{key:"getLastSpan",value:function(){return this.spans[this.spans.length-1];}}]);}(ec),nc=function(e){function t(e,n,r,a){var s;return o(this,t),(s=i(this,t)).environment=e,s.releaseVersion=n,s.envelopeUrl=r,s.sampleRate=a,s.currentTrace=null,s;}return h(t,e),l(t,[{key:"trace",value:function(e){var t=this,n=new tc(e,function(){t.sendTransaction(n),t.currentTrace===n&&(t.currentTrace=null);});return this.currentTrace=n,this.currentTrace;}},{key:"sendTransaction",value:function(e){if(this.allowBySampleRate()){var t={transaction:e.name,type:"transaction",release:this.releaseVersion,platform:"javascript",environment:this.environment,event_id:e.id,timestamp:e.endTimestamp,start_timestamp:e.startTimestamp,contexts:{trace:{op:e.op,trace_id:e.traceId,span_id:Ks(),status:e.status}},spans:e.spans.map(function(t){return{span_id:t.id.slice(0,16),op:t.op,description:t.name,timestamp:t.endTimestamp,start_timestamp:t.startTimestamp,status:t.status,trace_id:e.traceId};}),sdk:{name:"payments.tiny-sdk",version:"2.0.0"}},n=JSON.stringify({event_id:t.event_id,sample_rate:1,sent_at:new Date().toISOString(),sdk:{name:"payments.tiny-sdk",version:"2.0.0"}});n+="\n",n+=JSON.stringify({type:"transaction"}),n+="\n",n+=JSON.stringify(t),n+="\n",this.request(n,this.envelopeUrl);}}},{key:"allowBySampleRate",value:function(){return Math.random()<this.sampleRate;}},{key:"request",value:function(e,t){if(t&&e){var n=new XMLHttpRequest();n.open("post",t,!0),n.send(e);}}}],[{key:"parseDsn",value:function(e){if(!e)return{storeUrl:"",envelopeUrl:"",publicKey:""};var n=_(t.DsnRegex.exec(e).slice(1),6),r=n[0],i=n[1],o=n[3],a="",s=n[5],c=s.split("/");if(c.length>1&&(a=c.slice(0,-1).join("/"),s=c.pop()),s){var u=s.match(/^\d+/);u&&(s=u[0]);}return{publicKey:i||"",storeUrl:"".concat(r,"://").concat(o).concat(a,"/api/").concat(s,"/store/?sentry_version=7&sentry_key=").concat(i,"&sentry_debug=true"),envelopeUrl:"".concat(r,"://").concat(o).concat(a,"/api/").concat(s,"/envelope/?sentry_version=7&sentry_key=").concat(i)};}}]);}(Os);(Gs=nc).sentryId=Xs,Gs.DsnRegex=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;var rc=function(){function e(t){var n=this;o(this,e),this.config=t,this.currentTeam=e.defaultTeam,this.unsentErrors=[],this.unsentWarnings=[],this.Sentry=null,this.resolveInit=function(){},this.initStatus=new Promise(function(e){n.resolveInit=e;}),this.currentTeam=t.team||e.defaultTeam;var r=function(e){return n.error(e.detail.exception);},i=function(e){return n.error(e);};document.addEventListener("captureException",r),document.addEventListener("unhandledrejection",i);var a=window.onerror;window.onerror=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i;(n.error(t[0]),a)&&(i=n.originalWindowOnErrorHandler).call.apply(i,[window].concat(t));},this.clearWindowCallbacks=function(){window.onerror=a,document.removeEventListener("captureException",r),document.removeEventListener("unhandledrejection",i);};var s=nc.parseDsn(t.dsn||"").envelopeUrl;this.tinySentryTracer=new nc(t.environment||"",t.release||"",s,this.getSampleRate());}return l(e,[{key:"init",value:function(t){var n=this;this.config.isProduction=t,Promise.resolve().then(()=>dM).then(function(t){n.clearWindowCallbacks(),t.init({dsn:n.config.dsn,environment:n.config.environment,release:n.config.release,denyUrls:n.config.denyUrl||e.defaultDenyUrls,ignoreErrors:n.config.ignoreErrors||e.defaultIgnoreErrors,integrations:[t.browserTracingIntegration({beforeStartSpan:function(e){return y(y({},e),{},{name:n.config.pageLoadTransactionName});}})],tracesSampleRate:n.getSampleRate()}),n.Sentry=t,n.resolveInit();var r=n.currentTeam;n.unsentWarnings.forEach(function(e){var t=e.value,r=e.extra,i=e.team;n.setTeam(i),n.warning(t,r);}),n.unsentErrors.forEach(function(e){var t=e.value,r=e.extra,i=e.team;n.setTeam(i),n.error(t,r);}),n.setTeam(r);});}},{key:"setPageLoadTransactionName",value:function(e){this.config.pageLoadTransactionName=e;}},{key:"error",value:function(e,t){this.Sentry?this.Sentry.captureException(e,{extra:t}):this.unsentErrors.push({value:e,extra:t,team:this.currentTeam}),this.config.isProduction||console.error(e,t);}},{key:"warning",value:function(e,t){this.Sentry?this.Sentry.captureException(e,{extra:t,level:"warning"}):this.unsentWarnings.push({value:e,extra:t,team:this.currentTeam}),this.config.isProduction||console.warn(e,t);}},{key:"addBreadcrumb",value:function(e){this.Sentry&&this.Sentry.addBreadcrumb(e);}},{key:"setUser",value:function(e){this.Sentry&&this.Sentry.setUser(e);}},{key:"setTeam",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.config.team||e.defaultTeam;this.currentTeam=t,this.Sentry&&this.Sentry.setTag("team",t);}},{key:"getErrorBoundary",value:function(){return this.Sentry?this.Sentry.ErrorBoundary:function(e){return e.children;};}},{key:"getLastEventId",value:function(){if(this.Sentry)return this.Sentry.lastEventId();}},{key:"ready",value:function(){return this.initStatus;}},{key:"getTeamBoundary",value:function(){return function(e){return function(t){var n=t.children,r=t.team;return Bs.useEffect(function(){return e.setTeam(r),function(){e.setTeam();};},[r]),n;};}({setTeam:this.setTeam.bind(this)});}},{key:"getTracer",value:function(){return this.Sentry?new Ms(this.Sentry):this.tinySentryTracer;}},{key:"getSampleRate",value:function(){return this.config.isProduction?this.config.productionSampleRate||.2:1;}}]);}();(Qs=rc).defaultTeam="frontend-platform",Qs.defaultDenyUrls=[/graph\.facebook\.com/i,/connect\.facebook\.net\/en_US\/all\.js/i,/eatdifferent\.com\.woopra-ns\.com/i,/static\.woopra\.com\/js\/woopra\.js/i,/extensions\//i,/^chrome-extension:\/\//i,/^chrome:\/\//i,/safari-(web-)?extension:/,/127\.0\.0\.1:4001\/isrunning/i,/webappstoolbarba\.texthelp\.com\//i,/metrics\.itunes\.apple\.com\.edgesuite\.net\//i],Qs.defaultIgnoreErrors=w(Is);var ic,oc,ac,sc={};function cc(){if(oc)return ic;oc=1;var e=At(),t=qa(),n=Vt().f,r=e("unscopables"),i=Array.prototype;return void 0===i[r]&&n(i,r,{configurable:!0,value:t(null)}),ic=function(e){i[r][e]=!0;};}!function(){if(ac)return sc;ac=1;var e=Sr(),t=$n().includes,n=U(),r=cc();e({target:"Array",proto:!0,forced:n(function(){return!Array(1).includes();})},{includes:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0);}}),r("includes");}();var uc,lc,dc,fc={};!function(){if(dc)return fc;dc=1;var e=Sr(),t=function(){if(lc)return uc;lc=1;var e=Xe(),t=Tt(),n=De(),r=Un(),i=TypeError,o="Reduce of empty array with no initial value",a=function(a){return function(s,c,u,l){var d=t(s),f=n(d),p=r(d);if(e(c),0===p&&u<2)throw new i(o);var h=a?p-1:0,m=a?-1:1;if(u<2)for(;;){if(h in f){l=f[h],h+=m;break;}if(h+=m,a?h<0:p<=h)throw new i(o);}for(;a?h>=0:p>h;h+=m)h in f&&(l=c(l,f[h],h,d));return l;};};return uc={left:a(!1),right:a(!0)};}().left,n=Ts(),r=We();e({target:"Array",proto:!0,forced:!zi()&&r>79&&r<83||!n("reduce")},{reduce:function(e){var n=arguments.length;return t(this,e,n,n>1?arguments[1]:void 0);}});}();var pc,hc={};!function(){if(pc)return hc;pc=1;var e=Sr(),t=Tt(),n=fa();e({target:"Object",stat:!0,forced:U()(function(){n(1);})},{keys:function(e){return n(t(e));}});}();var mc,gc,yc,vc,bc,_c,wc,kc={};function Sc(){if(gc)return mc;gc=1;var e=Ue(),t=$e(),n=qi();return mc=function(r,i,o){var a,s;return n&&e(a=i.constructor)&&a!==o&&t(s=a.prototype)&&s!==o.prototype&&n(r,s),r;};}function xc(){if(vc)return yc;vc=1;var e=$e(),t=Ne(),n=At()("match");return yc=function(r){var i;return e(r)&&(void 0!==(i=r[n])?!!i:"RegExp"===t(r));};}!function(){if(wc)return kc;wc=1;var e=$(),t=A(),n=Le(),r=kr(),i=Sc(),o=Gt(),a=qa(),s=qn().f,c=He(),u=xc(),l=Pa(),d=Js(),f=Oa(),p=function(){if(_c)return bc;_c=1;var e=Vt().f;return bc=function(t,n,r){r in t||e(t,r,{configurable:!0,get:function(){return n[r];},set:function(e){n[r]=e;}});};}(),h=vn(),m=U(),g=It(),y=gn().enforce,v=Gi(),b=At(),_=Wa(),w=Va(),k=b("match"),S=t.RegExp,x=S.prototype,E=t.SyntaxError,C=n(x.exec),T=n("".charAt),I=n("".replace),P=n("".indexOf),O=n("".slice),R=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,M=/a/g,L=/a/g,N=new S(M)!==M,D=f.MISSED_STICKY,B=f.UNSUPPORTED_Y,F=e&&(!N||D||_||w||m(function(){return L[k]=!1,S(M)!==M||S(L)===L||"/a/i"!==String(S(M,"i"));}));if(r("RegExp",F)){for(var j=function(e,t){var n,r,s,f,p,h,m=c(x,this),v=u(e),b=void 0===t,k=[],A=e;if(!m&&v&&b&&e.constructor===j)return e;if((v||c(x,e))&&(e=e.source,b&&(t=d(A))),e=void 0===e?"":l(e),t=void 0===t?"":l(t),A=e,_&&("dotAll"in M)&&(r=!!t&&P(t,"s")>-1)&&(t=I(t,/s/g,"")),n=t,D&&("sticky"in M)&&(s=!!t&&P(t,"y")>-1)&&B&&(t=I(t,/y/g,"")),w&&(f=function(e){for(var t,n=e.length,r=0,i="",o=[],s=a(null),c=!1,u=!1,l=0,d="";r<=n;r++){if("\\"===(t=T(e,r)))t+=T(e,++r);else if("]"===t)c=!1;else if(!c)switch(!0){case"["===t:c=!0;break;case"("===t:C(R,O(e,r+1))&&(r+=2,u=!0),i+=t,l++;continue;case">"===t&&u:if(""===d||g(s,d))throw new E("Invalid capture group name");s[d]=!0,o[o.length]=[d,l],u=!1,d="";continue;}u?d+=t:i+=t;}return[i,o];}(e),e=f[0],k=f[1]),p=i(S(e,t),m?this:x,j),(r||s||k.length)&&(h=y(p),r&&(h.dotAll=!0,h.raw=j(function(e){for(var t,n=e.length,r=0,i="",o=!1;r<=n;r++)"\\"!==(t=T(e,r))?o||"."!==t?("["===t?o=!0:"]"===t&&(o=!1),i+=t):i+="[\\s\\S]":i+=t+T(e,++r);return i;}(e),n)),s&&(h.sticky=!0),k.length&&(h.groups=k)),e!==A)try{o(p,"source",""===A?"(?:)":A);}catch(L){}return p;},z=s(S),H=0;z.length>H;)p(j,S,z[H++]);x.constructor=j,j.prototype=x,h(t,"RegExp",j,{constructor:!0});}v("RegExp");}();var Ec,Cc,Tc,Ic,Pc,Ac={};function Oc(e,t){return Object.keys(e).reduce(function(n,r){var i=t(r,e[r]);return i&&(n[i[0]]=i[1]),n;},{});}!function(){if(Pc)return Ac;Pc=1;var e=Sr(),t=Le(),n=function(){if(Cc)return Ec;Cc=1;var e=xc(),t=TypeError;return Ec=function(n){if(e(n))throw new t("The method doesn't accept regular expressions");return n;};}(),r=Fe(),i=Pa(),o=function(){if(Ic)return Tc;Ic=1;var e=At()("match");return Tc=function(t){var n=/./;try{"/./"[t](n);}catch(r){try{return n[e]=!1,"/./"[t](n);}catch(i){}}return!1;};}(),a=t("".indexOf);e({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~a(i(r(this)),i(n(e)),arguments.length>1?arguments[1]:void 0);}});}();var Rc,Mc,Lc,Nc,Dc,Bc,Fc,jc,Uc,$c,zc=function(){return l(function e(){o(this,e),this.SENSITIVE_DATA_KEYS=["card_cvv","card_exp_month","card_exp_year","card_number","pan","cvv","private_key","email"],this.SENSITIVE_DATA_REGEX=new RegExp(this.SENSITIVE_DATA_KEYS.join("|"),"gi");},[{key:"stringify",value:function(e){return JSON.stringify(e,function(e,t){return"bigint"==typeof t?t.toString():t;});}},{key:"serialize",value:function(e,t){return e instanceof ba?[e,this.scrubErrorDetails(y(y({},t||{}),e.details||{}))]:[e,this.scrubErrorDetails(t)];}},{key:"scrubErrorDetails",value:function(){var e=this;return Oc(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},function(t,n){if(["stack","_originalError"].includes(t)||"function"==typeof n)return null;if("object"==typeof n&&null!==n){var r=e.filterSensitiveData(n);return[t,e.stringify(r)];}return Array.isArray(n)&&n.length>0?[t,e.stringify(e.filterSensitiveData(n))]:[t,e.filterSensitiveData(n)];});}},{key:"filterSensitiveData",value:function(e){var t=this;return"object"!=typeof e||null===e||Array.isArray(e)?Array.isArray(e)?e.map(function(e){return t.filterSensitiveData(e);}):"string"==typeof e?e.replace(this.SENSITIVE_DATA_REGEX,"[filtered]"):e:Oc(e,function(e,n){return t.SENSITIVE_DATA_KEYS.some(function(t){return e.toLowerCase().includes(t);})?null:null!=n?[e,t.filterSensitiveData(n)]:[e,n];});}}]);}();function Hc(){if(Mc)return Rc;Mc=1;var e,t,n,r=U(),i=Ue(),o=$e(),a=qa(),s=da(),c=vn(),u=At(),l=St(),d=u("iterator"),f=!1;return[].keys&&("next"in(n=[].keys())?(t=s(s(n)))!==Object.prototype&&(e=t):f=!0),!o(e)||r(function(){var t={};return e[d].call(t)!==t;})?e={}:l&&(e=a(e)),i(e[d])||c(e,d,function(){return this;}),Rc={IteratorPrototype:e,BUGGY_SAFARI_ITERATORS:f};}function qc(){if(Nc)return Lc;Nc=1;var e=Hc().IteratorPrototype,t=qa(),n=Me(),r=Wi(),i=No(),o=function(){return this;};return Lc=function(a,s,c,u){var l=s+" Iterator";return a.prototype=t(e,{next:n(+!u,c)}),r(a,l,!1,!0),i[l]=o,a;};}function Wc(){if(Bc)return Dc;Bc=1;var e=Sr(),t=H(),n=St(),r=dn(),i=Ue(),o=qc(),a=da(),s=qi(),c=Wi(),u=Gt(),l=vn(),d=At(),f=No(),p=Hc(),h=r.PROPER,m=r.CONFIGURABLE,g=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,v=d("iterator"),b="keys",_="values",w="entries",k=function(){return this;};return Dc=function(r,d,p,S,x,E,C){o(p,d,S);var T,I,P,A=function(e){if(e===x&&N)return N;if(!y&&e&&e in M)return M[e];switch(e){case b:case _:case w:return function(){return new p(this,e);};}return function(){return new p(this);};},O=d+" Iterator",R=!1,M=r.prototype,L=M[v]||M["@@iterator"]||x&&M[x],N=!y&&L||A(x),D="Array"===d&&M.entries||L;if(D&&(T=a(D.call(new r())))!==Object.prototype&&T.next&&(n||a(T)===g||(s?s(T,g):i(T[v])||l(T,v,k)),c(T,O,!0,!0),n&&(f[O]=k)),h&&x===_&&L&&L.name!==_&&(!n&&m?u(M,"name",_):(R=!0,N=function(){return t(L,this);})),x)if(I={values:A(_),keys:E?N:A(b),entries:A(w)},C)for(P in I)(y||R||!(P in M))&&l(M,P,I[P]);else e({target:d,proto:!0,forced:y||R},I);return n&&!C||M[v]===N||l(M,v,N,{name:x}),f[d]=N,I;};}function Vc(){return jc?Fc:(jc=1,Fc=function(e,t){return{value:e,done:t};});}function Gc(){if($c)return Uc;$c=1;var e=je(),t=cc(),n=No(),r=gn(),i=Vt().f,o=Wc(),a=Vc(),s=St(),c=$(),u="Array Iterator",l=r.set,d=r.getterFor(u);Uc=o(Array,"Array",function(t,n){l(this,{type:u,target:e(t),index:0,kind:n});},function(){var e=d(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,a(void 0,!0);switch(e.kind){case"keys":return a(n,!1);case"values":return a(t[n],!1);}return a([n,t[n]],!1);},"values");var f=n.Arguments=n.Array;if(t("keys"),t("values"),t("entries"),!s&&c&&"values"!==f.name)try{i(f,"name",{value:"values"});}catch(p){}return Uc;}Gc();var Yc,Jc={};function Xc(){if(Yc)return Jc;Yc=1;var e=fs().charAt,t=Pa(),n=gn(),r=Wc(),i=Vc(),o="String Iterator",a=n.set,s=n.getterFor(o);return r(String,"String",function(e){a(this,{type:o,string:t(e),index:0});},function(){var t,n=s(this),r=n.string,o=n.index;return o>=r.length?i(void 0,!0):(t=e(r,o),n.index+=t.length,i(t,!1));}),Jc;}Xc();var Kc,Zc,Qc,eu,tu={};function nu(){if(Zc)return Kc;Zc=1;var e=U();return Kc=!e(function(){return Object.isExtensible(Object.preventExtensions({}));});}function ru(){if(eu)return Qc;eu=1;var e=vn();return Qc=function(t,n,r){for(var i in n)e(t,i,n[i],r);return t;};}var iu,ou,au,su,cu,uu,lu,du,fu,pu,hu,mu,gu={exports:{}},yu={};function vu(){if(iu)return yu;iu=1;var e=Ne(),t=je(),n=qn().f,r=eo(),i="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];return yu.f=function(o){return i&&"Window"===e(o)?function(e){try{return n(e);}catch(t){return r(i);}}(o):n(t(o));},yu;}function bu(){if(cu)return su;cu=1;var e=U(),t=$e(),n=Ne(),r=function(){if(au)return ou;au=1;var e=U();return ou=e(function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8});}});}(),i=Object.isExtensible,o=e(function(){});return su=o||r?function(e){return!!t(e)&&(!r||"ArrayBuffer"!==n(e))&&(!i||i(e));}:i;}function _u(){if(uu)return gu.exports;uu=1;var e=Sr(),t=Le(),n=mn(),r=$e(),i=It(),o=Vt().f,a=qn(),s=vu(),c=bu(),u=Pt(),l=nu(),d=!1,f=u("meta"),p=0,h=function(e){o(e,f,{value:{objectID:"O"+p++,weakData:{}}});},m=gu.exports={enable:function(){m.enable=function(){},d=!0;var n=a.f,r=t([].splice),i={};i[f]=1,n(i).length&&(a.f=function(e){for(var t=n(e),i=0,o=t.length;i<o;i++)if(t[i]===f){r(t,i,1);break;}return t;},e({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:s.f}));},fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,f)){if(!c(e))return"F";if(!t)return"E";h(e);}return e[f].objectID;},getWeakData:function(e,t){if(!i(e,f)){if(!c(e))return!0;if(!t)return!1;h(e);}return e[f].weakData;},onFreeze:function(e){return l&&d&&c(e)&&!i(e,f)&&h(e),e;}};return n[f]=!0,gu.exports;}function wu(){if(hu)return tu;hu=1;var e,t=nu(),n=A(),r=Le(),i=ru(),o=_u(),a=function(){if(du)return lu;du=1;var e=Sr(),t=A(),n=Le(),r=kr(),i=vn(),o=_u(),a=Uo(),s=Yi(),c=Ue(),u=Be(),l=$e(),d=U(),f=$o(),p=Wi(),h=Sc();return lu=function(m,g,y){var v=-1!==m.indexOf("Map"),b=-1!==m.indexOf("Weak"),_=v?"set":"add",w=t[m],k=w&&w.prototype,S=w,x={},E=function(e){var t=n(k[e]);i(k,e,"add"===e?function(e){return t(this,0===e?0:e),this;}:"delete"===e?function(e){return!(b&&!l(e))&&t(this,0===e?0:e);}:"get"===e?function(e){return b&&!l(e)?void 0:t(this,0===e?0:e);}:"has"===e?function(e){return!(b&&!l(e))&&t(this,0===e?0:e);}:function(e,n){return t(this,0===e?0:e,n),this;});};if(r(m,!c(w)||!(b||k.forEach&&!d(function(){new w().entries().next();}))))S=y.getConstructor(g,m,v,_),o.enable();else if(r(m,!0)){var C=new S(),T=C[_](b?{}:-0,1)!==C,I=d(function(){C.has(1);}),P=f(function(e){new w(e);}),A=!b&&d(function(){for(var e=new w(),t=5;t--;)e[_](t,t);return!e.has(-0);});P||((S=g(function(e,t){s(e,k);var n=h(new w(),e,S);return u(t)||a(t,n[_],{that:n,AS_ENTRIES:v}),n;})).prototype=k,k.constructor=S),(I||A)&&(E("delete"),E("has"),v&&E("get")),(A||T)&&E(_),b&&k.clear&&delete k.clear;}return x[m]=S,e({global:!0,constructor:!0,forced:S!==w},x),p(S,m),b||y.setStrong(S,m,v),S;};}(),s=function(){if(pu)return fu;pu=1;var e=Le(),t=ru(),n=_u().getWeakData,r=Yi(),i=Wt(),o=Be(),a=$e(),s=Uo(),c=wa(),u=It(),l=gn(),d=l.set,f=l.getterFor,p=c.find,h=c.findIndex,m=e([].splice),g=0,y=function(e){return e.frozen||(e.frozen=new v());},v=function(){this.entries=[];},b=function(e,t){return p(e.entries,function(e){return e[0]===t;});};return v.prototype={get:function(e){var t=b(this,e);if(t)return t[1];},has:function(e){return!!b(this,e);},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t]);},delete:function(e){var t=h(this.entries,function(t){return t[0]===e;});return~t&&m(this.entries,t,1),!!~t;}},fu={getConstructor:function(e,c,l,p){var h=e(function(e,t){r(e,m),d(e,{type:c,id:g++,frozen:void 0}),o(t)||s(t,e[p],{that:e,AS_ENTRIES:l});}),m=h.prototype,v=f(c),b=function(e,t,r){var o=v(e),a=n(i(t),!0);return!0===a?y(o).set(t,r):a[o.id]=r,e;};return t(m,{delete:function(e){var t=v(this);if(!a(e))return!1;var r=n(e);return!0===r?y(t).delete(e):r&&u(r,t.id)&&delete r[t.id];},has:function(e){var t=v(this);if(!a(e))return!1;var r=n(e);return!0===r?y(t).has(e):r&&u(r,t.id);}}),t(m,l?{get:function(e){var t=v(this);if(a(e)){var r=n(e);return!0===r?y(t).get(e):r?r[t.id]:void 0;}},set:function(e,t){return b(this,e,t);}}:{add:function(e){return b(this,e,!0);}}),h;}};}(),c=$e(),u=gn().enforce,l=U(),d=pn(),f=Object,p=Array.isArray,h=f.isExtensible,m=f.isFrozen,g=f.isSealed,y=f.freeze,v=f.seal,b=!n.ActiveXObject&&"ActiveXObject"in n,_=function(e){return function(){return e(this,arguments.length?arguments[0]:void 0);};},w=a("WeakMap",_,s),k=w.prototype,S=r(k.set);if(d)if(b){e=s.getConstructor(_,"WeakMap",!0),o.enable();var x=r(k.delete),E=r(k.has),C=r(k.get);i(k,{delete:function(t){if(c(t)&&!h(t)){var n=u(this);return n.frozen||(n.frozen=new e()),x(this,t)||n.frozen.delete(t);}return x(this,t);},has:function(t){if(c(t)&&!h(t)){var n=u(this);return n.frozen||(n.frozen=new e()),E(this,t)||n.frozen.has(t);}return E(this,t);},get:function(t){if(c(t)&&!h(t)){var n=u(this);return n.frozen||(n.frozen=new e()),E(this,t)?C(this,t):n.frozen.get(t);}return C(this,t);},set:function(t,n){if(c(t)&&!h(t)){var r=u(this);r.frozen||(r.frozen=new e()),E(this,t)?S(this,t,n):r.frozen.set(t,n);}else S(this,t,n);return this;}});}else(function(){return t&&l(function(){var e=y([]);return S(new w(),e,1),!m(e);});})()&&i(k,{set:function(e,t){var n;return p(e)&&(m(e)?n=y:g(e)&&(n=v)),S(this,e,t),n&&n(e),this;}});return tu;}!function(){mu||(mu=1,wu());}();var ku,Su={};!function(){if(ku)return Su;ku=1;var e=A(),t=Es(),n=Cs(),r=Gc(),i=Gt(),o=Wi(),a=At()("iterator"),s=r.values,c=function(e,n){if(e){if(e[a]!==s)try{i(e,a,s);}catch(u){e[a]=s;}if(o(e,n,!0),t[n])for(var c in r)if(e[c]!==r[c])try{i(e,c,r[c]);}catch(u){e[c]=r[c];}}};for(var u in t)c(e[u]&&e[u].prototype,u);c(n,"DOMTokenList");}();var xu,Eu,Cu,Tu,Iu,Pu,Au,Ou,Ru,Mu,Lu,Nu,Du,Bu,Fu,ju,Uu={};function $u(){if(Eu)return xu;Eu=1;var e=U(),t=At(),n=$(),r=St(),i=t("iterator");return xu=!e(function(){var e=new URL("b?a=1&b=2&c=3","http://a"),t=e.searchParams,o=new URLSearchParams("a=1&a=2&b=3"),a="";return e.pathname="c%20d",t.forEach(function(e,n){t.delete("b"),a+=n+e;}),o.delete("a",2),o.delete("b",void 0),r&&(!e.toJSON||!o.has("a",1)||o.has("a",2)||!o.has("a",void 0)||o.has("b"))||!t.size&&(r||!n)||!t.sort||"http://a/c%20d?a=1&c=3"!==e.href||"3"!==t.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[i]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://ÑÐµÑÑ").host||"#%D0%B1"!==new URL("http://a#Ð±").hash||"a1c3"!==a||"x"!==new URL("http://x",void 0).host;});}function zu(){if(Tu)return Cu;Tu=1;var e=$(),t=Le(),n=H(),r=U(),i=fa(),o=_r(),a=Re(),s=Tt(),c=De(),u=Object.assign,l=Object.defineProperty,d=t([].concat);return Cu=!u||r(function(){if(e&&1!==u({b:1},u(l({},"a",{enumerable:!0,get:function(){l(this,"b",{value:3,enumerable:!1});}}),{b:2})).b)return!0;var t={},n={},r=Symbol("assign detection"),o="abcdefghijklmnopqrst";return t[r]=7,o.split("").forEach(function(e){n[e]=e;}),7!==u({},t)[r]||i(u({},n)).join("")!==o;})?function(t,r){for(var u=s(t),l=arguments.length,f=1,p=o.f,h=a.f;l>f;)for(var m,g=c(arguments[f++]),y=p?d(i(g),p(g)):i(g),v=y.length,b=0;v>b;)m=y[b++],e&&!n(h,g,m)||(u[m]=g[m]);return u;}:u,Cu;}function Hu(){if(Ou)return Au;Ou=1;var e=Zi(),t=H(),n=Tt(),r=function(){if(Pu)return Iu;Pu=1;var e=Wt(),t=jo();return Iu=function(n,r,i,o){try{return o?r(e(i)[0],i[1]):r(i);}catch(a){t(n,"throw",a);}};}(),i=Do(),o=Ir(),a=Un(),s=Er(),c=Fo(),u=Bo(),l=Array;return Au=function(d){var f=n(d),p=o(this),h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m;g&&(m=e(m,h>2?arguments[2]:void 0));var y,v,b,_,w,k,S=u(f),x=0;if(!S||this===l&&i(S))for(y=a(f),v=p?new this(y):l(y);y>x;x++)k=g?m(f[x],x):f[x],s(v,x,k);else for(v=p?new this():[],w=(_=c(f,S)).next;!(b=t(w,_)).done;x++)k=g?r(_,m,[b.value,x],!0):b.value,s(v,x,k);return v.length=x,v;},Au;}function qu(){if(Mu)return Ru;Mu=1;var e=Le(),t=2147483647,n=/[^\0-\u007E]/,r=/[.\u3002\uFF0E\uFF61]/g,i="Overflow: input needs wider integers to process",o=RangeError,a=e(r.exec),s=Math.floor,c=String.fromCharCode,u=e("".charCodeAt),l=e([].join),d=e([].push),f=e("".replace),p=e("".split),h=e("".toLowerCase),m=function(e){return e+22+75*(e<26);},g=function(e,t,n){var r=0;for(e=n?s(e/700):e>>1,e+=s(e/t);e>455;)e=s(e/35),r+=36;return s(r+36*e/(e+38));},y=function(e){var n=[];e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=u(e,n++);if(i>=55296&&i<=56319&&n<r){var o=u(e,n++);56320==(64512&o)?d(t,((1023&i)<<10)+(1023&o)+65536):(d(t,i),n--);}else d(t,i);}return t;}(e);var r,a,f=e.length,p=128,h=0,y=72;for(r=0;r<e.length;r++)(a=e[r])<128&&d(n,c(a));var v=n.length,b=v;for(v&&d(n,"-");b<f;){var _=t;for(r=0;r<e.length;r++)(a=e[r])>=p&&a<_&&(_=a);var w=b+1;if(_-p>s((t-h)/w))throw new o(i);for(h+=(_-p)*w,p=_,r=0;r<e.length;r++){if((a=e[r])<p&&++h>t)throw new o(i);if(a===p){for(var k=h,S=36;;){var x=S<=y?1:S>=y+26?26:S-y;if(k<x)break;var E=k-x,C=36-x;d(n,c(m(x+E%C))),k=s(E/C),S+=36;}d(n,c(m(k))),y=g(h,w,b===v),h=0,b++;}}h++,p++;}return l(n,"");};return Ru=function(e){var t,i,o=[],s=p(f(h(e),r,"."),".");for(t=0;t<s.length;t++)i=s[t],d(o,a(n,i)?"xn--"+y(i):i);return l(o,".");};}function Wu(){if(Bu)return Du;Bu=1,Gc();var e=Sr(),t=A(),n=io(),r=H(),i=Le(),o=$(),a=$u(),s=vn(),c=Vi(),u=ru(),l=Wi(),d=qc(),f=gn(),p=Yi(),h=Ue(),m=It(),g=Zi(),y=Tr(),v=Wt(),b=$e(),_=Pa(),w=qa(),k=Me(),S=Fo(),x=Bo(),E=Vc(),C=to(),T=At(),I=function(){if(Nu)return Lu;Nu=1;var e=eo(),t=Math.floor,n=function(r,i){var o=r.length;if(o<8)for(var a,s,c=1;c<o;){for(s=c,a=r[c];s&&i(r[s-1],a)>0;)r[s]=r[--s];s!==c++&&(r[s]=a);}else for(var u=t(o/2),l=n(e(r,0,u),i),d=n(e(r,u),i),f=l.length,p=d.length,h=0,m=0;h<f||m<p;)r[h+m]=h<f&&m<p?i(l[h],d[m])<=0?l[h++]:d[m++]:h<f?l[h++]:d[m++];return r;};return Lu=n;}(),P=T("iterator"),O="URLSearchParams",R=O+"Iterator",M=f.set,L=f.getterFor(O),N=f.getterFor(R),D=n("fetch"),B=n("Request"),F=n("Headers"),j=B&&B.prototype,U=F&&F.prototype,z=t.RegExp,q=t.TypeError,W=t.decodeURIComponent,V=t.encodeURIComponent,G=i("".charAt),Y=i([].join),J=i([].push),X=i("".replace),K=i([].shift),Z=i([].splice),Q=i("".split),ee=i("".slice),te=/\+/g,ne=Array(4),re=function(e){return ne[e-1]||(ne[e-1]=z("((?:%[\\da-f]{2}){"+e+"})","gi"));},ie=function(e){try{return W(e);}catch(t){return e;}},oe=function(e){var t=X(e,te," "),n=4;try{return W(t);}catch(r){for(;n;)t=X(t,re(n--),ie);return t;}},ae=/[!'()~]|%20/g,se={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},ce=function(e){return se[e];},ue=function(e){return X(V(e),ae,ce);},le=d(function(e,t){M(this,{type:R,target:L(e).entries,index:0,kind:t});},O,function(){var e=N(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,E(void 0,!0);var r=t[n];switch(e.kind){case"keys":return E(r.key,!1);case"values":return E(r.value,!1);}return E([r.key,r.value],!1);},!0),de=function(e){this.entries=[],this.url=null,void 0!==e&&(b(e)?this.parseObject(e):this.parseQuery("string"==typeof e?"?"===G(e,0)?ee(e,1):e:_(e)));};de.prototype={type:O,bindURL:function(e){this.url=e,this.update();},parseObject:function(e){var t,n,i,o,a,s,c,u=this.entries,l=x(e);if(l)for(n=(t=S(e,l)).next;!(i=r(n,t)).done;){if(a=(o=S(v(i.value))).next,(s=r(a,o)).done||(c=r(a,o)).done||!r(a,o).done)throw new q("Expected sequence with length 2");J(u,{key:_(s.value),value:_(c.value)});}else for(var d in e)m(e,d)&&J(u,{key:d,value:_(e[d])});},parseQuery:function(e){if(e)for(var t,n,r=this.entries,i=Q(e,"&"),o=0;o<i.length;)(t=i[o++]).length&&(n=Q(t,"="),J(r,{key:oe(K(n)),value:oe(Y(n,"="))}));},serialize:function(){for(var e,t=this.entries,n=[],r=0;r<t.length;)e=t[r++],J(n,ue(e.key)+"="+ue(e.value));return Y(n,"&");},update:function(){this.entries.length=0,this.parseQuery(this.url.query);},updateURL:function(){this.url&&this.url.update();}};var fe=function(){p(this,pe);var e=M(this,new de(arguments.length>0?arguments[0]:void 0));o||(this.size=e.entries.length);},pe=fe.prototype;if(u(pe,{append:function(e,t){var n=L(this);C(arguments.length,2),J(n.entries,{key:_(e),value:_(t)}),o||this.length++,n.updateURL();},delete:function(e){for(var t=L(this),n=C(arguments.length,1),r=t.entries,i=_(e),a=n<2?void 0:arguments[1],s=void 0===a?a:_(a),c=0;c<r.length;){var u=r[c];if(u.key!==i||void 0!==s&&u.value!==s)c++;else if(Z(r,c,1),void 0!==s)break;}o||(this.size=r.length),t.updateURL();},get:function(e){var t=L(this).entries;C(arguments.length,1);for(var n=_(e),r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null;},getAll:function(e){var t=L(this).entries;C(arguments.length,1);for(var n=_(e),r=[],i=0;i<t.length;i++)t[i].key===n&&J(r,t[i].value);return r;},has:function(e){for(var t=L(this).entries,n=C(arguments.length,1),r=_(e),i=n<2?void 0:arguments[1],o=void 0===i?i:_(i),a=0;a<t.length;){var s=t[a++];if(s.key===r&&(void 0===o||s.value===o))return!0;}return!1;},set:function(e,t){var n=L(this);C(arguments.length,1);for(var r,i=n.entries,a=!1,s=_(e),c=_(t),u=0;u<i.length;u++)(r=i[u]).key===s&&(a?Z(i,u--,1):(a=!0,r.value=c));a||J(i,{key:s,value:c}),o||(this.size=i.length),n.updateURL();},sort:function(){var e=L(this);I(e.entries,function(e,t){return e.key>t.key?1:-1;}),e.updateURL();},forEach:function(e){for(var t,n=L(this).entries,r=g(e,arguments.length>1?arguments[1]:void 0),i=0;i<n.length;)r((t=n[i++]).value,t.key,this);},keys:function(){return new le(this,"keys");},values:function(){return new le(this,"values");},entries:function(){return new le(this,"entries");}},{enumerable:!0}),s(pe,P,pe.entries,{name:"entries"}),s(pe,"toString",function(){return L(this).serialize();},{enumerable:!0}),o&&c(pe,"size",{get:function(){return L(this).entries.length;},configurable:!0,enumerable:!0}),l(fe,O),e({global:!0,constructor:!0,forced:!a},{URLSearchParams:fe}),!a&&h(F)){var he=i(U.has),me=i(U.set),ge=function(e){if(b(e)){var t,n=e.body;if(y(n)===O)return t=e.headers?new F(e.headers):new F(),he(t,"content-type")||me(t,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),w(e,{body:k(0,_(n)),headers:k(0,t)});}return e;};if(h(D)&&e({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return D(e,arguments.length>1?ge(arguments[1]):{});}}),h(B)){var ye=function(e){return p(this,j),new B(e,arguments.length>1?ge(arguments[1]):{});};j.constructor=ye,ye.prototype=j,e({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ye});}}return Du={URLSearchParams:fe,getState:L};}function Vu(){if(Fu)return Uu;Fu=1,Xc();var e,t=Sr(),n=$(),r=$u(),i=A(),o=Zi(),a=Le(),s=vn(),c=Vi(),u=Yi(),l=It(),d=zu(),f=Hu(),p=eo(),h=fs().codeAt,m=qu(),g=Pa(),y=Wi(),v=to(),b=Wu(),_=gn(),w=_.set,k=_.getterFor("URL"),S=b.URLSearchParams,x=b.getState,E=i.URL,C=i.TypeError,T=i.parseInt,I=Math.floor,P=Math.pow,O=a("".charAt),R=a(/./.exec),M=a([].join),L=a(1..toString),N=a([].pop),D=a([].push),B=a("".replace),F=a([].shift),j=a("".split),U=a("".slice),z=a("".toLowerCase),H=a([].unshift),q="Invalid scheme",W="Invalid host",V="Invalid port",G=/[a-z]/i,Y=/[\d+-.a-z]/i,J=/\d/,X=/^0x/i,K=/^[0-7]+$/,Z=/^\d+$/,Q=/^[\da-f]+$/i,ee=/[\0\t\n\r #%/:<>?@[\\\]^|]/,te=/[\0\t\n\r #/:<>?@[\\\]^|]/,ne=/^[\u0000-\u0020]+/,re=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ie=/[\t\n\r]/g,oe=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)H(t,e%256),e=I(e/256);return M(t,".");}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,o=0;o<8;o++)0!==e[o]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=o),++i);return i>n&&(t=r,n=i),t;}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=L(e[n],16),n<7&&(t+=":")));return"["+t+"]";}return e;},ae={},se=d({},ae,{" ":1,'"':1,"<":1,">":1,"`":1}),ce=d({},se,{"#":1,"?":1,"{":1,"}":1}),ue=d({},ce,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),le=function(e,t){var n=h(e,0);return n>32&&n<127&&!l(t,e)?e:encodeURIComponent(e);},de={ftp:21,file:null,http:80,https:443,ws:80,wss:443},fe=function(e,t){var n;return 2===e.length&&R(G,O(e,0))&&(":"===(n=O(e,1))||!t&&"|"===n);},pe=function(e){var t;return e.length>1&&fe(U(e,0,2))&&(2===e.length||"/"===(t=O(e,2))||"\\"===t||"?"===t||"#"===t);},he=function(e){return"."===e||"%2e"===z(e);},me=function(e){return".."===(e=z(e))||"%2e."===e||".%2e"===e||"%2e%2e"===e;},ge={},ye={},ve={},be={},_e={},we={},ke={},Se={},xe={},Ee={},Ce={},Te={},Ie={},Pe={},Ae={},Oe={},Re={},Me={},Ne={},De={},Be={},Fe=function(e,t,n){var r,i,o,a=g(e);if(t){if(i=this.parse(a))throw new C(i);this.searchParams=null;}else{if(void 0!==n&&(r=new Fe(n,!0)),i=this.parse(a,null,r))throw new C(i);(o=x(new S())).bindURL(this),this.searchParams=o;}};Fe.prototype={type:"URL",parse:function(t,n,r){var i,o,a,s,c=this,u=n||ge,d=0,h="",m=!1,y=!1,v=!1;for(t=g(t),n||(c.scheme="",c.username="",c.password="",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,t=B(t,ne,""),t=B(t,re,"$1")),t=B(t,ie,""),i=f(t);d<=i.length;){switch(o=i[d],u){case ge:if(!o||!R(G,o)){if(n)return q;u=ve;continue;}h+=z(o),u=ye;break;case ye:if(o&&(R(Y,o)||"+"===o||"-"===o||"."===o))h+=z(o);else{if(":"!==o){if(n)return q;h="",u=ve,d=0;continue;}if(n&&(c.isSpecial()!==l(de,h)||"file"===h&&(c.includesCredentials()||null!==c.port)||"file"===c.scheme&&!c.host))return;if(c.scheme=h,n)return void(c.isSpecial()&&de[c.scheme]===c.port&&(c.port=null));h="","file"===c.scheme?u=Pe:c.isSpecial()&&r&&r.scheme===c.scheme?u=be:c.isSpecial()?u=Se:"/"===i[d+1]?(u=_e,d++):(c.cannotBeABaseURL=!0,D(c.path,""),u=Ne);}break;case ve:if(!r||r.cannotBeABaseURL&&"#"!==o)return q;if(r.cannotBeABaseURL&&"#"===o){c.scheme=r.scheme,c.path=p(r.path),c.query=r.query,c.fragment="",c.cannotBeABaseURL=!0,u=Be;break;}u="file"===r.scheme?Pe:we;continue;case be:if("/"!==o||"/"!==i[d+1]){u=we;continue;}u=xe,d++;break;case _e:if("/"===o){u=Ee;break;}u=Me;continue;case we:if(c.scheme=r.scheme,o===e)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=p(r.path),c.query=r.query;else if("/"===o||"\\"===o&&c.isSpecial())u=ke;else if("?"===o)c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=p(r.path),c.query="",u=De;else{if("#"!==o){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=p(r.path),c.path.length--,u=Me;continue;}c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,c.path=p(r.path),c.query=r.query,c.fragment="",u=Be;}break;case ke:if(!c.isSpecial()||"/"!==o&&"\\"!==o){if("/"!==o){c.username=r.username,c.password=r.password,c.host=r.host,c.port=r.port,u=Me;continue;}u=Ee;}else u=xe;break;case Se:if(u=xe,"/"!==o||"/"!==O(h,d+1))continue;d++;break;case xe:if("/"!==o&&"\\"!==o){u=Ee;continue;}break;case Ee:if("@"===o){m&&(h="%40"+h),m=!0,a=f(h);for(var b=0;b<a.length;b++){var _=a[b];if(":"!==_||v){var w=le(_,ue);v?c.password+=w:c.username+=w;}else v=!0;}h="";}else if(o===e||"/"===o||"?"===o||"#"===o||"\\"===o&&c.isSpecial()){if(m&&""===h)return"Invalid authority";d-=f(h).length+1,h="",u=Ce;}else h+=o;break;case Ce:case Te:if(n&&"file"===c.scheme){u=Oe;continue;}if(":"!==o||y){if(o===e||"/"===o||"?"===o||"#"===o||"\\"===o&&c.isSpecial()){if(c.isSpecial()&&""===h)return W;if(n&&""===h&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(h))return s;if(h="",u=Re,n)return;continue;}"["===o?y=!0:"]"===o&&(y=!1),h+=o;}else{if(""===h)return W;if(s=c.parseHost(h))return s;if(h="",u=Ie,n===Te)return;}break;case Ie:if(!R(J,o)){if(o===e||"/"===o||"?"===o||"#"===o||"\\"===o&&c.isSpecial()||n){if(""!==h){var k=T(h,10);if(k>65535)return V;c.port=c.isSpecial()&&k===de[c.scheme]?null:k,h="";}if(n)return;u=Re;continue;}return V;}h+=o;break;case Pe:if(c.scheme="file","/"===o||"\\"===o)u=Ae;else{if(!r||"file"!==r.scheme){u=Me;continue;}switch(o){case e:c.host=r.host,c.path=p(r.path),c.query=r.query;break;case"?":c.host=r.host,c.path=p(r.path),c.query="",u=De;break;case"#":c.host=r.host,c.path=p(r.path),c.query=r.query,c.fragment="",u=Be;break;default:pe(M(p(i,d),""))||(c.host=r.host,c.path=p(r.path),c.shortenPath()),u=Me;continue;}}break;case Ae:if("/"===o||"\\"===o){u=Oe;break;}r&&"file"===r.scheme&&!pe(M(p(i,d),""))&&(fe(r.path[0],!0)?D(c.path,r.path[0]):c.host=r.host),u=Me;continue;case Oe:if(o===e||"/"===o||"\\"===o||"?"===o||"#"===o){if(!n&&fe(h))u=Me;else if(""===h){if(c.host="",n)return;u=Re;}else{if(s=c.parseHost(h))return s;if("localhost"===c.host&&(c.host=""),n)return;h="",u=Re;}continue;}h+=o;break;case Re:if(c.isSpecial()){if(u=Me,"/"!==o&&"\\"!==o)continue;}else if(n||"?"!==o){if(n||"#"!==o){if(o!==e&&(u=Me,"/"!==o))continue;}else c.fragment="",u=Be;}else c.query="",u=De;break;case Me:if(o===e||"/"===o||"\\"===o&&c.isSpecial()||!n&&("?"===o||"#"===o)){if(me(h)?(c.shortenPath(),"/"===o||"\\"===o&&c.isSpecial()||D(c.path,"")):he(h)?"/"===o||"\\"===o&&c.isSpecial()||D(c.path,""):("file"===c.scheme&&!c.path.length&&fe(h)&&(c.host&&(c.host=""),h=O(h,0)+":"),D(c.path,h)),h="","file"===c.scheme&&(o===e||"?"===o||"#"===o))for(;c.path.length>1&&""===c.path[0];)F(c.path);"?"===o?(c.query="",u=De):"#"===o&&(c.fragment="",u=Be);}else h+=le(o,ce);break;case Ne:"?"===o?(c.query="",u=De):"#"===o?(c.fragment="",u=Be):o!==e&&(c.path[0]+=le(o,ae));break;case De:n||"#"!==o?o!==e&&("'"===o&&c.isSpecial()?c.query+="%27":c.query+="#"===o?"%23":le(o,ae)):(c.fragment="",u=Be);break;case Be:o!==e&&(c.fragment+=le(o,se));}d++;}},parseHost:function(e){var t,n,r;if("["===O(e,0)){if("]"!==O(e,e.length-1))return W;if(t=function(e){var t,n,r,i,o,a,s,c=[0,0,0,0,0,0,0,0],u=0,l=null,d=0,f=function(){return O(e,d);};if(":"===f()){if(":"!==O(e,1))return;d+=2,l=++u;}for(;f();){if(8===u)return;if(":"!==f()){for(t=n=0;n<4&&R(Q,f());)t=16*t+T(f(),16),d++,n++;if("."===f()){if(0===n)return;if(d-=n,u>6)return;for(r=0;f();){if(i=null,r>0){if(!("."===f()&&r<4))return;d++;}if(!R(J,f()))return;for(;R(J,f());){if(o=T(f(),10),null===i)i=o;else{if(0===i)return;i=10*i+o;}if(i>255)return;d++;}c[u]=256*c[u]+i,2!=++r&&4!==r||u++;}if(4!==r)return;break;}if(":"===f()){if(d++,!f())return;}else if(f())return;c[u++]=t;}else{if(null!==l)return;d++,l=++u;}}if(null!==l)for(a=u-l,u=7;0!==u&&a>0;)s=c[u],c[u--]=c[l+a-1],c[l+--a]=s;else if(8!==u)return;return c;}(U(e,1,-1)),!t)return W;this.host=t;}else if(this.isSpecial()){if(e=m(e),R(ee,e))return W;if(t=function(e){var t,n,r,i,o,a,s,c=j(e,".");if(c.length&&""===c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(n=[],r=0;r<t;r++){if(""===(i=c[r]))return e;if(o=10,i.length>1&&"0"===O(i,0)&&(o=R(X,i)?16:8,i=U(i,8===o?1:2)),""===i)a=0;else{if(!R(10===o?Z:8===o?K:Q,i))return e;a=T(i,o);}D(n,a);}for(r=0;r<t;r++)if(a=n[r],r===t-1){if(a>=P(256,5-t))return null;}else if(a>255)return null;for(s=N(n),r=0;r<n.length;r++)s+=n[r]*P(256,3-r);return s;}(e),null===t)return W;this.host=t;}else{if(R(te,e))return W;for(t="",n=f(e),r=0;r<n.length;r++)t+=le(n[r],ae);this.host=t;}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme;},includesCredentials:function(){return""!==this.username||""!==this.password;},isSpecial:function(){return l(de,this.scheme);},shortenPath:function(){var e=this.path,t=e.length;!t||"file"===this.scheme&&1===t&&fe(e[0],!0)||e.length--;},serialize:function(){var e=this,t=e.scheme,n=e.username,r=e.password,i=e.host,o=e.port,a=e.path,s=e.query,c=e.fragment,u=t+":";return null!==i?(u+="//",e.includesCredentials()&&(u+=n+(r?":"+r:"")+"@"),u+=oe(i),null!==o&&(u+=":"+o)):"file"===t&&(u+="//"),u+=e.cannotBeABaseURL?a[0]:a.length?"/"+M(a,"/"):"",null!==s&&(u+="?"+s),null!==c&&(u+="#"+c),u;},setHref:function(e){var t=this.parse(e);if(t)throw new C(t);this.searchParams.update();},getOrigin:function(){var e=this.scheme,t=this.port;if("blob"===e)try{return new je(e.path[0]).origin;}catch(n){return"null";}return"file"!==e&&this.isSpecial()?e+"://"+oe(this.host)+(null!==t?":"+t:""):"null";},getProtocol:function(){return this.scheme+":";},setProtocol:function(e){this.parse(g(e)+":",ge);},getUsername:function(){return this.username;},setUsername:function(e){var t=f(g(e));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var n=0;n<t.length;n++)this.username+=le(t[n],ue);}},getPassword:function(){return this.password;},setPassword:function(e){var t=f(g(e));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var n=0;n<t.length;n++)this.password+=le(t[n],ue);}},getHost:function(){var e=this.host,t=this.port;return null===e?"":null===t?oe(e):oe(e)+":"+t;},setHost:function(e){this.cannotBeABaseURL||this.parse(e,Ce);},getHostname:function(){var e=this.host;return null===e?"":oe(e);},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,Te);},getPort:function(){var e=this.port;return null===e?"":g(e);},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(""===(e=g(e))?this.port=null:this.parse(e,Ie));},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+M(e,"/"):"";},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,Re));},getSearch:function(){var e=this.query;return e?"?"+e:"";},setSearch:function(e){""===(e=g(e))?this.query=null:("?"===O(e,0)&&(e=U(e,1)),this.query="",this.parse(e,De)),this.searchParams.update();},getSearchParams:function(){return this.searchParams.facade;},getHash:function(){var e=this.fragment;return e?"#"+e:"";},setHash:function(e){""!==(e=g(e))?("#"===O(e,0)&&(e=U(e,1)),this.fragment="",this.parse(e,Be)):this.fragment=null;},update:function(){this.query=this.searchParams.serialize()||null;}};var je=function(e){var t=u(this,Ue),r=v(arguments.length,1)>1?arguments[1]:void 0,i=w(t,new Fe(e,!1,r));n||(t.href=i.serialize(),t.origin=i.getOrigin(),t.protocol=i.getProtocol(),t.username=i.getUsername(),t.password=i.getPassword(),t.host=i.getHost(),t.hostname=i.getHostname(),t.port=i.getPort(),t.pathname=i.getPathname(),t.search=i.getSearch(),t.searchParams=i.getSearchParams(),t.hash=i.getHash());},Ue=je.prototype,$e=function(e,t){return{get:function(){return k(this)[e]();},set:t&&function(e){return k(this)[t](e);},configurable:!0,enumerable:!0};};if(n&&(c(Ue,"href",$e("serialize","setHref")),c(Ue,"origin",$e("getOrigin")),c(Ue,"protocol",$e("getProtocol","setProtocol")),c(Ue,"username",$e("getUsername","setUsername")),c(Ue,"password",$e("getPassword","setPassword")),c(Ue,"host",$e("getHost","setHost")),c(Ue,"hostname",$e("getHostname","setHostname")),c(Ue,"port",$e("getPort","setPort")),c(Ue,"pathname",$e("getPathname","setPathname")),c(Ue,"search",$e("getSearch","setSearch")),c(Ue,"searchParams",$e("getSearchParams")),c(Ue,"hash",$e("getHash","setHash"))),s(Ue,"toJSON",function(){return k(this).serialize();},{enumerable:!0}),s(Ue,"toString",function(){return k(this).serialize();},{enumerable:!0}),E){var ze=E.createObjectURL,He=E.revokeObjectURL;ze&&s(je,"createObjectURL",o(ze,E)),He&&s(je,"revokeObjectURL",o(He,E));}return y(je,"URL"),t({global:!0,constructor:!0,forced:!r,sham:!n},{URL:je}),Uu;}!function(){ju||(ju=1,Vu());}();var Gu,Yu={};!function(){if(Gu)return Yu;Gu=1;var e=Sr(),t=H();e({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return t(URL.prototype.toString,this);}});}();var Ju;!function(){Ju||(Ju=1,Wu());}();var Xu,Ku=new WeakMap(),Zu=function(){return l(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return atob(e);};o(this,e),s(this,Ku,void 0),this.release=t,this.scriptSource=n,this.decrypt=r,c(Ku,this,this.getCdnUrl());},[{key:"isActive",value:function(){var e=this.decrypt("c29saWRnYXRl"),t=window.location.toString(),n=this.scriptSource.includes(e),r=t.includes("payment-form/src/sdk/index.html")&&!t.includes("nobrand");return n||r;}},{key:"getIsBrandedLogoParameterName",value:function(){return this.decrypt("aXNTb2xpZExvZ29WaXNpYmxl");}},{key:"getSentryDSN",value:function(){return this.decrypt("aHR0cHM6Ly8zMTFjNmRlNjlmMTE5MmQyNzE2OGM0MDdlZmI2ZTFkMkBzbnRyLnNvbGlkZ2F0ZS1kZXYuY29tLzQ=");}},{key:"getTrackingUrl",value:function(){return this.decrypt("aHR0cHM6Ly90cmFjay1leHQuc29saWRnYXRlLmNvbS8=");}},{key:"getPaymentFormUrl",value:function(){return this.decrypt("aHR0cHM6Ly9mb3JtLXYyLnNvbGlkZ2F0ZS5jb20=");}},{key:"getAltGateBaseUrl",value:function(){return this.decrypt("aHR0cHM6Ly9nYXRlLnNvbGlkZ2F0ZS5jb20v");}},{key:"getCdnList",value:function(){return[this.getCdnUrl()];}},{key:"getSdkInitType",value:function(){return window[this.decrypt("X19TT0xJREdBVEVfUFJJVkFURV9fU0RLX0lOSVRfVFlQRQ==")];}},{key:"getDefaultFormId",value:function(){return this.decrypt("c29saWQtcGF5bWVudC1mb3JtLWNvbnRhaW5lcg==");}},{key:"getIframeId",value:function(){return this.decrypt("c29saWQtcGF5bWVudC1mb3JtLWlmcmFtZQ==");}},{key:"getIframeUrl",value:function(){return"".concat(this.decrypt("aHR0cHM6Ly9mb3JtLXYyLnNvbGlkZ2F0ZS5jb20="),"/version/").concat(this.release);}},{key:"getCdnUrl",value:function(){return a(Ku,this)||this.scriptSource&&c(Ku,this,new URL(this.scriptSource||"").hostname),a(Ku,this);}}]);}(),Qu=new WeakMap(),el=function(){return l(function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return atob(e);};o(this,e),s(this,Qu,void 0),this.release=t,this.scriptSource=n,this.decrypt=r,c(Qu,this,new Zu(t,n,r));},[{key:"getIsBrandedLogoParameterName",value:function(){return a(Qu,this).getIsBrandedLogoParameterName();}},{key:"getSentryDSN",value:function(){var e=a(Qu,this).getSentryDSN(),t=a(Qu,this).getCdnUrl().split(".")[1];return e.replace(this.decrypt("c29saWRnYXRlLWRldg=="),t);}},{key:"getTrackingUrl",value:function(){return this.decrypt("aHR0cHM6Ly90cmFjay5jaGFyZ2UtYXV0aC5jb20v");}},{key:"getPaymentFormUrl",value:function(){return this.decrypt("aHR0cHM6Ly9mb3JtLXYyLmNoYXJnZS1hdXRoLmNvbQ==");}},{key:"getAltGateBaseUrl",value:function(){return this.decrypt("aHR0cHM6Ly9nYXRlLmNoYXJnZS1hdXRoLmNvbS8=");}},{key:"getCdnList",value:function(){return a(Qu,this).getCdnList();}},{key:"getSdkInitType",value:function(){return a(Qu,this).getSdkInitType();}},{key:"getDefaultFormId",value:function(){return"none";}},{key:"getIframeId",value:function(){return"payment-form-iframe";}},{key:"getIframeUrl",value:function(){return"".concat(this.decrypt("aHR0cHM6Ly9mb3JtLXYyLmNoYXJnZS1hdXRoLmNvbQ=="),"/version/").concat(this.release);}}]);}(),tl=function(){return l(function e(){o(this,e);},[{key:"getBranding",value:function(e,t){var n=new Zu(e,t);return n.isActive()?n:new el(e,t);}}]);}(),nl=function(e){function t(e){var n;return o(this,t),(n=i(this,t,[e])).name="BootstrapError",n;}return h(t,e),l(t);}(x(Error)),rl={};!function(){if(Xu)return rl;Xu=1;var e=Sr(),t=wa().find,n=cc(),r="find",i=!0;r in[]&&Array(1)[r](function(){i=!1;}),e({target:"Array",proto:!0,forced:i},{find:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0);}}),n(r);}();var il,ol={};!function(){if(il)return ol;il=1;var e=Sr(),t=Ki(),n=$n().indexOf,r=Ts(),i=t([].indexOf),o=!!i&&1/i([1],1,-0)<0;e({target:"Array",proto:!0,forced:o||!r("indexOf")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return o?i(this,e,t)||0:n(this,e,t);}});}();var al,sl={};!function(){if(al)return sl;al=1;var e=Sr(),t=pa().entries;e({target:"Object",stat:!0},{entries:function(e){return t(e);}});}();var cl="?",ul=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,ll=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,dl=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,fl=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,pl=/\((\S*)(?::(\d+))(?::(\d+))\)/,hl=/Minified React error #\d+;/i;function ml(e){var t=null,n=0;e&&("number"==typeof e.framesToPop?n=e.framesToPop:hl.test(e.message)&&(n=1));try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,i=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,o=n.split("\n"),a=[],s=0;s<o.length;s+=2){var c=null;(t=r.exec(o[s]))?c={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=i.exec(o[s]))&&(c={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),c&&(!c.func&&c.line&&(c.func=cl),a.push(c));}if(!a.length)return null;return{message:yl(e),name:e.name,stack:a};}(e),t)return gl(t,n);}catch(r){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,r,i=[],o=e.stack.split("\n"),a=0;a<o.length;++a){if(n=ul.exec(o[a])){var s=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=pl.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]);var c=n[2]&&0===n[2].indexOf("address at ")?n[2].substr(11):n[2],u=n[1]||cl,l=-1!==u.indexOf("safari-extension"),d=-1!==u.indexOf("safari-web-extension");(l||d)&&(u=-1!==u.indexOf("@")?u.split("@")[0]:cl,c=l?"safari-extension:".concat(c):"safari-web-extension:".concat(c)),r={url:c,func:u,args:s?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null};}else if(n=dl.exec(o[a]))r={url:n[2],func:n[1]||cl,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=ll.exec(o[a])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=fl.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==a||n[5]||void 0===e.columnNumber||(i[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||cl,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null};}!r.func&&r.line&&(r.func=cl),i.push(r);}if(!i.length)return null;return{message:yl(e),name:e.name,stack:i};}(e),t)return gl(t,n);}catch(r){}return{message:yl(e),name:e&&e.name,stack:[],failed:!0};}function gl(e,t){try{return y(y({},e),{},{stack:e.stack.slice(t)});}catch(n){return e;}}function yl(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message";}var vl,bl={};!function(){if(vl)return bl;vl=1;var e=Sr(),t=Le(),n=xr(),r=t([].reverse),i=[1,2];e({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return n(this)&&(this.length=this.length),r(this);}});}();var _l=50;function wl(e){var t=function(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,_l).map(function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line};}).reverse();}(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n;}function kl(){return Date.now()/1e3;}var Sl,xl=function(){return l(function e(t,n,r,i){o(this,e),this.releaseVersion=n,this.environment=r,this.dsn="",this.envelopeUrl="",this.publicKey="",this.init(t),this.tracer=new nc(r,n,this.envelopeUrl,i);},[{key:"warning",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.log(e,t,"warning");}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.log(e,t,"error");}},{key:"debug",value:function(e){console.debug(e);}},{key:"trace",value:function(e){return this.tracer.trace(e);}},{key:"withinContext",value:function(e,t){var n=this.tracer.currentTrace;this.tracer.currentTrace=e,t(),this.tracer.currentTrace=n;}},{key:"log",value:function(e){var t,n,r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;this.dsn&&this.publicKey||console.error(e,i);var a=nc.sentryId(),s=this.parseException(e),c=s.exception,u=s.fileName,l=s.debugId,d={event_id:a,sent_at:new Date().toISOString,sdk:{name:"payments.tiny-sdk",version:"2.0.0"},trace:{environment:this.environment,release:this.releaseVersion,public_key:this.publicKey,trace_id:null===(t=this.tracer.currentTrace)||void 0===t?void 0:t.id,sample_rate:"1",transaction:null===(n=this.tracer.currentTrace)||void 0===n?void 0:n.name,sampled:"true"}},f={exception:{values:[c]},level:o,event_id:a,platform:"javascript",request:this.getRequest(),timestamp:kl(),environment:this.environment,release:this.releaseVersion,sdk:{name:"payments.tiny-sdk",version:"2.0.0"},transaction:null===(r=this.tracer.currentTrace)||void 0===r?void 0:r.name,debug_meta:{images:[{type:"sourcemap",code_file:u,debug_id:l}]},contexts:void 0};this.tracer.currentTrace&&(f.contexts={trace:{trace_id:this.tracer.currentTrace.traceId,span_id:this.tracer.currentTrace.getLastSpanId()}});var p=JSON.stringify(d);p+="\n",p+=JSON.stringify({type:"event"}),p+="\n",p+=JSON.stringify(f),p+="\n",this.request(p,this.envelopeUrl);}},{key:"parseException",value:function(e){var t,n,r=wl(ml(e)),i=(null===(t=r.stacktrace)||void 0===t?void 0:t.frames)&&(null===(n=r.stacktrace)||void 0===n||null===(n=n.frames[0])||void 0===n?void 0:n.filename)||"",o="";try{var a=Object.entries(window._sentryDebugIds),s=a.find(function(e){return _(e,1)[0].indexOf(i)>-1;})||["",""];if(!(o=_(s,2)[1])){var c=a.find(function(e){return _(e,1)[0].indexOf("form")>-1;})||["",""];o=_(c,2)[1];}}catch(u){o="";}return{exception:r,fileName:i,debugId:o};}},{key:"init",value:function(e){this.dsn=e;var t=nc.parseDsn(e),n=t.envelopeUrl,r=t.publicKey;this.envelopeUrl=n,this.publicKey=r;}},{key:"request",value:function(e,t){if(t&&e){var n=new XMLHttpRequest();n.open("post",t,!0),n.send(e);}}},{key:"getRequest",value:function(){return{url:window.location.href,headers:{"User-Agent":navigator.userAgent}};}}]);}(),El=function(e){return e.Mounted="mounted",e.PaymentDetails="paymentDetails",e.ProviderToken="_providerToken",e.UpdatePaymentIntent="updateInitPayment",e.FormInitialization="initialization",e.SetPaymentIntent="processor.message.setPaymentIntent",e.SetResignIntent="processor.message.setResignIntent",e.BrowserWindowLocked="processor.message.browserWindowLocked",e.SubmitRequest="processor.message.submitRequest",e.Resize="resize",e.ApplePayPaymentAuthorized="applePay:onpaymentauthorized",e.PaypalCreateOrder="paypalCreateOrder",e.PaypalOrderProcessed="paypalOrderProcessed",e.PerformVerifyResult="processor.message.performVerifyResult",e.ApplyCoupon="applyCoupon",e.RequestSize="processor.message.requestSize",e.TokenResponse="processor.message.tokenResponse",e.Interaction="interaction",e.LoadConfirmationRequest="processor.message.loadConfirmationRequest",e;}(El||{}),Cl={};!function(){if(Sl)return Cl;Sl=1;var e=Sr(),t=Hu();e({target:"Array",stat:!0,forced:!$o()(function(e){Array.from(e);})},{from:t});}();var Tl,Il,Pl,Al,Ol,Rl={};!function(){if(Ol)return Rl;Ol=1;var e=Sr(),t=function(){if(Il)return Tl;Il=1;var e=Le(),t=jn(),n=Pa(),r=Za(),i=Fe(),o=e(r),a=e("".slice),s=Math.ceil,c=function(e){return function(r,c,u){var l,d,f=n(i(r)),p=t(c),h=f.length,m=void 0===u?" ":n(u);return p<=h||""===m?f:((d=o(m,s((l=p-h)/m.length))).length>l&&(d=a(d,0,l)),e?f+d:d+f);};};return Tl={start:c(!1),end:c(!0)};}().start;e({target:"String",proto:!0,forced:function(){if(Al)return Pl;Al=1;var e=qe();return Pl=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(e);}()},{padStart:function(e){return t(this,e,arguments.length>1?arguments[1]:void 0);}});}();var Ml,Ll=function(){return l(function e(t){var n,r;o(this,e),this.cb=null,this.cb=null,this.listeners=[],this.onSend=null==t?void 0:t.onSend,this.eventName=null!==(n=null==t?void 0:t.eventName)&&void 0!==n?n:"processor.payment.form.private",this.key=null!==(r=null==t?void 0:t.key)&&void 0!==r?r:"processor.payment.form.private.key",this.startListening();},[{key:"destroy",value:function(){this.cb&&(window.removeEventListener("message",this.cb),this.cb=null),this.listeners=[];}},{key:"sendPublicMessage",value:function(e,t){this.sendMessage(e,t);}},{key:"sendPrivateMessage",value:function(e,t){this.sendMessage({type:this.eventName,payload:this.encryptXor(this.key,JSON.stringify(e))},t);}},{key:"subscribeForPrivate",value:function(e){this.subscribe(e);}},{key:"subscribeForPublic",value:function(e){this.subscribe(e);}},{key:"unsubscribe",value:function(e){this.listeners=this.listeners.filter(function(t){return t!==e;});}},{key:"encrypt",value:function(e){return this.encryptXor(this.key,e);}},{key:"decrypt",value:function(e){return this.decryptXor(this.key,e);}},{key:"sendMessage",value:function(e,t){t?t.postMessage(e,"*"):window.parent?window.parent.postMessage(e,"*"):window.top?window.top.postMessage(e,"*"):window.postMessage(e,"*"),this.onSend&&this.onSend(e);}},{key:"subscribe",value:function(e){this.listeners.push(e);}},{key:"startListening",value:function(){var e=this;this.cb=function(t){if(t.data.type){var n=t;t.data.type===e.eventName&&(n=JSON.parse(e.decryptXor(e.key,t.data.payload))),e.listeners.forEach(function(e){return e(n);});}},window.addEventListener("message",this.cb);}},{key:"decryptXor",value:function(e,t){try{for(var n=(t.match(/.{1,2}/g)||[]).map(function(e){return parseInt(e,16);}),r=[],i=0;i<n.length;i++)r.push(this.padStart((n[i]^e.charCodeAt(Math.floor(i%e.length))).toString(16),2,"0"));return decodeURIComponent("%"+(r.join("").match(/.{1,2}/g)||[]).join("%"));}catch(o){return"";}}},{key:"encryptXor",value:function(e,t){for(var n=this,r=[],i=(Array.from(t).map(function(e){return e.charCodeAt(0)<128?n.padStart(e.charCodeAt(0).toString(16),2,"0"):encodeURIComponent(e).replace(/%/g,"").toLowerCase();}).join("").match(/.{1,2}/g)||[]).map(function(e){return parseInt(e,16);}),o=0;o<i.length;o++)r.push(i[o]^e.charCodeAt(Math.floor(o%e.length)));return(r=r.map(function(e){return n.padStart(e.toString(16),2,"0");})).join("");}},{key:"padStart",value:function(e,t,n){return t|=0,n=String(n||" "),e.length>t?e:((t-=e.length)>n.length&&(n+=n.repeat(t/n.length)),n.slice(0,t)+String(e));}}]);}(),Nl=function(e){return e.Success="success",e.Fail="fail",e.Redirect="formRedirect",e.Verify="verify",e.StartCheckStatus="startCheckStatus",e.Card="card",e.CustomStylesAppended="customStylesAppended",e.PaymentButtonsInit="_paymentButtonsInit",e.FormReady="processor.private.event.formReady",e.PrivateResize="_resize",e.AppleCompletePayment="_appleCompletePayment",e.Tracking="processor.private.event.tracking",e.PerformVerifyFlow="processor.private.performVerifyFlow",e.UpdateComplete="processor.private.updateComplete",e.StatusPageShown="processor.private.statusPageShown",e.ModalStatusShown="processor.private.modalStatusShown",e.TokenRequest="processor.private.tokenRequest",e.OrderStatus="orderStatus",e.CouponApplied="couponApplied",e.FormLoadingError="__provider_form_loading_error__",e.PrivateInteraction="processor.private.interaction",e.PaypalOrderToken="paypalOrderToken",e.LoadConfirmationResponse="processor.private.loadConfirmationResponse",e;}(Nl||{}),Dl=function(e){return e.Submit="submit",e.Error="error",e;}(Dl||{}),Bl=function(e){function t(e){var n;return o(this,t),(n=i(this,t,[e])).name="EventListenersError",n;}return h(t,e),l(t);}(x(Error)),Fl=function(){return l(function e(t){o(this,e),this.merchantLogger=t,this.listeners={},this.allowedEventNames=[El.Mounted,Dl.Error,Dl.Submit,Nl.Success,Nl.Fail,Nl.StartCheckStatus,Nl.AppleCompletePayment,Nl.PaymentButtonsInit,Nl.PrivateResize,El.Resize,Nl.OrderStatus,Nl.Redirect,Nl.Card,Nl.Verify,El.Interaction,El.PaymentDetails,Nl.CustomStylesAppended],this.suspendedEventNames=[Nl.StartCheckStatus,Nl.AppleCompletePayment,Nl.PaymentButtonsInit,Nl.PrivateResize];},[{key:"on",value:function(e,t){if(this.isValidSubscriberArguments(e,t)){var n=function(n){n.data.type===e&&t(n);};this.unsubscribe(e),this.listeners[e]=n,window.addEventListener("message",n);}}},{key:"unsubscribe",value:function(e){this.isValidEventName(e)&&(window.removeEventListener("message",this.listeners[e]),delete this.listeners[e]);}},{key:"unsubscribeAll",value:function(){var e=this;Object.keys(this.listeners).forEach(function(t){window.removeEventListener("message",e.listeners[t]),delete e.listeners[t];});}},{key:"isValidEventName",value:function(e){return this.allowedEventNames.includes(e)||this.merchantLogger.error(new Bl("Event ".concat(e," does not exist"))),this.suspendedEventNames.includes(e)&&this.merchantLogger.warning(new Bl("Event ".concat(e," designed for private use only and might be changed any time. Please, dont rely on it."))),!0;}},{key:"isValidSubscriberArguments",value:function(e,t){return"function"!=typeof t?(this.merchantLogger.error(new Bl("Subscriber for event ".concat(e," is not a function"))),!1):this.isValidEventName(e);}}]);}(),jl={};!function(){if(Ml)return jl;Ml=1;var e=Sr(),t=zu();e({target:"Object",stat:!0,arity:2,forced:Object.assign!==t},{assign:t});}();var Ul=function(e){function t(e){var n;return o(this,t),(n=i(this,t,[e])).name="IframeError",n;}return h(t,e),l(t,[{key:"is",value:function(e){return e instanceof t;}}],[{key:"DoesNotExist",value:function(e){return new t("Container for payment form with id: ".concat(e," does not exist"));}}]);}(x(Error)),$l=function(){return l(function e(t){var n=this;o(this,e),this.iframe=t,this.resolveResult=null,this.isResolved=!1,this.result=new Promise(function(e){return n.resolveResult=e;}).then(function(){n.isResolved=!0;}),this.intervalId=setInterval(function(){t.isPresentInDOM()||(n.resolveResult(),clearInterval(n.intervalId));},50);},[{key:"destroy",value:function(){clearInterval(this.intervalId),this.resolveResult();}}]);}(),zl=function(){function e(t,n,r,i,a){var s=this;o(this,e),this.id=t,this.url=n,this.defaultContainerId=r,this.merchantLogger=i,this.messageBus=a,this.state="Initial",this.isHidden=!0,this.containerId=this.defaultContainerId,this.integrityToken="",this.unmountObservers=[],this.loadCallbacks=[],this.loadErrorCallbacks=[],this.loadErrorValue="",this.element=document.createElement("iframe"),this.element.id=this.id,this.element.name=this.id,this.element.allow="payment *",Object.assign(this.element.style,this.applyVisibility({transition:"none",opacity:"0",position:"absolute"})),this.element.setAttribute("src",n),this.element.onload=function(){s.state="Loaded",s.runLoadedProbe();},this.state="Created";}return l(e,[{key:"mount",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.defaultContainerId,n=arguments.length>2?arguments[2]:void 0,r=document.getElementById(t);if(!r)return this.merchantLogger.error(Ul.DoesNotExist(t)),void(this.state="NoElement");r.appendChild(this.element),this.containerId=t,this.element.dataset.integrityToken=e,this.integrityToken=e,this.defaultWidth=n,this.state="Mounted";}},{key:"width",get:function(){var e;return(null===(e=this.element)||void 0===e?void 0:e.width)||"";}},{key:"height",get:function(){var e;return(null===(e=this.element)||void 0===e?void 0:e.height)||"";}},{key:"setIntentMetadata",value:function(e,t,n){this.element.dataset.intentId=e,this.element.dataset.intentHost=t,this.element.dataset.paymentType=n;}},{key:"resize",value:function(e){var t=e.height,n=e.width;this.element&&(this.element.height="".concat(t,"px"),this.element.width=this.defaultWidth?this.defaultWidth:"".concat(n,"px"));}},{key:"isPresentInDOM",value:function(){if("Destroyed"===this.state)return!1;var e=!1;if(this.element)try{var t=document.getElementById(this.element.id)||null;t&&(e=t.dataset.integrityToken===this.integrityToken);}catch(n){}return e||(this.state="Destroyed"),e;}},{key:"enableTransitions",value:function(){this.element&&Object.assign(this.element.style,this.applyVisibility({transition:"all 100ms"}));}},{key:"show",value:function(){this.isHidden=!1,this.element&&(Object.assign(this.element.style,this.applyVisibility({opacity:"1",position:"relative"})),this.element.style.height="",this.element.getBoundingClientRect());}},{key:"getWindow",value:function(){return window.frames[this.id];}},{key:"onLoad",value:function(e){this.element&&("LoadConfirmed"===this.state?e():this.loadCallbacks.push(e));}},{key:"onError",value:function(e){this.element&&("LoadFailed"===this.state?e(this.loadErrorValue):this.loadErrorCallbacks.push(e));}},{key:"destroy",value:function(){var e;this.state="Destroyed",this.element.src="about:blank",this.unmountObservers.forEach(function(e){return e.destroy();}),null===(e=this.element)||void 0===e||e.remove();}},{key:"unmounted",value:function(){var e=new $l(this);return this.unmountObservers.push(e),e.result;}},{key:"handleLoadConfirmed",value:function(){this.state="LoadConfirmed",this.loadCallbacks.forEach(function(e){return e();});}},{key:"handleLoadFailed",value:function(e){"Destroyed"!==this.state&&(this.loadErrorValue=e,this.state="LoadFailed",this.loadErrorCallbacks.forEach(function(t){return t(e);}));}},{key:"applyVisibility",value:function(e){return this.isHidden?y(y({},e),{},{height:"0px"}):e;}},{key:"runLoadedProbe",value:function(){var t=this,n=null,r=null,i=e.getLoadConfirmationRequestSchedule(),o=function e(i){if(i.data&&i.data.type===Nl.LoadConfirmationResponse)return i.data.integrity===t.integrityToken?(t.handleLoadConfirmed(),t.messageBus.unsubscribe(e),n&&clearTimeout(n),void(r&&clearTimeout(r))):void 0;};n=setTimeout(function(){t.handleLoadFailed("Load confirmation timeout"),t.messageBus.unsubscribe(o),r&&clearTimeout(r);},e.LoadConfirmationTimeout),this.messageBus.subscribeForPublic(o);!function e(){var n=i.shift();void 0!==n&&(r=setTimeout(function(){t.messageBus.sendPublicMessage({type:El.LoadConfirmationRequest,integrity:t.integrityToken},t.getWindow()),e();},n));}();}}],[{key:"getLoadConfirmationRequestSchedule",value:function(){for(var t=[],n=0,r=0;n<e.LoadConfirmationTimeout;){var i=0;i=r<10?10:r<20?20:100,t.push(i),n+=i,r+=1;}return t;}}]);}();zl.LoadConfirmationTimeout=5e3;var Hl,ql,Wl,Vl,Gl,Yl,Jl,Xl,Kl=new WeakMap(),Zl=function(){return l(function e(t,n,r){o(this,e),s(this,Kl,void 0),this.merchantLogger=n,this.messageBus=r,c(Kl,this,t),this.preloadIframe(),this.pendingIframe=this.makePendingIframe();},[{key:"getIframe",value:function(){var e=this.pendingIframe;return this.pendingIframe=this.makePendingIframe(),e;}},{key:"makePendingIframe",value:function(){return new zl(a(Kl,this).getIframeId(),a(Kl,this).getIframeUrl(),a(Kl,this).getDefaultFormId(),this.merchantLogger,this.messageBus);}},{key:"preloadIframe",value:function(){var e=document.createElement("link");e.rel="preload",e.as="document",e.href=a(Kl,this).getIframeUrl();}}]);}(),Ql=function(){return l(function e(){o(this,e);},[{key:"getSdkReferrer",value:function(){return document.referrer;}},{key:"getPageUrl",value:function(){var e;try{e=window.self!==window.top;}catch(t){e=!0;}return e?this.getPageUrlForIframe():this.getPageUrlForUsualPage();}},{key:"getPageUrlForIframe",value:function(){return document.referrer||this.getPageUrlForUsualPage();}},{key:"getPageUrlForUsualPage",value:function(){return window.location.href;}}]);}(),ed={},td={};function nd(){if(Hl)return td;Hl=1;var e=At();return td.f=e,td;}function rd(){if(Wl)return ql;Wl=1;var e=A();return ql=e;}function id(){if(Xl)return ed;Xl=1;var e=Sr(),t=A(),n=H(),r=Le(),i=St(),o=$(),a=Ve(),s=U(),c=It(),u=He(),l=Wt(),d=je(),f=Rt(),p=Pa(),h=Me(),m=qa(),g=fa(),y=qn(),v=vu(),b=_r(),_=Nt(),w=Vt(),k=Ha(),S=Re(),x=vn(),E=Vi(),C=Ct(),T=hn(),I=mn(),P=Pt(),O=At(),R=nd(),M=function(){if(Gl)return Vl;Gl=1;var e=rd(),t=It(),n=nd(),r=Vt().f;return Vl=function(i){var o=e.Symbol||(e.Symbol={});t(o,i)||r(o,i,{value:n.f(i)});};}(),L=function(){if(Jl)return Yl;Jl=1;var e=H(),t=ze(),n=At(),r=vn();return Yl=function(){var i=t("Symbol"),o=i&&i.prototype,a=o&&o.valueOf,s=n("toPrimitive");o&&!o[s]&&r(o,s,function(t){return e(a,this);},{arity:1});};}(),N=Wi(),D=gn(),B=wa().forEach,F=T("hidden"),j="Symbol",z="prototype",q=D.set,W=D.getterFor(j),V=Object[z],G=t.Symbol,Y=G&&G[z],J=t.RangeError,X=t.TypeError,K=t.QObject,Z=_.f,Q=w.f,ee=v.f,te=S.f,ne=r([].push),re=C("symbols"),ie=C("op-symbols"),oe=C("wks"),ae=!K||!K[z]||!K[z].findChild,se=function(e,t,n){var r=Z(V,t);r&&delete V[t],Q(e,t,n),r&&e!==V&&Q(V,t,r);},ce=o&&s(function(){return 7!==m(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a;}})).a;})?se:Q,ue=function(e,t){var n=re[e]=m(Y);return q(n,{type:j,tag:e,description:t}),o||(n.description=t),n;},le=function(e,t,n){e===V&&le(ie,t,n),l(e);var r=f(t);return l(n),c(re,r)?(n.enumerable?(c(e,F)&&e[F][r]&&(e[F][r]=!1),n=m(n,{enumerable:h(0,!1)})):(c(e,F)||Q(e,F,h(1,m(null))),e[F][r]=!0),ce(e,r,n)):Q(e,r,n);},de=function(e,t){l(e);var r=d(t),i=g(r).concat(me(r));return B(i,function(t){o&&!n(fe,r,t)||le(e,t,r[t]);}),e;},fe=function(e){var t=f(e),r=n(te,this,t);return!(this===V&&c(re,t)&&!c(ie,t))&&(!(r||!c(this,t)||!c(re,t)||c(this,F)&&this[F][t])||r);},pe=function(e,t){var n=d(e),r=f(t);if(n!==V||!c(re,r)||c(ie,r)){var i=Z(n,r);return!i||!c(re,r)||c(n,F)&&n[F][r]||(i.enumerable=!0),i;}},he=function(e){var t=ee(d(e)),n=[];return B(t,function(e){c(re,e)||c(I,e)||ne(n,e);}),n;},me=function(e){var t=e===V,n=ee(t?ie:d(e)),r=[];return B(n,function(e){!c(re,e)||t&&!c(V,e)||ne(r,re[e]);}),r;};return a||(G=function(){if(u(Y,this))throw new X("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?p(arguments[0]):void 0,r=P(e),i=function(e){var o=void 0===this?t:this;o===V&&n(i,ie,e),c(o,F)&&c(o[F],r)&&(o[F][r]=!1);var a=h(1,e);try{ce(o,r,a);}catch(s){if(!(s instanceof J))throw s;se(o,r,a);}};return o&&ae&&ce(V,r,{configurable:!0,set:i}),ue(r,e);},x(Y=G[z],"toString",function(){return W(this).tag;}),x(G,"withoutSetter",function(e){return ue(P(e),e);}),S.f=fe,w.f=le,k.f=de,_.f=pe,y.f=v.f=he,b.f=me,R.f=function(e){return ue(O(e),e);},o&&(E(Y,"description",{configurable:!0,get:function(){return W(this).description;}}),i||x(V,"propertyIsEnumerable",fe,{unsafe:!0}))),e({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:G}),B(g(oe),function(e){M(e);}),e({target:j,stat:!0,forced:!a},{useSetter:function(){ae=!0;},useSimple:function(){ae=!1;}}),e({target:"Object",stat:!0,forced:!a,sham:!o},{create:function(e,t){return void 0===t?m(e):de(m(e),t);},defineProperty:le,defineProperties:de,getOwnPropertyDescriptor:pe}),e({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:he}),L(),N(G,j),I[F]=!0,ed;}var od,ad,sd,cd={};function ud(){if(ad)return od;ad=1;var e=Ve();return od=e&&!!Symbol.for&&!!Symbol.keyFor;}var ld,dd={};var fd,pd,hd,md={};function gd(){if(hd)return md;hd=1;var e=Sr(),t=ze(),n=Xi(),r=H(),i=Le(),o=U(),a=Ue(),s=Ye(),c=eo(),u=function(){if(pd)return fd;pd=1;var e=Le(),t=xr(),n=Ue(),r=Ne(),i=Pa(),o=e([].push);return fd=function(e){if(n(e))return e;if(t(e)){for(var a=e.length,s=[],c=0;c<a;c++){var u=e[c];"string"==typeof u?o(s,u):"number"!=typeof u&&"Number"!==r(u)&&"String"!==r(u)||o(s,i(u));}var l=s.length,d=!0;return function(e,n){if(d)return d=!1,n;if(t(this))return n;for(var r=0;r<l;r++)if(s[r]===e)return n;};}};}(),l=Ve(),d=String,f=t("JSON","stringify"),p=i(/./.exec),h=i("".charAt),m=i("".charCodeAt),g=i("".replace),y=i(1..toString),v=/[\uD800-\uDFFF]/g,b=/^[\uD800-\uDBFF]$/,_=/^[\uDC00-\uDFFF]$/,w=!l||o(function(){var e=t("Symbol")("stringify detection");return"[null]"!==f([e])||"{}"!==f({a:e})||"{}"!==f(Object(e));}),k=o(function(){return'"\\udf06\\ud834"'!==f("\udf06\ud834")||'"\\udead"'!==f("\udead");}),S=function(e,t){var i=c(arguments),o=u(t);if(a(o)||void 0!==e&&!s(e))return i[1]=function(e,t){if(a(o)&&(t=r(o,this,d(e),t)),!s(t))return t;},n(f,null,i);},x=function(e,t,n){var r=h(n,t-1),i=h(n,t+1);return p(b,e)&&!p(_,i)||p(_,e)&&!p(b,r)?"\\u"+y(m(e,0),16):e;};return f&&e({target:"JSON",stat:!0,arity:3,forced:w||k},{stringify:function(e,t,r){var i=c(arguments),o=n(w?S:f,null,i);return k&&"string"==typeof o?g(o,v,x):o;}}),md;}var yd,vd,bd={};!function(){vd||(vd=1,id(),function(){if(sd)return cd;sd=1;var e=Sr(),t=ze(),n=It(),r=Pa(),i=Ct(),o=ud(),a=i("string-to-symbol-registry"),s=i("symbol-to-string-registry");e({target:"Symbol",stat:!0,forced:!o},{for:function(e){var i=r(e);if(n(a,i))return a[i];var o=t("Symbol")(i);return a[i]=o,s[o]=i,o;}});}(),function(){if(ld)return dd;ld=1;var e=Sr(),t=It(),n=Ye(),r=Je(),i=Ct(),o=ud(),a=i("symbol-to-string-registry");e({target:"Symbol",stat:!0,forced:!o},{keyFor:function(e){if(!n(e))throw new TypeError(r(e)+" is not a symbol");if(t(a,e))return a[e];}});}(),gd(),function(){if(yd)return bd;yd=1;var e=Sr(),t=Ve(),n=U(),r=_r(),i=Tt();e({target:"Object",stat:!0,forced:!t||n(function(){r.f(1);})},{getOwnPropertySymbols:function(e){var t=r.f;return t?t(i(e)):[];}});}());}();var _d,wd={};function kd(e,t){return Object.keys(e).some(function(n){return e[n]===t;});}!function(){if(_d)return wd;_d=1;var e=Sr(),t=$(),n=A(),r=Le(),i=It(),o=Ue(),a=He(),s=Pa(),c=Vi(),u=wr(),l=n.Symbol,d=l&&l.prototype;if(t&&o(l)&&(!("description"in d)||void 0!==l().description)){var f={},p=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:s(arguments[0]),t=a(d,this)?new l(e):void 0===e?l():l(e);return""===e&&(f[t]=!0),t;};u(p,l),p.prototype=d,d.constructor=p;var h="Symbol(description detection)"===String(l("description detection")),m=r(d.valueOf),g=r(d.toString),y=/^Symbol\((.*)\)[^)]+$/,v=r("".replace),b=r("".slice);c(d,"description",{configurable:!0,get:function(){var e=m(this);if(i(f,e))return"";var t=g(e),n=h?b(t,7,-1):v(t,y,"$1");return""===n?void 0:n;}}),e({global:!0,constructor:!0,forced:!0},{Symbol:p});}}();var Sd=function(e){return e.FormSubmit="form_v2_submitted",e;}(Sd||{}),xd=function(e){return e.Loading="form_loading",e.Filling="form_filling",e.Submit="form_submit",e.Form3d="form_3D",e.FormDSRP="form_dsrp",e.Errors="form_errors",e.After="form_after",e;}(xd||{}),Ed=function(e){return e.Events="form_events",e;}(Ed||{}),Cd=function(){function e(t,n){var r=this;o(this,e),this.api=t,this.scriptSource=n,this.lastFormShownTime=0,this.lastGooglePayShowTime=0,this.lastApplePayShownTime=0,this.scriptLoadTimeEventsSend=0,this.formEventCustomization=d({},Sd.FormSubmit,function(e){return y(y({},e),{},{value:"".concat(r.lastFormShownTime?Date.now()-r.lastFormShownTime:0)});});}return l(e,[{key:"getScriptLoadTime",value:function(){var e=this,t=this.getPerformance();if(!t||!t.getEntriesByType)return 0;var n=t.getEntriesByType("resource").find(function(t){return t.name===e.scriptSource;});return(null==n?void 0:n.duration)||null;}},{key:"getPerformance",value:function(){return window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||null;}},{key:"getPerformanceNow",value:function(){var e=this.getPerformance();try{return e?e.now():0;}catch(t){return 0;}}},{key:"fromForm",value:function(e){var t=y({},e);delete t.type,Object.values(Sd).includes(t.event)?this.api.send(this.formEventCustomization[t.event](t)):this.api.send(t);}},{key:"init",value:function(t,n,r){this.api.init({signature:t,entityValue:n,merchant:r,entityName:e.entityName});}},{key:"clear",value:function(){this.api.clear(),this.scriptLoadTimeEventsSend=0;}},{key:"cdnTest",value:function(e){var t=window?window._PAYMENT_PROVIDER_CDN_SPLIT_TEST_GROUP_:"";t&&this.api.send({event:"form_v2_cdn_split",category:Ed.Events,level:xd.Loading,context:t,value:e});}},{key:"scriptLoadTime",value:function(){if(!(this.scriptLoadTimeEventsSend>=10)){this.scriptLoadTimeEventsSend=this.scriptLoadTimeEventsSend+1;var e=this.getScriptLoadTime();null!==e&&this.api.send({event:"form_v2_script_load_time",category:Ed.Events,level:xd.Loading,value:e.toString(10)});}}},{key:"initNetworkError",value:function(e){e>0&&this.api.send({event:"form_v2_init_network_error",category:Ed.Events,level:xd.Loading,value:e.toString(10)});}},{key:"resignInitTime",value:function(){var e=this,t=this.getPerformanceNow();return t?function(){e.lastFormShownTime=Date.now();var n=e.getPerformanceNow();e.api.send({event:"form_v2_resign_init_time",category:Ed.Events,level:xd.Loading,value:(t-n).toString(10)});}:function(){};}},{key:"initTime",value:function(){var e=this,t=this.getPerformanceNow();if(!t)return{formLoadEnded:function(){},buttonsLoadEnded:function(){}};var n=t,r=t,i=!1,o=!1,a=!1,s=function(){a&&!i||!o||e.api.send({event:"form_v2_init_time",category:Ed.Events,level:xd.Loading,value:a?(n-t).toString(10):"0",context:(r-t).toString(10)});};return{buttonsLoadEnded:function(t){n=e.getPerformanceNow(),i=!0,a=t,s();},formLoadEnded:function(t){e.lastFormShownTime=Date.now(),r=e.getPerformanceNow(),o=!0,a=t,s();}};}},{key:"updateTime",value:function(){var e=this,t=this.getPerformanceNow();return t?function(){e.api.send({event:"form_v2_update_init",category:Ed.Events,level:xd.Loading,value:(e.getPerformanceNow()-t).toString(10)});}:function(){};}},{key:"appleButtonMounted",value:function(e){this.lastApplePayShownTime=Date.now(),this.api.send({event:"applebtn_mounted",category:Ed.Events,level:xd.Loading,context:e});}},{key:"appleButtonClicked",value:function(){this.api.send({event:"applepaybtn_click",category:Ed.Events,level:xd.FormDSRP});}},{key:"appleButtonPageOpened",value:function(){this.api.send({event:"applepaybtn_opened",category:Ed.Events,level:xd.FormDSRP});}},{key:"appleButtonPageClosed",value:function(){this.api.send({event:"applepaybtn_closed",category:Ed.Events,level:xd.FormDSRP});}},{key:"appleButtonSubmitted",value:function(){this.api.send({event:"applepay_submitted",category:Ed.Events,level:xd.Submit,value:"".concat(this.lastApplePayShownTime?Date.now()-this.lastApplePayShownTime:0)});}},{key:"googleButtonMounted",value:function(){this.lastGooglePayShowTime=Date.now(),this.api.send({event:"googlebtn_mounted",category:Ed.Events,level:xd.Loading});}},{key:"googleButtonPageOpened",value:function(){this.api.send({event:"googlebtn_page_opened",category:Ed.Events,level:xd.FormDSRP});}},{key:"googleButtonPageClosed",value:function(){this.api.send({event:"googlebtn_page_closed",category:Ed.Events,level:xd.FormDSRP});}},{key:"googleButtonPageSubmitted",value:function(){this.api.send({event:"googlebtn_page_submitted",category:Ed.Events,level:xd.Submit,value:"".concat(this.lastGooglePayShowTime?Date.now()-this.lastGooglePayShowTime:0)});}},{key:"paypalButtonMountTime",value:function(){var e=this,t=this.getPerformanceNow();return t?function(){e.api.send({event:"paypalbtn_mounted",category:Ed.Events,level:xd.Loading,value:(e.getPerformanceNow()-t).toString(10)});}:function(){};}},{key:"pixButtonMounted",value:function(){this.api.send({event:"pixbtn_mounted",category:Ed.Events,level:xd.Loading});}},{key:"pixButtonClicked",value:function(){this.api.send({event:"pixbtn_click",category:Ed.Events,level:xd.FormDSRP});}},{key:"pixButtonPageOpened",value:function(){this.api.send({event:"pixbtn_opened",category:Ed.Events,level:xd.FormDSRP});}},{key:"pixButtonPageClosed",value:function(){this.api.send({event:"pixbtn_closed",category:Ed.Events,level:xd.FormDSRP});}},{key:"updateIntentStarted",value:function(){this.api.send({event:"form_v2_intent_update",level:xd.Loading,category:Ed.Events});}},{key:"domainsUsage",value:function(e){this.api.send({event:"request_v2_from_domain",level:xd.Loading,category:Ed.Events,context:e.sdkReferrer,value:this.getDomainName(e.pageUrl)}),this.api.send({event:"request_v2_from_url",level:xd.Loading,context:e.sdkReferrer,category:Ed.Events,value:e.pageUrl});}},{key:"getDomainName",value:function(e){if(e){var t=new URL(e).hostname.split(".").reverse();return t.length>=3&&t[1].match(/^(com|edu|gov|net|mil|org|nom|co|name|info|biz)$/i)?"".concat(t[2],".").concat(t[1],".").concat(t[0]):"".concat(t[1],".").concat(t[0]);}return"";}}]);}();Cd.entityName="track_id";var Td=function(){function e(t,n,r,i){var a=this;o(this,e),this.context=t,this.tracking=n,this.logger=r,this.messageBus=i,this.messageBus.subscribeForPublic(function(e){return a.withLogger(function(){return a.processPublicMessage(e);});}),this.messageBus.subscribeForPrivate(function(e){return a.withLogger(function(){return a.processMessage(e,!0);});});}return l(e,[{key:"reset",value:function(){this.context.paymentButtonsInteractivity.release(e.START_CHECK_STATUS_INTERACTIVITY_LOCK);}},{key:"withLogger",value:function(e){try{e();}catch(t){t instanceof Error&&this.logger.error(ba.wrap(t,"Failed to process message"));}}},{key:"processPublicMessage",value:function(t){t.data&&t.data.type&&(kd(Nl,t.data.type)||kd(El,t.data.type)||kd(Dl,t.data.type))&&this.processMessage(t.data,e.isCrossOriginMessage(t));}},{key:"processMessage",value:function(e,t){switch(e.type){case Nl.Fail:this.handleFail();break;case Nl.Success:this.handleSuccess();break;case Nl.PrivateResize:this.handlePrivateResize(e,t);break;case Nl.Redirect:this.handleRedirect();break;case Nl.StartCheckStatus:this.handleStartCheckStatus(e);break;case Nl.AppleCompletePayment:this.handleAppleCompletePayment(e);break;case Nl.FormLoadingError:this.handleFormLoadingError(e);break;case Nl.PrivateInteraction:this.handleInteraction(e);break;case Nl.ModalStatusShown:this.handleModalStatusShown();break;case Nl.StatusPageShown:this.handleStatusPageShown();break;case Nl.PerformVerifyFlow:this.handlePerformVerifyFlow(e);break;case Nl.TokenRequest:this.handleTokenRequest(e);break;case Nl.Tracking:this.handleTracking(e);}}},{key:"handleFail",value:function(){var e;null===(e=this.context.threeDSFlow)||void 0===e||e.close();}},{key:"handleSuccess",value:function(){var e;null===(e=this.context.threeDSFlow)||void 0===e||e.close();}},{key:"handlePrivateResize",value:function(e,t){if(t){var n=this.context.resize(e),r=n.width,i=n.height;n.visible&&this.messageBus.sendPublicMessage({type:El.Resize,width:r,height:i});}}},{key:"handleRedirect",value:function(){var e,t;null===(e=this.context.paymentsButtons)||void 0===e||e.destroy(),null===(t=this.context.iframe)||void 0===t||t.show();}},{key:"handleStartCheckStatus",value:function(t){t.value?this.context.paymentButtonsInteractivity.acquire(e.START_CHECK_STATUS_INTERACTIVITY_LOCK):this.context.paymentButtonsInteractivity.release(e.START_CHECK_STATUS_INTERACTIVITY_LOCK);}},{key:"handleAppleCompletePayment",value:function(e){var t;null===(t=this.context.paymentsButtons)||void 0===t||t.completeApplePayment(e.success);}},{key:"handleFormLoadingError",value:function(e){this.logger.error(new ba("Form loading error",{message:e.message}));}},{key:"handleInteraction",value:function(e){var t;null===(t=this.context.interactionsNotifier)||void 0===t||t.processFormMessage(e);}},{key:"handleModalStatusShown",value:function(){var e;null===(e=this.context.threeDSFlow)||void 0===e||e.close();}},{key:"handleStatusPageShown",value:function(){var e,t;null===(e=this.context.paymentsButtons)||void 0===e||e.destroy(),null===(t=this.context.iframe)||void 0===t||t.show();}},{key:"handlePerformVerifyFlow",value:function(e){this.context.choose3DSFlowScenario(e.verifyType,e.url,e.message);}},{key:"handleTokenRequest",value:function(e){this.context.sendTokenToForm(e.intentId);}},{key:"handleTracking",value:function(e){var t=this.context.getLastKnownIntentTracking();this.tracking.fromForm(y(y({},e),{},{entityName:Cd.entityName,entityValue:null==t?void 0:t.trackId,signature:null==t?void 0:t.trackSignature}));}}],[{key:"isCrossOriginMessage",value:function(e){return!!window.location.origin&&e.origin!==window.location.origin;}}]);}();Td.START_CHECK_STATUS_INTERACTIVITY_LOCK=Symbol("start_check_status");var Id,Pd=function(e){return e.Default="default",e.Modal="modal",e.Tab="tab",e;}(Pd||{}),Ad=function(e){function t(e){var n;return o(this,t),(n=i(this,t,["Unable to init payment: ".concat(JSON.stringify(e))])).name="InitPaymentError",n.details=e,n;}return h(t,e),l(t);}(x(Error)),Od=l(function e(){o(this,e);});(Id=Od).toSnakeCase=function(e){return e.replace(/[A-Z]/g,function(e){return"_".concat(e.toLowerCase());});},Id.toCamelCase=function(e){return e.replace(/([-_][a-z])/gi,function(e){return e.toUpperCase().replace("-","").replace("_","");});};var Rd,Md,Ld,Nd,Dd,Bd,Fd,jd={};function Ud(){return Md?Rd:(Md=1,Rd="\t\n\v\f\r Â áââââââââââââ¯âã\u2028\u2029\ufeff");}function $d(){if(Nd)return Ld;Nd=1;var e=Le(),t=Fe(),n=Pa(),r=Ud(),i=e("".replace),o=RegExp("^["+r+"]+"),a=RegExp("(^|[^"+r+"])["+r+"]+$"),s=function(e){return function(r){var s=n(t(r));return 1&e&&(s=i(s,o,"")),2&e&&(s=i(s,a,"$1")),s;};};return Ld={start:s(1),end:s(2),trim:s(3)};}function zd(){if(Bd)return Dd;Bd=1;var e=dn().PROPER,t=U(),n=Ud();return Dd=function(r){return t(function(){return!!n[r]()||"âÂá "!=="âÂá "[r]()||e&&n[r].name!==r;});};}!function(){if(Fd)return jd;Fd=1;var e=Sr(),t=$d().trim;e({target:"String",proto:!0,forced:zd()("trim")},{trim:function(){return t(this);}});}();var Hd={type:"text",maxLength:100,mask:function(e){return e;},regexp:"^(?=.*\\S.{4,})[\\w\\s.,!?:;'\"()\\-]+$"};var qd={type:"tel",maxLength:14,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{3})/,"$1.").replace(/(.{7})/,"$1.").replace(/(.{11})/,"$1-").replace(/\.$|-$/,"");},regexp:"[0-9]{11,14}",validator:function(e){var t,n=e.replace(/[^\d]+/g,""),r=1;if(11!==n.length)return!1;for(t=0;t<n.length-1;t++)if(n.charAt(t)!==n.charAt(t+1)){r=0;break;}if(1===r)return!1;var i=n.substring(0,9),o=n.substring(9),a=0;for(t=10;t>1;t--)a+=parseInt(i.charAt(10-t))*t;var s=a%11<2?0:11-a%11;if(s.toString()!==o.charAt(0))return!1;for(i=n.substring(0,10),a=0,t=11;t>1;t--)a+=parseInt(i.charAt(11-t))*t;return(s=a%11<2?0:11-a%11).toString()===o.charAt(1);}};var Wd,Vd,Gd,Yd,Jd,Xd,Kd,Zd,Qd,ef,tf,nf,rf,of,af,sf,cf,uf,lf,df,ff,pf,hf,mf,gf,yf,vf,bf;function _f(){if(Xd)return Jd;Xd=1;var e=function(){return Yd?Gd:(Yd=1,Gd=function(e){return function(t,n,r){for(var i=-1,o=Object(t),a=r(t),s=a.length;s--;){var c=a[e?s:++i];if(!1===n(o[c],c,o))break;}return t;};});}()();return Jd=e;}function wf(){if(ef)return Qd;ef=1;var e="object"==typeof E&&E&&E.Object===Object&&E;return Qd=e;}function kf(){if(nf)return tf;nf=1;var e=wf(),t="object"==typeof self&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return tf=n;}function Sf(){if(of)return rf;of=1;var e=kf().Symbol;return rf=e;}function xf(){if(df)return lf;df=1;var e=Sf(),t=function(){if(sf)return af;sf=1;var e=Sf(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;return af=function(e){var t=n.call(e,i),o=e[i];try{e[i]=void 0;var a=!0;}catch(c){}var s=r.call(e);return a&&(t?e[i]=o:delete e[i]),s;};}(),n=function(){if(uf)return cf;uf=1;var e=Object.prototype.toString;return cf=function(t){return e.call(t);};}(),r=e?e.toStringTag:void 0;return lf=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":r&&r in Object(e)?t(e):n(e);};}function Ef(){if(pf)return ff;return pf=1,ff=function(e){return null!=e&&"object"==typeof e;};}function Cf(){if(yf)return gf;yf=1;var e=function(){if(mf)return hf;mf=1;var e=xf(),t=Ef();return hf=function(n){return t(n)&&"[object Arguments]"==e(n);};}(),t=Ef(),n=Object.prototype,r=n.hasOwnProperty,i=n.propertyIsEnumerable,o=e(function(){return arguments;}())?e:function(e){return t(e)&&r.call(e,"callee")&&!i.call(e,"callee");};return gf=o;}var Tf,If,Pf,Af,Of,Rf,Mf,Lf,Nf,Df,Bf,Ff={exports:{}};function jf(){return Pf||(Pf=1,function(e,t){var n=kf(),r=function(){return If?Tf:(If=1,Tf=function(){return!1;});}(),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i?n.Buffer:void 0,s=(a?a.isBuffer:void 0)||r;e.exports=s;}(Ff,Ff.exports)),Ff.exports;}function Uf(){if(Mf)return Rf;Mf=1;return Rf=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991;};}Ff.exports;var $f,zf,Hf,qf,Wf,Vf,Gf,Yf,Jf,Xf,Kf,Zf,Qf,ep,tp,np,rp,ip,op,ap,sp,cp,up,lp,dp,fp,pp,hp,mp,gp,yp,vp={exports:{}};function bp(){if(Hf)return zf;Hf=1;var e=function(){if(Nf)return Lf;Nf=1;var e=xf(),t=Uf(),n=Ef(),r={};return r["[object Float32Array]"]=r["[object Float64Array]"]=r["[object Int8Array]"]=r["[object Int16Array]"]=r["[object Int32Array]"]=r["[object Uint8Array]"]=r["[object Uint8ClampedArray]"]=r["[object Uint16Array]"]=r["[object Uint32Array]"]=!0,r["[object Arguments]"]=r["[object Array]"]=r["[object ArrayBuffer]"]=r["[object Boolean]"]=r["[object DataView]"]=r["[object Date]"]=r["[object Error]"]=r["[object Function]"]=r["[object Map]"]=r["[object Number]"]=r["[object Object]"]=r["[object RegExp]"]=r["[object Set]"]=r["[object String]"]=r["[object WeakMap]"]=!1,Lf=function(i){return n(i)&&t(i.length)&&!!r[e(i)];};}(),t=function(){return Bf?Df:(Bf=1,Df=function(e){return function(t){return e(t);};});}(),n=function(){return $f||($f=1,function(e,t){var n=wf(),r=t&&!t.nodeType&&t,i=r&&e&&!e.nodeType&&e,o=i&&i.exports===r&&n.process,a=function(){try{return i&&i.require&&i.require("util").types||o&&o.binding&&o.binding("util");}catch(e){}}();e.exports=a;}(vp,vp.exports)),vp.exports;}(),r=n&&n.isTypedArray,i=r?t(r):e;return zf=i;}function _p(){if(Wf)return qf;Wf=1;var e=function(){return Zd?Kd:(Zd=1,Kd=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r;});}(),t=Cf(),n=function(){if(bf)return vf;bf=1;var e=Array.isArray;return vf=e;}(),r=jf(),i=function(){if(Of)return Af;Of=1;var e=/^(?:0|[1-9]\d*)$/;return Af=function(t,n){var r=typeof t;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&e.test(t))&&t>-1&&t%1==0&&t<n;};}(),o=bp(),a=Object.prototype.hasOwnProperty;return qf=function(s,c){var u=n(s),l=!u&&t(s),d=!u&&!l&&r(s),f=!u&&!l&&!d&&o(s),p=u||l||d||f,h=p?e(s.length,String):[],m=h.length;for(var g in s)!c&&!a.call(s,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||f&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||i(g,m))||h.push(g);return h;};}function wp(){if(Kf)return Xf;Kf=1;var e=function(){return Jf?Yf:(Jf=1,Yf=function(e,t){return function(n){return e(t(n));};});}()(Object.keys,Object);return Xf=e;}function kp(){if(Qf)return Zf;Qf=1;var e=function(){if(Gf)return Vf;Gf=1;var e=Object.prototype;return Vf=function(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||e);};}(),t=wp(),n=Object.prototype.hasOwnProperty;return Zf=function(r){if(!e(r))return t(r);var i=[];for(var o in Object(r))n.call(r,o)&&"constructor"!=o&&i.push(o);return i;};}function Sp(){if(rp)return np;rp=1;var e=xf(),t=function(){return tp?ep:(tp=1,ep=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t);});}();return np=function(n){if(!t(n))return!1;var r=e(n);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r;};}function xp(){if(sp)return ap;sp=1;var e=_p(),t=kp(),n=function(){if(op)return ip;op=1;var e=Sp(),t=Uf();return ip=function(n){return null!=n&&t(n.length)&&!e(n);};}();return ap=function(r){return n(r)?e(r):t(r);};}function Ep(){if(dp)return lp;dp=1;var e=function(){if(up)return cp;up=1;var e=_f(),t=xp();return cp=function(n,r){return n&&e(n,r,t);};}();return lp=function(t,n,r,i){return e(t,function(e,t,o){n(i,r(e),t,o);}),i;};}vp.exports;var Cp=C(function(){if(yp)return gp;yp=1;var e=function(){return Vd?Wd:(Vd=1,Wd=function(e){return function(){return e;};});}(),t=function(){if(pp)return fp;pp=1;var e=Ep();return fp=function(t,n){return function(r,i){return e(r,t,n(i),{});};};}(),n=function(){return mp?hp:(mp=1,hp=function(e){return e;});}(),r=Object.prototype.toString,i=t(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=r.call(t)),e[t]=n;},e(n));return gp=i;}());var Tp=new function(e){var t,n=e?e.preset:"ru",r={"Ð°":"a","Ð±":"b","Ð²":"v","Ð´":"d","Ð·":"z","Ð¹":"y","Ðº":"k","Ð»":"l","Ð¼":"m","Ð½":"n","Ð¾":"o","Ð¿":"p","Ñ":"r","Ñ":"s","Ñ":"t","Ñ":"u","Ñ":"f","Ñ":""};"ru"===n?Object.assign(r,{"Ð³":"g","Ð¸":"i","Ñ":"","Ñ":"i","Ñ":"e"}):"uk"===n?Object.assign(r,{"Ð³":"h","Ò":"g","Ðµ":"e","Ð¸":"y","Ñ":"i","'":"","â":"","Ê¼":""}):"mn"===n&&Object.assign(r,{"Ð³":"g","Ó©":"o","Ò¯":"u","Ð¸":"i","Ñ":"y","Ñ":"e","Ñ":""}),"ru"===n?t=Object.assign(Cp(r),{i:"Ð¸","":""}):("uk"===n||"mn"===n)&&(t=Object.assign(Cp(r),{"":""}));var i,o="ru"===n?{"Ðµ":"ye"}:{"Ñ":"ye","Ñ":"yi"},a={"Ñ":"yo","Ð¶":"zh","Ñ":"kh","Ñ":"ts","Ñ":"ch","Ñ":"sh","Ñ":"shch","Ñ":"yu","Ñ":"ya"},s=Object.assign({},a,o),c=Object.assign(Cp(s)),u=Object.assign(r,s),l=Object.assign({},r,{"Ð¹":"i"});"ru"===n?Object.assign(l,{"Ðµ":"e"}):"uk"===n?Object.assign(l,{"Ñ":"i"}):"mn"===n&&Object.assign(l,{"Ðµ":"e"}),"ru"===n?i=Object.assign(Cp(r),{i:"Ð¸",y:"Ñ",e:"Ðµ","":""}):"uk"===n&&(i=Object.assign(Cp(r),{"":""}));var d={};"uk"===n&&(d={"Ñ":"ie","Ñ":"iu","Ñ":"ia"});var f=Object.assign(a,d),p=Object.assign(Cp(f)),h=Object.assign(l,f);return{transform:function(e,t){if(!e)return"";for(var r=e.normalize(),i="",o=!1,a=0;a<r.length;a++){var s=r[a]===r[a].toUpperCase(),c=r[a].toLowerCase();if(" "!==c){var l=void 0;"uk"===n&&"Ð·Ð³"===r.slice(a-1,a+1).toLowerCase()?l="gh":0===a||o?(l=u[c],o=!1):l=h[c],void 0===l?i+=s?c.toUpperCase():c:s?l.length>1?i+=l[0].toUpperCase()+l.slice(1):i+=l.toUpperCase():i+=l;}else i+=t||" ",o=!0;}return i;},reverse:function(e,n){if(!e)return"";for(var r=e.normalize(),o="",a=!1,s=0;s<r.length;){var u=r[s]===r[s].toUpperCase(),l=r[s].toLowerCase(),d=s;if(" "!==l&&l!==n){var f=void 0,h=r.slice(s,s+2).toLowerCase();0===s||a?((f=c[h])?s+=2:(f=t[l],s++),a=!1):(f=p[h])?s+=2:(f=i[l],s++),"shch"===r.slice(d,d+4).toLowerCase()?(f="Ñ",s=d+4):"zgh"===r.slice(d-1,d+2).toLowerCase()&&(f="Ð³",s=d+2),void 0===f?o+=u?l.toUpperCase():l:u?f.length>1?o+=f[0].toUpperCase()+f.slice(1):o+=f.toUpperCase():o+=f;}else o+=" ",a=!0,s++;}return o;}};}();var Ip={type:"text",maxLength:50,mask:function(e){return Tp.transform(e).replace(/\s\s+/g," ").replace(/^[^a-zA-Z]|\./g,"").replace(/[^a-zA-Z'\-. ]/g,"").toUpperCase();},regexp:"^\\w.{1,48}\\w$"};var Pp,Ap,Op,Rp,Mp={},Lp={};function Np(){if(Ap)return Pp;Ap=1;var e=$d().start,t=zd();return Pp=t("trimStart")?function(){return e(this);}:"".trimStart;}!function(){if(Rp)return Mp;Rp=1,function(){if(Op)return Lp;Op=1;var e=Sr(),t=Np();e({target:"String",proto:!0,name:"trimStart",forced:"".trimLeft!==t},{trimLeft:t});}();var e=Sr(),t=Np();e({target:"String",proto:!0,name:"trimStart",forced:"".trimStart!==t},{trimStart:t});}();var Dp,Bp,Fp,jp={cardPin:{type:"tel",maxLength:4,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{4}"},zip:{type:"tel",maxLength:function(e){return"USA"===(null==e?void 0:e.country)?10:5;},mask:function(e,t){return"USA"===(null==t?void 0:t.country)?e.replace(/[^\d]/g,"").replace(/(.{5})/,"$1-").replace(/\.$|-$/,""):e.replace(/[^\d]/g,"");},regexp:function(e){return"USA"===(null==e?void 0:e.country)?"^[0-9]{5}(?:[0-9]{4})?$":"[0-9]{5}";}},billingAddress:Hd,billingCity:{type:"text",maxLength:100,mask:function(e){return e;},regexp:"^(?=(.*[a-zA-Z]){2})[a-zA-Z\\s'-]+$"},billingState:{type:"text",maxLength:100,mask:function(e){return e;},regexp:"^(?=(.*[a-zA-Z]){2})[a-zA-Z\\s]+$"},cardHolder:Ip,argentinaDni:{type:"tel",maxLength:11,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{2})/,"$1.").replace(/(.{6})/,"$1.").replace(/\.$|-$/,"");},regexp:"[0-9]{7,9}"},bangladeshNic:{type:"tel",maxLength:19,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{3})/,"$1 ").replace(/(.{7})/,"$1 ").trim();},regexp:"[0-9]{13,17}"},boliviaCi:{type:"tel",maxLength:22,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{2})/,"$1.").replace(/(.{6})/,"$1.").replace(/\.$|-$/,"");},regexp:"[0-9]{5,20}"},brazilCpf:qd,cameroonCni:{type:"tel",maxLength:8,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{8}"},chileCi:{type:"tel",maxLength:10,mask:function(e){var t=e.toUpperCase();return"-"===t.charAt(t.length-1)&&(t=t.slice(0,t.length-1)),8!==t.length||t.includes("-")||(t="".concat(t.slice(0,7),"-").concat(t.slice(7,8))),9!==t.length||t.includes("-")||(t="".concat(t.slice(0,8),"-").concat(t.slice(8,9))),"-"===(t=t.split("").filter(function(e,t){return!("-"===e&&![7,8].includes(t));}).join("")).charAt(7)&&"-"===t.charAt(8)&&(t="".concat(t.slice(0,7)).concat(t.slice(8,t.length))),"-"===t.charAt(7)&&10===t.length&&(t="".concat(t.slice(0,7)).concat(t.charAt(8),"-").concat(t.charAt(9))),t.replace(/[^a-zA-Z0-9-]/g,"");},regexp:"[a-zA-Z0-9]{8,9}"},chinaId:{type:"tel",maxLength:20,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{5,20}"},colombiaCc:{type:"tel",maxLength:10,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{6,10}"},costaRicaCi:{type:"tel",maxLength:11,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{1})/,"$1 ").replace(/(.{6})/,"$1 ").trim();},regexp:"[0-9]{9}"},dominicanaId:{type:"tel",maxLength:13,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{3})/,"$1-").replace(/(.{11})/,"$1-").replace(/\.$|-$/,"");},regexp:"[0-9]{11}"},ecuadorCi:{type:"tel",maxLength:22,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{4})/,"$1.").replace(/(.{7})/,"$1.").replace(/\.$|-$/,"");},regexp:"[0-9]{5,20}"},elSalvadorId:{type:"tel",maxLength:11,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{9,11}"},egyptId:{type:"tel",maxLength:19,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{1})/,"$1 ").replace(/(.{4})/,"$1 ").replace(/(.{7})/,"$1 ").replace(/(.{10})/,"$1 ").replace(/(.{13})/,"$1 ").trim();},regexp:"[0-9]{14}"},ghanaCard:{type:"tel",maxLength:13,mask:function(e){return e.replace(/[^\da-zA-Z]/g,"").toUpperCase();},regexp:"[a-zA-Z0-9]{13}"},guatemalaCui:{type:"tel",maxLength:15,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{4})/,"$1 ").replace(/(.{10})/,"$1 ").trim();},regexp:"[0-9]{13}"},indiaPan:{type:"text",maxLength:12,mask:function(e){return e.replace(/[^\da-zA-Z]/g,"").replace(/(.{5})/,"$1 ").replace(/(.{10})/,"$1 ").toUpperCase().trim();},regexp:"[a-zA-Z]{5}[0-9]{4}[a-zA-Z]{1}"},indonesiaNik:{type:"tel",maxLength:20,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{2})/,"$1 ").replace(/(.{5})/,"$1 ").replace(/(.{8})/,"$1 ").replace(/(.{15})/,"$1 ").trim();},regexp:"[0-9]{16}"},japanId:{type:"tel",maxLength:12,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{12}"},kenyaId:{type:"tel",maxLength:8,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{8}"},malaysiaNric:{type:"tel",maxLength:14,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{6})/,"$1-").replace(/(.{9})/,"$1-").replace(/\.$|-$/,"");},regexp:"[0-9]{12}"},mexicoCurp:{type:"text",maxLength:18,mask:function(e){return e.replace(/[^\da-zA-Z]/g,"").toUpperCase();},regexp:"[a-zA-Z0-9]{10,18}"},moroccoCnie:{type:"text",maxLength:20,mask:function(e){return e.replace(/[^\da-zA-Z]/g,"").toUpperCase();},regexp:"[a-zA-Z0-9]{5,20}"},nigeriaNin:{type:"tel",maxLength:11,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{11}"},panamaId:{type:"tel",maxLength:10,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{1})/,"$1-").replace(/(.{5})/,"$1-").replace(/\.$|-$/,"");},regexp:"[0-9]{8}"},paraguayCi:{type:"tel",maxLength:20,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{5,20}"},peruDni:{type:"tel",maxLength:9,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{8,9}"},philipinesPsn:{type:"tel",maxLength:14,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{4})/,"$1-").replace(/(.{12})/,"$1-").replace(/\.$|-$/,"");},regexp:"[0-9]{12}"},senegalCni:{type:"tel",maxLength:17,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{13,17}"},southAfricaId:{type:"tel",maxLength:13,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{13}"},tanzaniaId:{type:"tel",maxLength:23,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{8})/,"$1-").replace(/(.{14})/,"$1-").replace(/(.{20})/,"$1-").replace(/\.$|-$/,"");},regexp:"[0-9]{20}"},thailandId:{type:"tel",maxLength:17,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{1})/,"$1 ").replace(/(.{6})/,"$1 ").replace(/(.{12})/,"$1 ").replace(/(.{15})/,"$1 ").trim();},regexp:"[0-9]{13}"},turkeyTcKimlikNo:{type:"tel",maxLength:20,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{5,20}"},ugandaNic:{type:"tel",maxLength:14,mask:function(e){return e.replace(/[^\da-zA-Z]/g,"").toUpperCase();},regexp:"[a-zA-Z0-9]{14}"},uriguayCi:{type:"tel",maxLength:8,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{6,8}"},vietnamVnid:{type:"tel",maxLength:12,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"^[0-9]{9}$|^[0-9]{12}$"},indianCustomerPhone:{type:"tel",maxLength:15,regexp:"(\\+91[\\-\\s]?)?[0]?(91)?[789]\\d{9}",mask:function(e){return e.replace(/[^+?\-?(?)?\d?]/,"");}},gbrPostalCode:{type:"tel",maxLength:8,mask:function(e){var t=e.replace(/[^\w]/gi,""),n=new RegExp("^[0-9]{1,8}$").test(t),r=e.replace(/[^\w ]/g,"").trimStart().toUpperCase();return n?r.slice(0,5):r;},regexp:function(){return"^(([A-Z]{1,2}\\d[A-Z\\d]?|ASCN|STHL|TDCU|BBND|[BFS]IQQ|PCRN|TKCA) ?\\d[A-Z]{2}|BFPO ?\\d{1,4}|(KY\\d|MSR|VG|AI)[ -]?\\d{4}|[A-Z]{2} ?\\d{2}|GE ?CX|GIR ?0A{2}|SAN ?TA1)$|^[0-9]{5}$";},isOptional:!0},brazilCustomerPhone:{type:"tel",maxLength:10,mask:function(e){return e.replace(/[^\d]/g,"").trim();},regexp:"^[0-9]{5}[0-9]{5}$"},brazilZip:{type:"text",maxLength:9,mask:function(e){return e.replace(/[^\d]/g,"").replace(/(.{5})/,"$1-").replace(/\.$|-$/,"");},regexp:"[0-9]{8}"},indiaZip:{type:"tel",maxLength:6,mask:function(e){return e.replace(/[^\d]/g,"");},regexp:"[0-9]{6}"}},Up=function(e){return e.Verve="verve",e.Visa="visa",e.Mastercard="mastercard",e.Maestro="maestro",e.AmericanExpress="american-express",e.Jcb="jcb",e.DinersClub="diners-club",e.Discover="discover",e.Aura="aura",e.Elo="elo",e.Hipercard="hipercard",e.CartesBancaires="cartes-bancaires",e.Rupay="rupay",e.BCCard="bc-card",e.UnionPay="unionpay",e.Dankort="dankort",e.GPNCard="gpn-card",e.Troy="troy",e.ThaiPaymentNetwork="thai-payment-network",e.MADA="mada",e.Bancontact="bancontact",e.Interac="interac",e.Bajaj="bajaj",e.Paypal="paypal",e;}(Up||{}),$p=function(e){return e.Apple="apple",e.Google="google",e;}($p||{}),zp=Object.keys(jp),Hp={};!function(){if(Fp)return Hp;Fp=1;var e=Sr(),t=St(),n=$(),r=A(),i=rd(),o=Le(),a=kr(),s=It(),c=Sc(),u=He(),l=Ye(),d=Ot(),f=U(),p=qn().f,h=Nt().f,m=Vt().f,g=function(){if(Bp)return Dp;Bp=1;var e=Le();return Dp=e(1..valueOf);}(),y=$d().trim,v="Number",b=r[v],_=i[v],w=b.prototype,k=r.TypeError,S=o("".slice),x=o("".charCodeAt),E=function(e){var t,n,r,i,o,a,s,c,u=d(e,"number");if(l(u))throw new k("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=y(u),43===(t=x(u,0))||45===t){if(88===(n=x(u,2))||120===n)return NaN;}else if(48===t){switch(x(u,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u;}for(a=(o=S(u,2)).length,s=0;s<a;s++)if((c=x(o,s))<48||c>i)return NaN;return parseInt(o,r);}return+u;},C=a(v,!b(" 0o1")||!b("0b1")||b("+0x1")),T=function(e){var t=arguments.length<1?0:b(function(e){var t=d(e,"number");return"bigint"==typeof t?t:E(t);}(e));return function(e){return u(w,e)&&f(function(){g(e);});}(this)?c(Object(t),this,T):t;};T.prototype=w,C&&!t&&(w.constructor=T),e({global:!0,constructor:!0,wrap:!0,forced:C},{Number:T});var I=function(e,t){for(var r,i=n?p(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),o=0;i.length>o;o++)s(t,r=i[o])&&!s(e,r)&&m(e,r,h(t,r));};t&&_&&I(i[v],_),(C||t)&&I(i[v],b);}();var qp="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||"undefined"!=typeof global&&global||{},Wp=("URLSearchParams"in qp),Vp="Symbol"in qp&&"iterator"in Symbol,Gp="FileReader"in qp&&"Blob"in qp&&function(){try{return new Blob(),!0;}catch(e){return!1;}}(),Yp=("FormData"in qp),Jp=("ArrayBuffer"in qp);if(Jp)var Xp=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],Kp=ArrayBuffer.isView||function(e){return e&&Xp.indexOf(Object.prototype.toString.call(e))>-1;};function Zp(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase();}function Qp(e){return"string"!=typeof e&&(e=String(e)),e;}function eh(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t};}};return Vp&&(t[Symbol.iterator]=function(){return t;}),t;}function th(e){this.map={},e instanceof th?e.forEach(function(e,t){this.append(t,e);},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1]);},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t]);},this);}function nh(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0);}function rh(e){return new Promise(function(t,n){e.onload=function(){t(e.result);},e.onerror=function(){n(e.error);};});}function ih(e){var t=new FileReader(),n=rh(t);return t.readAsArrayBuffer(e),n;}function oh(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer;}function ah(){return this.bodyUsed=!1,this._initBody=function(e){this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:Gp&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:Yp&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:Wp&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():Jp&&Gp&&function(e){return e&&DataView.prototype.isPrototypeOf(e);}(e)?(this._bodyArrayBuffer=oh(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):Jp&&(ArrayBuffer.prototype.isPrototypeOf(e)||Kp(e))?this._bodyArrayBuffer=oh(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):Wp&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"));},Gp&&(this.blob=function(){var e=nh(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]));}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=nh(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer));}if(Gp)return this.blob().then(ih);throw new Error("could not read as ArrayBuffer");},this.text=function(){var e=nh(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader(),n=rh(t),r=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=r?r[1]:"utf-8";return t.readAsText(e,i),n;}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("");}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText);},Yp&&(this.formData=function(){return this.text().then(uh);}),this.json=function(){return this.text().then(JSON.parse);},this;}th.prototype.append=function(e,t){e=Zp(e),t=Qp(t);var n=this.map[e];this.map[e]=n?n+", "+t:t;},th.prototype.delete=function(e){delete this.map[Zp(e)];},th.prototype.get=function(e){return e=Zp(e),this.has(e)?this.map[e]:null;},th.prototype.has=function(e){return this.map.hasOwnProperty(Zp(e));},th.prototype.set=function(e,t){this.map[Zp(e)]=Qp(t);},th.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this);},th.prototype.keys=function(){var e=[];return this.forEach(function(t,n){e.push(n);}),eh(e);},th.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t);}),eh(e);},th.prototype.entries=function(){var e=[];return this.forEach(function(t,n){e.push([n,t]);}),eh(e);},Vp&&(th.prototype[Symbol.iterator]=th.prototype.entries);var sh=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function ch(e,t){if(!(this instanceof ch))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n=(t=t||{}).body;if(e instanceof ch){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new th(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,n||null==e._bodyInit||(n=e._bodyInit,e.bodyUsed=!0);}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new th(t.headers)),this.method=function(e){var t=e.toUpperCase();return sh.indexOf(t)>-1?t:e;}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in qp)return new AbortController().signal;}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(n),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==t.cache&&"no-cache"!==t.cache)){var r=/([?&])_=[^&]*/;if(r.test(this.url))this.url=this.url.replace(r,"$1_="+new Date().getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+new Date().getTime();}}}function uh(e){var t=new FormData();return e.trim().split("&").forEach(function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i));}}),t;}function lh(e){var t=new th();return e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e;}).forEach(function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();try{t.append(r,i);}catch(o){console.warn("Response "+o.message);}}}),t;}function dh(e,t){if(!(this instanceof dh))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new th(t.headers),this.url=t.url||"",this._initBody(e);}ch.prototype.clone=function(){return new ch(this,{body:this._bodyInit});},ah.call(ch.prototype),ah.call(dh.prototype),dh.prototype.clone=function(){return new dh(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new th(this.headers),url:this.url});},dh.error=function(){var e=new dh(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e;};var fh=[301,302,303,307,308];dh.redirect=function(e,t){if(-1===fh.indexOf(t))throw new RangeError("Invalid status code");return new dh(null,{status:t,headers:{location:e}});};var ph,hh=qp.DOMException;try{new hh();}catch(fM){(hh=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack;}).prototype=Object.create(Error.prototype),hh.prototype.constructor=hh;}function mh(e,t){return new Promise(function(n,r){var i=new ch(e,t);if(i.signal&&i.signal.aborted)return r(new hh("Aborted","AbortError"));var o=new XMLHttpRequest();function a(){o.abort();}if(o.onload=function(){var e={statusText:o.statusText,headers:lh(o.getAllResponseHeaders()||"")};0===i.url.indexOf("file://")&&(o.status<200||o.status>599)?e.status=200:e.status=o.status,e.url="responseURL"in o?o.responseURL:e.headers.get("X-Request-URL");var t="response"in o?o.response:o.responseText;setTimeout(function(){n(new dh(t,e));},0);},o.onerror=function(){setTimeout(function(){r(new TypeError("Network request failed"));},0);},o.ontimeout=function(){setTimeout(function(){r(new TypeError("Network request timed out"));},0);},o.onabort=function(){setTimeout(function(){r(new hh("Aborted","AbortError"));},0);},o.open(i.method,function(e){try{return""===e&&qp.location.href?qp.location.href:e;}catch(t){return e;}}(i.url),!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&(Gp?o.responseType="blob":Jp&&(o.responseType="arraybuffer")),t&&"object"==typeof t.headers&&!(t.headers instanceof th||qp.Headers&&t.headers instanceof qp.Headers)){var s=[];Object.getOwnPropertyNames(t.headers).forEach(function(e){s.push(Zp(e)),o.setRequestHeader(e,Qp(t.headers[e]));}),i.headers.forEach(function(e,t){-1===s.indexOf(t)&&o.setRequestHeader(t,e);});}else i.headers.forEach(function(e,t){o.setRequestHeader(t,e);});i.signal&&(i.signal.addEventListener("abort",a),o.onreadystatechange=function(){4===o.readyState&&i.signal.removeEventListener("abort",a);}),o.send(void 0===i._bodyInit?null:i._bodyInit);});}mh.polyfill=!0,qp.fetch||(qp.fetch=mh,qp.Headers=th,qp.Request=ch,qp.Response=dh);var gh=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.DEFAULT_CONFIG;o(this,e),this.requestInit=t,this.config=n,this.shouldRepeat=n.shouldRepeat||e.DEFAULT_CONFIG.shouldRepeat;}return l(e,[{key:"execute",value:function(){return this.doRequest(this.requestInit,this.config);}},{key:"isOnline",value:function(){return"undefined"==typeof window||!("onLine"in window.navigator)||window.navigator.onLine;}},{key:"doRequest",value:function(){var e=r(v().mark(function e(t,n){var r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n.times<=0)){e.next=2;break;}return e.abrupt("return",Promise.reject());case 2:if(!this.config.whenOnline||this.isOnline()||!this.shouldRepeat(null)){e.next=4;break;}return e.abrupt("return",this.repeatWhenOnline(t,n));case 4:return e.prev=4,e.next=7,fetch(t.url,t);case 7:r=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),r={ok:!1};case 13:if(!this.shouldRepeat(r.status||null)){e.next=18;break;}return e.abrupt("return",this.repeatWithTimeout(t,n));case 18:return e.abrupt("return",r);case 19:case"end":return e.stop();}},e,this,[[4,10]]);}));return function(t,n){return e.apply(this,arguments);};}()},{key:"repeatWithTimeout",value:function(t,n){var r=this;return new Promise(function(i,o){setTimeout(function(){return r.doRequest(t,y(y({},n),{},{times:n.times-1,time:2*n.time})).then(i).catch(o);},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Math.floor(Math.random()*(e+t))+e;}(Math.min(n.time,n.maxTime||e.DEFAULT_CONFIG.maxTime)));});}},{key:"repeatWhenOnline",value:function(e,t){var n=this;return new Promise(function(r,i){window.addEventListener("online",function(){n.doRequest(e,t).then(r).catch(i);},{once:!0});});}}]);}();(ph=gh).DEFAULT_CONFIG={times:6,time:2e3,maxTime:Number.POSITIVE_INFINITY,whenOnline:!0,shouldRepeat:function(e){return null===e||e>=300;}},ph.TOO_MANY_REQUESTS_CONFIG={times:5,time:100,maxTime:600,whenOnline:!1,shouldRepeat:function(e){return 429===e;}};var yh,vh=function(){return l(function e(){o(this,e);},null,[{key:"appendStyles",value:function(e,t){var n=document.getElementById(e);n&&n.remove();var r=document.createElement("style");r.id=e,r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r);}}]);}(),bh=function(){function e(t,n,r,i,a){var s=this;o(this,e),this.data=t,this.defaultMerchantName=n,this.callbacks=r,this.apiTransport=i,this.logger=a,this.defaultButtonType="default",this.session=null,this.resolveElement=function(){return null;},this.rejectElement=function(){return null;},this.elementPromise=new Promise(function(e,t){s.resolveElement=e,s.rejectElement=t;});var c=t.amount,u=t.countryCode,l=t.collectZipCode,d=t.currency,f=t.createSessionUrl,p=t.buttonColor,h=t.language,m=t.merchantName,g=t.supportedNetworks,y=t.collectEmail,v=t.collectCardholderName;this.merchantName=m||"",this.totalPrice=c,this.countryCode=u,this.currencyCode=d,this.buttonColor=p||e.defaultButtonColor,this.language=h,this.createSessionUrl=f,this.supportedNetworks=g||e.supportedNetworks,this.merchantCapabilities=["supports3DS"],this.collectEmail=y,this.collectZipCode=l,this.collectCardholderName=v;}return l(e,[{key:"element",get:function(){return this.elementPromise;}},{key:"buttonType",get:function(){return this.data.buttonType||this.defaultButtonType;}},{key:"init",value:function(){if(e.isPossibleToMakePayments()){this.callbacks.beforeMount(),this.appendApplePayStyles();var t=document.createElement("div");t.id=e.buttonId,t.className=this.getButtonClassName(),t.onclick=this.onApplePayClick.bind(this),this.language&&t.setAttribute("lang",this.language),this.resolveElement(t),this.callbacks.mounted();}else this.reject();}},{key:"destroy",value:function(){try{var e;null===(e=this.session)||void 0===e||e.abort();}catch(t){}}},{key:"completePayment",value:function(e){try{var t,n;if(e)null===(t=this.session)||void 0===t||t.completePayment(ApplePaySession.STATUS_SUCCESS);else null===(n=this.session)||void 0===n||n.completePayment(ApplePaySession.STATUS_FAILURE);}catch(r){}this.session=null;}},{key:"updateAmount",value:function(e){this.totalPrice=String(e);}},{key:"updateCurrency",value:function(e){this.currencyCode=e;}},{key:"updateAppearance",value:function(){var t=r(v().mark(function t(n){var r,i,o;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.elementPromise;case 2:(r=t.sent)&&(i=n.buttonType,o=n.buttonColor,this.buttonColor=o||e.defaultButtonColor,this.data.buttonType=i||this.defaultButtonType,r.className=this.getButtonClassName(),r.removeAttribute("style"),this.appendApplePayStyles());case 4:case"end":return t.stop();}},t,this);}));return function(e){return t.apply(this,arguments);};}()},{key:"reject",value:function(){this.rejectElement();}},{key:"onApplePayClick",value:function(){var e=this,t=this.totalPrice,n={countryCode:this.countryCode,currencyCode:this.currencyCode,supportedNetworks:this.supportedNetworks,merchantCapabilities:this.merchantCapabilities,requiredShippingContactFields:this.createRequiredShippingContactFields(),total:{label:this.merchantName||this.defaultMerchantName,amount:t}};this.collectZipCode&&(n.requiredBillingContactFields=["postalAddress"]),this.callbacks.click&&this.callbacks.click(),this.session=new ApplePaySession(3,n),this.session.begin(),this.session.onvalidatemerchant=this.onValidateMerchant.bind(this),this.session.onpaymentauthorized=this.onPaymentAuthorized.bind(this),this.session.oncancel=function(){e.session=null,e.callbacks.pageClosed();};}},{key:"createRequiredShippingContactFields",value:function(){var e=[];return this.collectEmail&&e.push("email"),this.collectCardholderName&&e.push("name"),e;}},{key:"onValidateMerchant",value:function(){var e=r(v().mark(function e(t){var n,r,i;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.apiTransport({url:this.createSessionUrl,method:"POST",body:JSON.stringify({validationUrl:t.validationURL,domain:this.getTopWindowDomain()})});case 3:return r=e.sent,e.next=6,r.json();case 6:(n=e.sent)&&(null===(i=this.session)||void 0===i||i.completeMerchantValidation(n),this.callbacks.pageOpened()),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),this.callbacks.pageClosed(),this.destroy();case 14:case"end":return e.stop();}},e,this,[[0,10]]);}));return function(t){return e.apply(this,arguments);};}()},{key:"onPaymentAuthorized",value:function(){var e=r(v().mark(function e(t){var n;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.payment.token)this.callbacks.pay(y(y({},t.payment.token),{},{shippingContact:t.payment.shippingContact,billingContact:t.payment.billingContact}));else try{this.callbacks.pageClosed(),null===(n=this.session)||void 0===n||n.completePayment(ApplePaySession.STATUS_FAILURE);}catch(r){}case 1:case"end":return e.stop();}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"getApplePayStyles",value:function(){var e=".apple-pay-button-".concat(this.buttonColor," {\n      background-image: -webkit-named-image(apple-pay-logo-black);\n      background-color: white;\n      border: .5px solid black;\n    }"),t=".apple-pay-button-".concat(this.buttonColor," {\n      background-image: -webkit-named-image(apple-pay-logo-").concat("white"===this.buttonColor?"black":"white",");\n      background-color: ").concat(this.buttonColor,";\n    }");return"\n    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}\n    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}\n\n    @supports (-webkit-appearance: -apple-pay-button) {\n      .apple-pay-button {\n        cursor: pointer;\n        height: inherit;\n        border-radius: 4px;\n        -webkit-appearance: -apple-pay-button;\n        -apple-pay-button-type: ".concat(this.buttonType,";\n      }\n      .apple-pay-button-").concat(this.buttonColor," {\n        -apple-pay-button-style: ").concat(this.buttonColor,";\n      }\n    }\n    @supports not (-webkit-appearance: -apple-pay-button) {\n      .apple-pay-button {\n        border-radius: 4px;\n        cursor: pointer;\n        background-size: 100% 60%;\n        background-repeat: no-repeat;\n        background-position: 50% 50%;\n        padding: 0;\n        box-sizing: border-box;\n        max-height: 640px;\n      }\n      ").concat("white-outline"===this.buttonColor?e:t,"\n    }\n  ");}},{key:"getButtonClassName",value:function(){return"apple-pay-button apple-pay-button-".concat(this.buttonColor);}},{key:"appendApplePayStyles",value:function(){vh.appendStyles(e.applePayCssId,this.getApplePayStyles());}},{key:"getTopWindowDomain",value:function(){var e;try{e=window.self!==window.top;}catch(n){e=!0;}var t=e&&document.referrer||window.location.href;return new URL(t).hostname;}}],[{key:"isPossibleToMakePayments",value:function(){var e=!1;try{var t;e=!!window.ApplePaySession&&(null===(t=ApplePaySession)||void 0===t?void 0:t.canMakePayments());}catch(n){}return e;}}]);}();(yh=bh).applePayCssId="apple-pay-style-id",yh.supportedNetworks=["visa","masterCard","amex","discover","jcb"],yh.forbiddenTypes=["donate","support","rent","contribute","tip"],yh.defaultButtonColor="default",yh.buttonId="apple-pay";var _h,wh=function(){return l(function e(){o(this,e);},null,[{key:"prefetchScript",value:function(e,t){if(!document.getElementById(t)){var n=document.createElement("link");n.rel="prefetch",n.id=t,n.href=e,document.head.appendChild(n);}}},{key:"loadScript",value:function(e,t){return new Promise(function(n,r){var i=document.getElementById(t);if(i)i.hasAttribute("loaded")?n():i.addEventListener("load",function(){return n();});else{var o=document.createElement("script");o.id=t,o.type="text/javascript",o.src=e,o.async=!0,o.defer=!0,o.onload=function(){o.setAttribute("loaded","true"),n();},o.onerror=function(e,t,n,i,a){r({source:t,lineno:n,colno:i,error:e,error2:a}),o.remove();};var a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(o,a);}});}}]);}(),kh=function(e){function t(){var e;return o(this,t),(e=i(this,t,arguments)).defaultButtonType="plain",e;}return h(t,e),l(t,[{key:"init",value:function(){var e=this;this.callbacks.beforeMount(),wh.loadScript(t.src,"apple-pay-script-id").then(function(){return e.onApplePayLoaded();}).catch(function(t){e.logger.error(new ba("load apple pay script"),t),e.reject();});}},{key:"onApplePayLoaded",value:function(){if(bh.isPossibleToMakePayments()){this.addStyles();var e=document.createElement("apple-pay-button");e.setAttribute("type",this.buttonType),e.setAttribute("buttonstyle",this.buttonColor),e.style.height="inherit",e.addEventListener("click",this.onApplePayClick.bind(this)),this.language&&e.setAttribute("locale",this.language),this.resolveElement(e),this.callbacks.mounted();}else this.reject();}},{key:"updateAppearance",value:function(){var e=r(v().mark(function e(t){var n;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.elementPromise;case 2:n=e.sent,t.buttonType&&n.setAttribute("type",t.buttonType),t.buttonColor&&n.setAttribute("buttonstyle",t.buttonColor);case 5:case"end":return e.stop();}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"addStyles",value:function(){vh.appendStyles("apple-pay-js-style","\n       apple-pay-button {\n        --apple-pay-button-height: 100%;\n      }\n    ");}}],[{key:"prefetch",value:function(){wh.prefetchScript(this.src,"apple-pay-prefetch-id");}}]);}(bh);kh.src="https://applepay.cdn-apple.com/jsapi/1.latest/apple-pay-sdk.js";var Sh=function(){function e(t,n,r,i){var a=this;o(this,e),this.buttonCss=n,this.callbacks=r,this.paymentsClient=null,this.baseRequest={apiVersion:2,apiVersionMinor:0},this.tokenizationSpecification={type:"PAYMENT_GATEWAY",parameters:{gateway:atob("c29saWQ="),gatewayMerchantId:""}},this.logger={error:function(){},warning:function(){}},this.resolveElement=function(){return null;},this.rejectElement=function(){return null;},this.elementPromise=new Promise(function(e,t){a.resolveElement=e,a.rejectElement=t;});var s=t.amount,c=t.countryCode,u=t.currency,l=t.env,d=t.gatewayMerchantId,f=t.merchantId,p=t.merchantName,h=t.language,m=t.buttonColor,g=t.buttonType,y=t.allowedAuthMethods,v=t.emailRequired,b=t.zipCodeRequired,_=t.collectCardholderName;this.totalPrice=String(s),this.countryCode=c,this.currencyCode=u,this.env=l,this.merchantName=p,this.merchantId=f,this.language=h,this.buttonColor=m||"black",this.buttonType=g,this.emailRequired=v,this.zipCodeRequired=b,this.baseCardPaymentMethod=e.getBaseCardPaymentMethod(y),(!!_||this.zipCodeRequired)&&(this.baseCardPaymentMethod.parameters.billingAddressRequired=!0,this.baseCardPaymentMethod.parameters.billingAddressParameters={format:"MIN"}),this.tokenizationSpecification.parameters.gatewayMerchantId=d,i&&(this.logger=i);}return l(e,[{key:"element",get:function(){return this.elementPromise;}},{key:"init",value:function(){var t=this;this.callbacks.beforeMount(),this.buttonCss&&vh.appendStyles("google-pay-style-id",this.buttonCss),wh.loadScript(e.src,"google-pay-script-id").then(function(){return t.onGooglePayLoaded();}).catch(function(e){t.logger.error(new ba("load google pay script"),e),t.reject();});}},{key:"updateAmount",value:function(e){this.totalPrice=String(e);}},{key:"updateCurrency",value:function(e){this.currencyCode=e;}},{key:"reject",value:function(){this.callbacks.mountFailed&&this.callbacks.mountFailed(),this.rejectElement();}},{key:"onGooglePayLoaded",value:function(){var e=r(v().mark(function e(){var t;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(google){e.next=4;break;}return this.logger.error(new ba("Google pay loaded but no api")),this.reject(),e.abrupt("return");case 4:return e.prev=4,t=this.getGooglePaymentsClient(),e.next=8,t.isReadyToPay(this.getGoogleIsReadyToPayRequest());case 8:e.sent.result&&(this.addGooglePayButton(),this.prefetchGooglePaymentData()),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(4),this.reject(),this.logger.error(ba.wrap(e.t0,"while creating api",{err:e.t0}));case 16:case"end":return e.stop();}},e,this,[[4,12]]);}));return function(){return e.apply(this,arguments);};}()},{key:"getGooglePaymentsClient",value:function(){return null===this.paymentsClient&&(this.paymentsClient=new google.payments.api.PaymentsClient({environment:this.env})),this.paymentsClient;}},{key:"getGoogleIsReadyToPayRequest",value:function(){return y(y({},this.baseRequest),{},{allowedPaymentMethods:[this.baseCardPaymentMethod]});}},{key:"addGooglePayButton",value:function(){try{var e=this.getGooglePaymentsClient().createButton({onClick:this.onGooglePaymentButtonClicked.bind(this),buttonColor:this.buttonColor,buttonType:this.buttonType,buttonLocale:this.language,buttonSizeMode:"fill"});this.resolveElement(e),this.callbacks.mounted();}catch(t){this.logger.error(t),this.rejectElement();}}},{key:"onGooglePaymentButtonClicked",value:function(){var e=r(v().mark(function e(){var t,n,r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=this.getGooglePaymentDataRequest()).transactionInfo=this.getGoogleTransactionInfo(),e.prev=2,n=this.getGooglePaymentsClient(),this.callbacks.pageOpened(),e.next=7,n.loadPaymentData(t);case 7:r=e.sent,this.processPayment(r),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),this.logger.error(ba.wrap(e.t0,"while loading payment data",{err:e.t0})),this.callbacks.pageClosed();case 15:case"end":return e.stop();}},e,this,[[2,11]]);}));return function(){return e.apply(this,arguments);};}()},{key:"getGoogleTransactionInfo",value:function(){return{countryCode:this.countryCode,currencyCode:this.currencyCode,totalPriceStatus:e.TotalPriceStatus.final,totalPriceLabel:"Total",totalPrice:this.totalPrice};}},{key:"getGooglePaymentDataRequest",value:function(){return y(y({},this.baseRequest),{},{emailRequired:this.emailRequired,allowedPaymentMethods:[y(y({},this.baseCardPaymentMethod),{},{tokenizationSpecification:this.tokenizationSpecification})],transactionInfo:this.getGoogleTransactionInfo(),merchantInfo:{merchantName:this.merchantName,merchantId:this.merchantId}});}},{key:"prefetchGooglePaymentData",value:function(){var t=this.getGooglePaymentDataRequest();t.transactionInfo={totalPrice:"",totalPriceStatus:e.TotalPriceStatus.unknown,currencyCode:"USD"},this.getGooglePaymentsClient().prefetchPaymentData(t);}},{key:"processPayment",value:function(e){var t;this.callbacks.pay(JSON.stringify(y(y({},JSON.parse(e.paymentMethodData.tokenizationData.token)),{},{email:e.email,billingAddress:(null===(t=e.paymentMethodData.info)||void 0===t?void 0:t.billingAddress)||null})));}}],[{key:"getBaseCardPaymentMethod",value:function(e){return{type:"CARD",parameters:{allowedAuthMethods:e||["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:["AMEX","DISCOVER","JCB","MASTERCARD","VISA"]}};}},{key:"prefetch",value:function(){wh.prefetchScript(e.src,"google-pay-prefetch-id");}}]);}();(_h=Sh).TotalPriceStatus={unknown:"NOT_CURRENTLY_KNOWN",final:"FINAL"},_h.forbiddenTypes=["donate","book"],_h.src="https://pay.google.com/gp/p/js/pay.js";var xh,Eh={};!function(){if(xh)return Eh;xh=1;var e=Sr(),t=Xi(),n=Xe(),r=Wt();e({target:"Reflect",stat:!0,forced:!U()(function(){Reflect.apply(function(){});})},{apply:function(e,i,o){return t(n(e),i,r(o));}});}();var Ch,Th=function(){var e=function(){},t=function(){},n=function(){return console.log("shippingAddressValidator is not defined. Use fallback flow - allow all addresses"),new Promise(function(e){e({allow:!0});});},i=null,o=null,a=null,s={},c=null,u={},l="checkout",d="vault",f="paypal-js-sdk",p="order-started-processing",h="order-approved",m="order-processed",g="order-already-processed",y="button-ready",b="button-click",_="button-error",w="button-cancel",k="paypal_create_order_error",S={},x=[p,h,m,g,y,b,_,w];function E(e,t){a&&a.dispatchEvent(new CustomEvent(e,{detail:t}));}function C(e){if(e&&e.stack&&e.message){var t=e.message;return-1!==t.indexOf("RATE_LIMIT_REACHED")&&(t="RATE_LIMIT_REACHED.Too many requests. Blocked due to rate limiting"),{message:t};}return e||{message:"Unknown error"};}function T(e){return e&&e.stack&&e.message?e.message:e?"Unknown error":"No errors";}function I(e,t,a,u,f,S,x){return"created"===u?function(t,a){var u={label:"buynow",shape:"pill",color:"gold"};if(a&&(["label","shape","color"].forEach(function(e){a[e]&&(u[e]=a[e]);}),["height"].forEach(function(e){a[e]&&(u[e]=parseInt(a[e],10));})),void 0!==a.shippingAddrValidatorFn){var g=a.shippingAddrValidatorFn;window[g]?n=window[g]:console.error("Function for validate address '"+g+"' not found");}var I="undefined",N={fundingSource:paypal.FUNDING.PAYPAL,style:u,onInit:function(){E(y,{}),A("payment_source_location_hostname",window.location.hostname),null!==S&&function(e,t,n,r){try{var i=window.performance||window.mozPerformance||window.msPerformance||window.webkitPerformance||null;if(!r||!i||!i.getEntriesByType)return;for(var o=i.getEntriesByType("resource");o.length;){var a=o.shift();if(a.name===r){A(e,a.duration.toString());break;}}}catch(s){}}("paypal_script_load_time",0,0,S),function(e){var t=!0;R(y)&&(O(y,"mounted"),t=!1),e&&e(t);}(x&&x.onInit);},onClick:function(){!function(e){var t=!0;R(b)&&(O(b,"interaction"),t=!1),e&&e(t);}(x&&x.onClick);},createOrder:function(){if(e===l)return E(b,{}),t().then(function(e){return I=e.apmGateToken;}).then(function(e){return fetch(i+"/paypal-direct/api/"+e+"/createOrder",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({fraudnet_session_id:f})});}).catch(function(e){throw A(k,T(e)),e;}).then(function(e){return e.json();}).then(function(e){if(null!=e.id)return e.id;if(null==e.id&&null!=e.error){var t="Error creating order: "+e.error;A(k,t),E(_,{error:C(t)}),x&&x.onCreateOrderError&&x.onCreateOrderError(t);}return null;});},createBillingAgreement:function(){if(e===d)return E(b,{}),t().then(function(e){return I=e.apmGateToken;}).then(function(e){return fetch(i+"/paypal-direct/api/"+e+"/createBaTmpToken",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({fraudnet_session_id:f})});}).catch(function(e){throw A("paypal_create_ba_error",T(e)),e;}).then(function(e){return e.json();}).then(function(e){return e.token_id;});},onShippingChange:function(){var e=r(v().mark(function e(t,r){var i,o,a,c,u;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(x&&x.onShippingChange&&x.onShippingChange(),void 0!==(c=s[t.shipping_address.country_code])){e.next=5;break;}return console.error("Unknown country code:",t.shipping_address.country_code),e.abrupt("return",r.reject());case 5:return u={country_a3:c.IsoCodeA3,country_a2:t.shipping_address.country_code,state:null!==(i=t.shipping_address.state)&&void 0!==i?i:null,city:null!==(o=t.shipping_address.city)&&void 0!==o?o:null,zip:null!==(a=t.shipping_address.postal_code)&&void 0!==a?a:null},e.next=8,n(u).then(function(e){return"object"!=typeof e&&(console.error("Unknown response from address validator. Result must be an object"),r.reject()),"boolean"!=typeof e.allow&&(console.error('Unknown response from address validator. Key "allow" must contain a boolean value'),r.reject()),e.allow?r.resolve():r.reject();}).catch(function(e){console.error("Address validation error:",e),r.reject();});case 8:case"end":return e.stop();}},e);}));return function(t,n){return e.apply(this,arguments);};}(),onApprove:function(t){return e===l?"continue"===c?(M(x&&x.onStartProcessing),fetch(i+"/paypal-direct/api/"+I+"/onApprove",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({paypal_order_id:t.orderID})}).then(function(e){return e.json();}).then(function(e){return E(h,{data:e}),x&&x.onApprove&&x.onApprove(),null;})):(E(p,{}),M(x&&x.onStartProcessing),fetch(i+"/paypal-direct/api/"+I+"/captureOrder",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({paypal_order_id:t.orderID,fraudnet_session_id:f})}).then(function(e){return e.json();}).then(function(e){return console.log("Transaction completed"),E(m,{data:e}),L(x&&x.onOrderProcessed),null;})):e===d?(E(p,{}),M(x&&x.onStartProcessing),fetch(i+"/paypal-direct/api/"+I+"/createBaAndPay",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({billing_agreement_tmp_token:t.billingToken,fraudnet_session_id:f})}).then(function(e){return e.json();}).then(function(e){return E(m,{data:e}),L(x&&x.onOrderProcessed),console.log("Transaction completed"),null;})):void 0;},onError:function(e){if(console.log("error",e),A("paypal_button_error",T(e)),!(e&&"Expected an order id to be passed"===e.message||e&&"Detected popup close"===e.message||e&&"Component closed"===e.message||e&&"Document is ready and element #paypal-button does not exist"===e.message))return P(e),fetch(i+"/paypal-direct/api/"+I+"/processDeclineFlow",{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({error_message:JSON.stringify(C(e))})});},onCancel:function(){console.log("raise on_cancel"),A("paypal_button_cancel"),E(w,{}),x&&x.onCancel&&x.onCancel();}};return e===d&&delete N.createOrder,e===l&&delete N.createBillingAgreement,paypal.Buttons(N).render("#"+o);}(t,a):(E(g,{}),Promise.resolve());}function P(t){try{e(t);}catch(n){console.log(n);}}function A(e,n){if(u&&u.entityName&&u.entityValue&&u.signature){var r={category:"direct_paypal_button",level:"button_loading",entity_name:u.entityName,entity_value:u.entityValue,event_time:new Date().toISOString()};"undefined"!==n&&(r.value=n),t(e,r,u.signature);}}function O(e,t){console.error("The PayPal button event '".concat(e,"' is outdated and will be removed in future releases.\nPlease use regular event by subscribing to it via 'sdk.on(\"").concat(t,"\", handler)'.\nSee more in the 'Form Events' section of the documentation.\n%cThe original, 'sdk.on(\"").concat(t,"\", handler)', event will not be called to prevent duplicates.%c"),"font-weight: bold","font-weight: normal");}function R(e){return x.includes(e)&&S[e]&&S[e]>0;}function M(e){var t=!0;R(p)&&(O(p,"submit"),t=!1),e&&e(t);}function L(e){var t=!0;R(m)&&(O(m,"success/fail"),t=!1),e&&e(t);}return{addExceptionListener:function(t){e=t;},addTrackEventListener:function(e){t=e;},setCountryParams:function(e){s=e;},updateCurrency:function(e){var t=document.getElementById(f);if(t){var n=t.src;if(n.includes("currency=")){var r=n.replace(/currency=([A-Z]{3})/,"currency="+e);t.src=r;}}},initSdkV1:function(e,t,n,r,s,p,h,m){return new Promise(function(g,y){i=e.replace(/\/$/,""),o=t;var v={apply:function(e,t,n){var r=n[0];return x.includes(r)&&(!function(e){void 0===S[e]?S[e]=1:S[e]++;}(r),console.error("The PayPal button event '".concat(r,"' is outdated and will be removed in future releases.\nPlease use regular form events by subscribing to them via 'sdk.on(eventName, handler)'.\nSee more in the 'Form Events' section of the documentation."))),Reflect.apply(e,t,n);}};(a=document.getElementById(t)).addEventListener=new Proxy(a.addEventListener,v);try{var b="https://www.paypal.com/sdk/js?client-id="+r.clientId+"&integration-date=2024-09-01&components=buttons,funding-eligibility";r.flow===d&&(b+="&vault=true&intent=tokenize"),r.flow===l&&(b+="&intent=capture",b+="&currency="+s.currency),b+="continue"===(c=s.paymentMethodData.userAction)?"&commit=false":"&commit=true",r.merchantId&&(b+="&merchant-id="+r.merchantId),u=s.trackData,function(e){return new Promise(function(t,n){var r=document.createElement("script");r.src=e,r.type="text/javascript",r.defer=!0,r.async=!0,r.id=f,document.getElementsByTagName("head").item(0).appendChild(r),r.onload=function(){t();},r.onerror=function(e,t,r,i,o){n(o?"PayPal SDK script error: "+o.toString():new Error("Failed to load PayPal SDK script"));};});}(b).then(function(){var e=I(r.flow,h,n,s.spOrderStatus,s.fraudnetSessionId,p,m).catch(function(e){throw A("paypal_button_general_error",T(e)),P(e),E(_,{error:C(e)}),e;});return function(e,t){var n={f:t,s:"SGATE_WIDGET_PAY_BTN",sandbox:e};return new Promise(function(e){for(var t=document.querySelectorAll("[fncls=fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99]"),r=0;r<t.length;r++)t[r].remove();var i=document.createElement("script");i.append(JSON.stringify(n)),i.type="application/json",i.setAttribute("fncls","fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99"),document.getElementsByTagName("head").item(0).appendChild(i),e();});}(r.sandbox,s.fraudnetSessionId).then(function(){return function(){return new Promise(function(e,t){var n=document.createElement("script");n.src="https://c.paypal.com/da/r/fb.js",n.type="text/javascript",document.getElementsByTagName("head").item(0).appendChild(n),n.onload=function(){e();},n.onerror=function(e,n,r,i,o){t(o?"PayPal FraudNet script error: "+o.toString():new Error("Failed to load PayPal FraudNet script"));};});}().then(function(){console.log("FraudNet loaded successfully");});}).catch(function(e){console.log("FraudNet loading error:",e);}),e;}).then(function(){g();}).catch(function(e){y(e);});}catch(fM){P(fM),y(fM);}});}};}();window.apmGatePayPalSdk=Th;var Ih,Ph=function(){function e(t,n){var i=this;o(this,e),this.paypalData=t,this.callbacks=n,this.sdkLoaded=!1,this.resolveElement=function(){return null;},this.elementPromise=new Promise(function(e){i.resolveElement=e;}),this.prepareOrder=r(v().mark(function e(){var t,n,r;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.callbacks.onCreateOrder,e.next=3,t();case 3:return n=e.sent,r=n.token,e.abrupt("return",{apmGateToken:r});case 6:case"end":return e.stop();}},e);}));}return l(e,[{key:"element",get:function(){return this.elementPromise;}},{key:"init",value:function(){var t=document.createElement("div");t.id=e.containerId,t.className=e.className,this.resolveElement(t);}},{key:"appendButton",value:function(){var t=r(v().mark(function t(){var n,r,i,o,a,s,c;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.sdkLoaded){t.next=2;break;}return t.abrupt("return");case 2:return n=this.paypalData,r=n.baseApiPath,i=n.credentials,o=n.appearance,a=n.currency,s=n.userAction,c=n.antifraud,Th.addExceptionListener(this.callbacks.onError),t.next=6,Th.initSdkV1(r,e.containerId,{label:null==o?void 0:o.label,shape:null==o?void 0:o.shape,color:null==o?void 0:o.color,height:null==o?void 0:o.height},i,{currency:a,spOrderStatus:"created",fraudnetSessionId:c.sessionId,paymentMethodData:{userAction:s}},null,this.prepareOrder,this.callbacks);case 6:this.sdkLoaded=!0;case 7:case"end":return t.stop();}},t,this);}));return function(){return t.apply(this,arguments);};}()},{key:"updateCurrency",value:function(e){this.paypalData.currency=e;try{Th.updateCurrency(e);}catch(t){this.callbacks.onError(t);}}}]);}();(Ch=Ph).containerId="paypal-button",Ch.className="paypal-button";var Ah=function(){function e(t,n){var r=this;o(this,e),this.data=t,this.callbacks=n,this.resolveElement=function(){return null;},this.rejectElement=function(){return null;},this.elementPromise=new Promise(function(e,t){r.resolveElement=e,r.rejectElement=t;}),this.height=e.sanitizeHeight(this.data.appearance.height);}return l(e,[{key:"element",get:function(){return this.elementPromise;}},{key:"init",value:function(){var e=this;this.createButtonElement().then(function(t){e.resolveElement(t),e.callbacks.mounted();}).catch(function(){var t,n;e.rejectElement(),null===(t=(n=e.callbacks).mountFailed)||void 0===t||t.call(n);});}},{key:"requestLogo",value:function(){var t=r(v().mark(function t(){var n=this;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){var r=new Image();r.alt="Pix",r.style.height=e.logoHeight,r.addEventListener("load",function(){t(r);}),r.src=n.data.logoUrl;}));case 1:case"end":return t.stop();}},t);}));return function(){return t.apply(this,arguments);};}()},{key:"createButtonElement",value:function(){var t=r(v().mark(function t(){var n,r;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=document.createElement("div")).className=e.className,n.style.height=this.height,n.style.width="100%",n.style.borderRadius="4px",n.style.backgroundColor="#fff",n.style.border="1px solid #3c3c3c",n.style.boxSizing="border-box",n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center",n.style.fontWeight="bold",n.style.cursor="pointer",n.onclick=this.onClick.bind(this),t.next=16,this.requestLogo();case 16:return r=t.sent,n.appendChild(r),t.abrupt("return",n);case 19:case"end":return t.stop();}},t,this);}));return function(){return t.apply(this,arguments);};}()},{key:"onClick",value:function(){}}],[{key:"sanitizeHeight",value:function(t){if(!t)return e.defaultHeight;if("number"!=typeof t)return e.defaultHeight;var n=Math.min(Math.max(t,e.minHeight),e.maxHeight);return"".concat(n,"px");}}]);}();(Ih=Ah).className="pix-button",Ih.defaultHeight="52px",Ih.minHeight=52,Ih.maxHeight=60,Ih.logoHeight="26px";var Oh=function(e){return e.ApplePay="applebtn",e.GooglePay="googlebtn",e.Paypal="paypal",e.Pix="pix",e.Form="form",e.Resign="resign",e;}(Oh||{}),Rh=function(){return l(function e(t,n,r,i,a,s,c,u,l,d){o(this,e),this.walletsConfig=t,this.clientConfig=n,this.language=r,this.buttonActions=i,this.iframe=a,this.tracking=s,this.logger=c,this.interactionsNotifier=u,this.messageBus=l,this.collectConfig=d,this.isDestroyed=!1,this.initializationPromise=null,this.buttonInstance=null;},[{key:"setIsDisabled",value:function(e){var t,n=this;this.isDestroyed||null===(t=this.initializationPromise)||void 0===t||t.then(function(){n.isDestroyed||n.buttonActions.setIsDisabled(e);});}},{key:"clear",value:function(){this.buttonInstance=null,this.initializationPromise=null;}},{key:"destroy",value:function(){this.isDestroyed=!0,this.clear();}}]);}(),Mh=function(e){function t(e,n,r,a,s,c,u,l,d,f,p,h,m){var g;return o(this,t),(g=i(this,t,[e,n,c,u,l,d,f,p,h,m])).walletsConfig=e,g.clientConfig=n,g.appConfig=r,g.token=a,g.release=s,g.language=c,g.buttonActions=u,g.iframe=l,g.tracking=d,g.logger=f,g.interactionsNotifier=p,g.messageBus=h,g.collectConfig=m,g;}return h(t,e),l(t,[{key:"completeApplePayment",value:function(e){var t;null===(t=this.buttonInstance)||void 0===t||t.completePayment(e);}},{key:"append",value:function(){var e=this,n=this.clientConfig,i=this.getPayData();return i?(this.initializationPromise=new Promise(function(o){if(t.canAppend(i)){var a,s="js"===(null==n?void 0:n.integrationType)?kh:bh,c=null!==(a=null==n?void 0:n.integrationType)&&void 0!==a?a:"css";e.buttonInstance=new s(i,t.defaultMerchantName,{beforeMount:function(){},mounted:function(){e.messageBus.sendPublicMessage({type:El.Mounted,entity:Oh.ApplePay}),e.buttonActions.show(),e.tracking.appleButtonMounted(c),o();},pageOpened:function(){return e.tracking.appleButtonPageOpened();},pageClosed:function(){return e.tracking.appleButtonPageClosed();},click:function(){var t;null===(t=e.interactionsNotifier)||void 0===t||t.processDsrpClick("applePay"),e.tracking.appleButtonClicked();},pay:function(t){var n;e.messageBus.sendPrivateMessage({type:El.ProviderToken,value:JSON.stringify(t),dsrp:$p.Apple},null===(n=e.iframe)||void 0===n?void 0:n.getWindow()),e.messageBus.sendPublicMessage({type:El.ApplePayPaymentAuthorized,paymentMethod:t.paymentMethod}),e.tracking.appleButtonSubmitted();}},function(){var t=r(v().mark(function t(n){var r;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new gh(y(y({},n),{},{headers:y(y({},n.headers||{}),{},{Authorization:"Bearer ".concat(e.token),"X-Release":e.release})}),{times:4,time:1e3,whenOnline:!1}),t.next=3,r.execute();case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop();}},t);}));return function(e){return t.apply(this,arguments);};}(),e.logger),e.buttonInstance.init(),e.buttonInstance.element.then(function(t){e.isDestroyed||e.buttonActions.append(t,n);}).catch(function(){return o();});}else o();}),this.initializationPromise):null;}},{key:"updatePrice",value:function(e){var t=this,n=e.amount,r=e.currency;this.isDestroyed||this.initializationPromise&&this.initializationPromise.then(function(){var e,i;t.isDestroyed||(null===(e=t.buttonInstance)||void 0===e||e.updateAmount(n),null===(i=t.buttonInstance)||void 0===i||i.updateCurrency(r));});}},{key:"updateAppearance",value:function(e){var t=this;this.isDestroyed||this.initializationPromise&&this.initializationPromise.then(function(){if(!t.isDestroyed){var n,r=e||{},i=r.buttonColor,o=r.buttonType;null===(n=t.buttonInstance)||void 0===n||n.updateAppearance({buttonColor:i,buttonType:o});}});}},{key:"clear",value:function(){var e;null===(e=this.buttonInstance)||void 0===e||e.destroy(),f(p(t.prototype),"clear",this).call(this);}},{key:"getPayData",value:function(){var e=this.clientConfig,t=this.walletsConfig;if(null!=t&&t.amount){var n,r,i=null==e?void 0:e.type,o=i&&!Object.values(bh.forbiddenTypes).includes(i);return y(y({},t),{},{language:this.language,createSessionUrl:this.appConfig.createSessionUrl,buttonColor:null==e?void 0:e.color,collectZipCode:!(null===(n=this.collectConfig)||void 0===n||!n.zip),collectEmail:!(null===(r=this.collectConfig)||void 0===r||!r.email),buttonType:o?i:"plain"});}return null;}}],[{key:"canAppend",value:function(e){return!(!e||!e.createSessionUrl);}}]);}(Rh);Mh.defaultMerchantName="Seller";var Lh=function(e){function t(){return o(this,t),i(this,t,arguments);}return h(t,e),l(t,[{key:"append",value:function(){var e=this,n=this.getPayData(),r=this.clientConfig;return n?(this.initializationPromise=new Promise(function(i){t.canAppend(n)?(e.buttonInstance=new Sh(n,t.googleButtonCss,{beforeMount:function(){},mounted:function(){e.messageBus.sendPublicMessage({type:El.Mounted,entity:Oh.GooglePay}),e.buttonActions.show(),e.tracking.googleButtonMounted(),i();},mountFailed:function(){i();},pageOpened:function(){var t;null===(t=e.interactionsNotifier)||void 0===t||t.processDsrpClick("googlePay"),e.tracking.googleButtonPageOpened();},pageClosed:function(){return e.tracking.googleButtonPageClosed();},pay:function(t){var n;e.messageBus.sendPrivateMessage({type:El.ProviderToken,value:t,dsrp:$p.Google},null===(n=e.iframe)||void 0===n?void 0:n.getWindow()),e.tracking.googleButtonPageSubmitted();}},e.logger),e.buttonInstance.init(),e.buttonInstance.element.then(function(t){e.isDestroyed||e.buttonActions.append(t,r);}).catch(function(t){i(),e.logger.debug(ba.wrap(t,"Unable to append Google Pay"));})):i();}),this.initializationPromise):null;}},{key:"updatePrice",value:function(e){var t=this,n=e.amount,r=e.currency;this.isDestroyed||this.initializationPromise&&this.initializationPromise.then(function(){var e,i;t.isDestroyed||(null===(e=t.buttonInstance)||void 0===e||e.updateAmount(n),null===(i=t.buttonInstance)||void 0===i||i.updateCurrency(r));});}},{key:"getPayData",value:function(){var e=this.clientConfig,t=this.walletsConfig,n=this.collectConfig;if(null!=t&&t.merchantId){var r,i=null==e?void 0:e.type,o=null!==(r=null==e?void 0:e.allowedAuthMethods)&&void 0!==r?r:[],a=i&&!Object.values(Sh.forbiddenTypes).includes(i);return y(y({},t),{},{language:this.language,buttonColor:null==e?void 0:e.color,buttonType:a?e.type:void 0,allowedAuthMethods:0===o.length?["PAN_ONLY","CRYPTOGRAM_3DS"]:o,zipCodeRequired:!(null==n||!n.zip),emailRequired:!(null==n||!n.email)});}return null;}}],[{key:"prefetch",value:function(){Sh.prefetch();}},{key:"canAppend",value:function(e){return!(!e||!e.merchantId);}}]);}(Rh);Lh.googleButtonCss="\n        button.gpay-card-info-container {\n          min-width: 70px;\n        }\n      ";var Nh,Dh=function(e){return!!e.token;},Bh=function(e){function t(e,n,r,a,s,c,u,l,d,f){var p;return o(this,t),(p=i(this,t,[e,n,a,s,c,u,l,d,f])).walletsConfig=e,p.clientConfig=n,p.appConfig=r,p.language=a,p.buttonActions=s,p.iframe=c,p.tracking=u,p.logger=l,p.interactionsNotifier=d,p.messageBus=f,p;}return h(t,e),l(t,[{key:"append",value:function(){var e=this,n=this.clientConfig,i=this.getPayData();return i?(this.initializationPromise=new Promise(function(o){if(t.canAppend(i)){var a=e.tracking.paypalButtonMountTime();e.buttonInstance=new Ph(i,{onClick:function(){var t=r(v().mark(function t(n){var r;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n&&(null===(r=e.interactionsNotifier)||void 0===r||r.processApmButtonClick("paypal"));case 1:case"end":return t.stop();}},t);}));return function(e){return t.apply(this,arguments);};}(),onCreateOrder:function(){var t=r(v().mark(function t(){return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t,n){var r;e.messageBus.subscribeForPrivate(function r(i){if(i.type===Nl.PaypalOrderToken){var o;if(Dh(i))t({token:i.token});else if(n(i.error),e.logger.error(ba.wrap(i.error,"Unable to create PayPal order")),null!==(o=i.error)&&void 0!==o&&o.message.includes("is already in processing")){console.error("%cWarning! The PayPal button on the Payment Form cannot be used because a PayPal button has already been initialized via host-to-host with the same order ID.\n                      \n%cIf you are already using an existing PayPal host-to-host button, you should disable it so that orders are created and processed automatically by the payment form itself.\n                      \nSee more in the Payment Form documentation, section 'PayPal Button: Display Button.'","font-weight: bold","font-weight: normal");}e.messageBus.unsubscribe(r);}}),e.messageBus.sendPrivateMessage({type:El.PaypalCreateOrder},null===(r=e.iframe)||void 0===r?void 0:r.getWindow());}));case 1:case"end":return t.stop();}},t);}));return function(){return t.apply(this,arguments);};}(),onStartProcessing:function(){var t=r(v().mark(function t(n){return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n&&e.messageBus.sendPublicMessage({type:Dl.Submit,entity:Oh.Paypal});case 1:case"end":return t.stop();}},t);}));return function(e){return t.apply(this,arguments);};}(),onInit:function(t){e.buttonActions.show(),t&&e.messageBus.sendPublicMessage({type:El.Mounted,entity:Oh.Paypal}),a(),o();},onOrderProcessed:function(){var t;e.messageBus.sendPrivateMessage({type:El.PaypalOrderProcessed},null===(t=e.iframe)||void 0===t?void 0:t.getWindow()),e.setIsDisabled(!0);},onError:function(t){e.logger.error(ba.wrap(t,"While creating paypal"));}}),e.buttonInstance.init(),e.buttonInstance.element.then(function(){var t=r(v().mark(function t(r){var i;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.isDestroyed){t.next=2;break;}return t.abrupt("return");case 2:return e.buttonActions.append(r,y(y({},n),{},{fullWidth:!0})),t.prev=3,t.next=6,null===(i=e.buttonInstance)||void 0===i?void 0:i.appendButton();case 6:t.next=13;break;case 8:t.prev=8,t.t0=t.catch(3),e.buttonActions.remove(r),e.logger.error(ba.wrap(t.t0,"While appending paypal")),o();case 13:case"end":return t.stop();}},t,null,[[3,8]]);}));return function(e){return t.apply(this,arguments);};}()).catch(function(t){o(),e.logger.debug(ba.wrap(t,"Unable to append PayPal"));});}else o();}),this.initializationPromise):null;}},{key:"updatePrice",value:function(e){var t=this,n=e.currency;this.isDestroyed||this.initializationPromise&&this.initializationPromise.then(function(){var e;t.isDestroyed||null===(e=t.buttonInstance)||void 0===e||e.updateCurrency(n);});}},{key:"getPayData",value:function(){var e=this.clientConfig,t=this.walletsConfig;return e&&e.enabled&&t?{baseApiPath:this.appConfig.baseApiPath,credentials:{clientId:t.clientId,merchantId:t.merchantId,flow:t.flow,sandbox:t.sandbox},currency:t.currency,antifraud:{sessionId:t.fraudnetSessionId},appearance:{label:null==e?void 0:e.label,shape:null==e?void 0:e.shape,color:null==e?void 0:e.color,height:null==e?void 0:e.height}}:null;}}],[{key:"canAppend",value:function(e){return!!(e&&e.credentials&&e.credentials.clientId&&e.baseApiPath&&e.antifraud);}}]);}(Rh),Fh=function(e){function t(e,n,r,a,s,c,u,l,d,f){var p;return o(this,t),(p=i(this,t,[e,n,a,s,c,u,l,d,f])).walletsConfig=e,p.clientConfig=n,p.appConfig=r,p.language=a,p.buttonActions=s,p.iframe=c,p.tracking=u,p.logger=l,p.interactionsNotifier=d,p.messageBus=f,p;}return h(t,e),l(t,[{key:"append",value:function(){var e=this,n=this.getPayData(),r=this.clientConfig;return n?(this.initializationPromise=new Promise(function(i){t.canAppend(n)?(e.buttonInstance=new Ah(n,{mounted:function(){e.messageBus.sendPublicMessage({type:El.Mounted,entity:Oh.Pix}),e.buttonActions.show(),e.tracking.pixButtonMounted(),i();},mountFailed:function(){i();},pageOpened:function(){},pageClosed:function(){},pay:function(e){}}),e.buttonInstance.init(),e.buttonInstance.element.then(function(t){e.isDestroyed||e.buttonActions.append(t,y(y({},r),{},{fullWidth:!0}));}).catch(function(t){i(),e.logger.debug(ba.wrap(t,"Unable to append Pix"));})):i();}),this.initializationPromise):null;}},{key:"updatePrice",value:function(e){}},{key:"getPayData",value:function(){var e;if(!this.walletsConfig)return null;var t=this.appConfig;return{intentId:t.intentId,token:t.token,release:t.release,logoUrl:t.logoUrl,language:this.language,appearance:{height:null===(e=this.clientConfig)||void 0===e?void 0:e.height}};}}],[{key:"canAppend",value:function(e){return!!(e&&e.intentId&&e.token&&e.release);}}]);}(Rh),jh=function(){return l(function e(t,n,r,i,a,s,c,u){var l;o(this,e),this.configuration=t,this.paymentButtonsView=n,this.iframe=r,this.tracking=i,this.logger=a,this.interactionsNotifier=s,this.messageBus=c,this.sdkABTests=u;var d=t.wallets,f=t.clientSide,p=t.language,h=t.intentId,m=t.token,g=t.release,v=t.app,b=y({},t.collect);null!==(l=this.sdkABTests)&&void 0!==l&&l.collectZipDSRP.get()&&(b.zip=!0),this.googlePayButton=new Lh(d.google,f.google,p,this.paymentButtonsView,this.iframe,this.tracking,this.logger,this.interactionsNotifier,this.messageBus,b),this.applePayButton=new Mh(d.apple,f.apple,{createSessionUrl:v.apple.createSessionUrl},m,g,p,this.paymentButtonsView,this.iframe,this.tracking,this.logger,this.interactionsNotifier,this.messageBus,b),this.paypalButton=new Bh(d.paypal,f.paypal,{baseApiPath:v.paypal.baseApiPath},p,this.paymentButtonsView,this.iframe,this.tracking,this.logger,this.interactionsNotifier,this.messageBus),this.pixButton=new Fh(d.pix,f.pix,{intentId:h,token:m,release:g,logoUrl:v.pix.logoUrl},p,this.paymentButtonsView,this.iframe,this.tracking,this.logger,this.interactionsNotifier,this.messageBus);},[{key:"resize",value:function(){var e;null===(e=this.paymentButtonsView)||void 0===e||e.resize();}},{key:"completeApplePayment",value:function(e){this.applePayButton.completeApplePayment(e);}},{key:"update",value:function(e){e.price&&this.updatePrice(e.price),e.appearance&&this.updateAppearance(e.appearance);}},{key:"updatePrice",value:function(){var e=r(v().mark(function e(t){return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.applePayButton.updatePrice(t),this.googlePayButton.updatePrice(t),this.paypalButton.updatePrice(t),this.pixButton.updatePrice(t);case 4:case"end":return e.stop();}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"updateAppearance",value:function(e){this.applePayButton.updateAppearance(e.applePay);}},{key:"setIsDisabled",value:function(e){this.paymentButtonsView.setIsDisabled(e),this.googlePayButton.setIsDisabled(e),this.applePayButton.setIsDisabled(e),this.paypalButton.setIsDisabled(e),this.pixButton.setIsDisabled(e);}},{key:"destroy",value:function(){this.googlePayButton.destroy(),this.applePayButton.destroy(),this.paypalButton.destroy(),this.pixButton.destroy(),this.paymentButtonsView.destroy();}},{key:"appendPaymentButtons",value:function(){var e=this.configuration.clientSide;this.clear();var t=function(){},n={allSettled:new Promise(function(e){t=e;})};if(this.paymentButtonsView.canAppend(e.google)){var r=this.googlePayButton.append();r&&(n.googlePay=r);}if(this.paymentButtonsView.canAppend(e.apple)){var i=this.applePayButton.append();i&&(n.applePay=i);}if(this.paymentButtonsView.canAppend(e.paypal)){var o=this.paypalButton.append();o&&(n.paypal=o);}if(this.paymentButtonsView.canAppend(e.pix)){var a=this.pixButton.append();a&&(n.pix=a);}var s=Object.keys(n).filter(function(e){return"allSettled"!==e;}).map(function(e){return n[e];});return s?Promise.all(s).then(function(){t();}):t(),n;}},{key:"clear",value:function(){this.applePayButton.clear(),this.googlePayButton.clear(),this.paypalButton.clear(),this.pixButton.clear(),this.paymentButtonsView.destroy();}}],[{key:"prefetch",value:function(){Lh.prefetch();}}]);}(),Uh=function(){return l(function e(){o(this,e),this.paymentButtons=null,this.locks=[];},[{key:"acquire",value:function(e){this.locks.push(e),this.apply();}},{key:"release",value:function(e){this.locks=this.locks.filter(function(t){return t!==e;}),this.apply();}},{key:"apply",value:function(){this.paymentButtons&&this.paymentButtons.setIsDisabled(!this.isEnabled);}},{key:"isEnabled",get:function(){return 0===this.locks.length;}}]);}(),$h=function(){return l(function e(t){o(this,e),this.messageBus=t,this.lastNotified=null;},[{key:"notify",value:function(e){var t=e.priceBreakdown;this.lastNotified&&JSON.stringify(t)===JSON.stringify(this.lastNotified)||(this.lastNotified=t,this.messageBus.sendPublicMessage({type:El.PaymentDetails,payment:{priceBreakdown:t}}));}},{key:"renotify",value:function(){this.lastNotified&&this.messageBus.sendPublicMessage({type:El.PaymentDetails,payment:{priceBreakdown:this.lastNotified}});}},{key:"getState",value:function(){return this.lastNotified?{priceBreakdown:this.lastNotified}:null;}},{key:"flush",value:function(){this.lastNotified=null;}}]);}(),zh=window.innerWidth<=500,Hh={position:"relative",backgroundColor:"white",height:zh?"100%":"600px",width:zh?"100%":"500px",maxWidth:"100vw",maxHeight:"100vv",borderRadius:zh?"0px":"12px"},qh={display:"none",transition:"opacity 0.2s ease-in",flexDirection:"column",justifyContent:"center",alignItems:"center",zIndex:"2147483647",height:"100vh",width:"100vw",position:"fixed",opacity:"0",top:"0",left:"0",backgroundColor:"rgba(0, 0, 0, 0.8)"},Wh=y(y({},Hh),{},{height:"auto",width:"auto",minHeight:"168px",minWidth:"368px"}),Vh={paddingTop:"24px",paddingBottom:"8px",margin:"0 auto",width:"48px"},Gh={position:"absolute",top:"16px",right:"16px",cursor:"pointer"},Yh={fontFamily:"Arial",fontStyle:"normal",fontWeight:"400",fontSize:"14px",lineHeight:"24px",textAlign:"center",maxWidth:"264px",boxSizing:"border-box",padding:"0 24px 40px",margin:"0 auto",color:"#000000"},Jh={height:"100%",width:"100%",borderRadius:"inherit",border:"none"},Xh=function(){return l(function e(t){o(this,e),this.uuid=t,this.iframe=null,this.iframeId="verify-iframe-modal-".concat(this.uuid()),this.modal=this.createThreeDSModal();},[{key:"open",value:function(e){var t=this,n=e.url,r=e.onSuccess;this.iframe&&(this.iframe.src=n),r(),this.modal.style.display="flex",setTimeout(function(){t.modal.style.opacity="1";},40);}},{key:"close",value:function(){var e=this;this.modal&&(setTimeout(function(){e.modal.style.opacity="0";},40),setTimeout(function(){try{var t;null!==(t=document)&&void 0!==t&&null!==(t=t.body)&&void 0!==t&&t.contains(e.modal)&&document.body.removeChild(e.modal);}catch(n){}},300));}},{key:"getWindow",value:function(){return window.frames[this.iframeId];}},{key:"createThreeDSModal",value:function(){var e=this.create3DSIframe(),t=document.createElement("div");Object.assign(t.style,Hh),t.appendChild(e);var n=document.createElement("div");return n.appendChild(t),Object.assign(n.style,qh),document.body.appendChild(n),n;}},{key:"create3DSIframe",value:function(){var e=document.createElement("iframe");return e.setAttribute("test-id","verify-iframe-modal-test-id"),e.id=this.iframeId,e.name=this.iframeId,e.allow="payment *",Object.assign(e.style,Jh),this.iframe=e,e;}}]);}(),Kh=function(){function e(t){var n=this;o(this,e),this.message=t,this.messageBox=null,this.modal=this.createThreeDSModal(),this.close=function(){n.modal&&(setTimeout(function(){n.modal.style.opacity="0";},40),setTimeout(function(){var e;return null===(e=document)||void 0===e?void 0:e.body.removeChild(n.modal);},300));};}return l(e,[{key:"open",value:function(){var e=r(v().mark(function e(t){var n,r,i,o=this;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.onSuccess,i=t.onFail,e.next=3,this.openNewTab(n);case 3:if(e.sent){e.next=7;break;}return i(),e.abrupt("return");case 7:this.messageBox&&(this.messageBox.innerText=this.message||""),r(),this.modal.style.display="flex",setTimeout(function(){o.modal.style.opacity="1";},40);case 11:case"end":return e.stop();}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"getWindow",value:function(){}},{key:"openNewTab",value:function(e){var t=window.open(e,"_blank");return Promise.resolve(!(null==t||!t.opener));}},{key:"createThreeDSModal",value:function(){var e=this.createIcon(),t=this.createMessageBox(),n=this.createCross();this.messageBox=t;var r=document.createElement("div");Object.assign(r.style,Wh);var i=document.createElement("div");return Object.assign(i.style,qh),r.appendChild(e),r.appendChild(t),r.appendChild(n),i.appendChild(r),document.body.appendChild(i),i;}},{key:"createIcon",value:function(){var t=document.createElement("div");return Object.assign(t.style,Vh),t.innerHTML=e.iconSvg,t;}},{key:"createCross",value:function(){var t=this,n=document.createElement("div");return Object.assign(n.style,Gh),n.innerHTML=e.crossSvg,n.addEventListener("click",function(){return t.close();}),n;}},{key:"createMessageBox",value:function(){var t=document.createElement("div");return Object.assign(t.style,Yh),t.innerHTML=e.iconSvg,t;}}]);}();(Nh=Kh).iconSvg='\n    <svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <rect x="15" y="7" width="30" height="22" rx="2" stroke="#2771FF" stroke-width="2"/>\n      <path opacity="0.4" d="M14 18H5C3.34315 18 2 19.3431 2 21V39C2 40.6569 3.34315 42 5 42H31C32.6569 42 34 40.6569 34 39V30H32V39C32 39.5523 31.5523 40 31 40H5C4.44772 40 4 39.5523 4 39V21C4 20.4477 4.44772 20 5 20H14V18Z" fill="#2771FF"/>\n    </svg>\n  ',Nh.crossSvg='\n    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path fill-rule="evenodd" clip-rule="evenodd" d="M10.9394 12L4.46973 5.53033L5.53039 4.46967L12.0001 10.9393L18.4697 4.46967L19.5304 5.53033L13.0607 12L19.5304 18.4697L18.4697 19.5303L12.0001 13.0607L5.53039 19.5303L4.46973 18.4697L10.9394 12Z" fill="#BEBEBE"/>\n    </svg>\n  ';var Zh=function(){return l(function e(t,n,r,i,a){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(){};o(this,e),this.logger=t,this.merchantLogger=n,this.messageBus=r,this.tracking=i,this.uuid=a,this.onFlush=s,this._paymentsButtons=null,this._intent=null,this.previousIntent=null,this.PENDING_PRICE_UPDATE_LOCK=Symbol("pending_price_update"),this.paymentButtonsInteractivity=new Uh(),this.paymentDetailsNotifier=new $h(this.messageBus),this.initConfig=null,this.resignConfig=null,this.initialized=!1,this.iframe=null,this.interactionsNotifier=null,this.threeDSFlow=null,this.isUnknownStateAfterUpdate=!1,this.sdkABTests=null,jh.prefetch();},[{key:"setIntent",value:function(e){e&&this.paymentDetailsNotifier.notify({priceBreakdown:e.priceBreakdown}),this._intent=e;}},{key:"renotifyIntent",value:function(){this.paymentDetailsNotifier.renotify();}},{key:"hasActiveIntent",value:function(){return!!this._intent;}},{key:"flush",value:function(){var e,t,n;null===(e=this.threeDSFlow)||void 0===e||e.close(),null===(t=this.iframe)||void 0===t||t.destroy(),null===(n=this.paymentsButtons)||void 0===n||n.destroy(),this.paymentDetailsNotifier.flush(),this.tracking.clear(),this.threeDSFlow=null,this.iframe=null,this.paymentsButtons=null,this.initConfig=null,this.resignConfig=null,this.previousIntent=this._intent,this._intent=null,this.isUnknownStateAfterUpdate=!1,this.paymentButtonsInteractivity.release(this.PENDING_PRICE_UPDATE_LOCK),this.sdkABTests=null,this.onFlush();}},{key:"choose3DSFlowScenario",value:function(e,t,n){var r=this;if(e===Pd.Modal)this.threeDSFlow=new Xh(this.uuid);else if(e===Pd.Tab)this.threeDSFlow=new Kh(n||"");else{var i;this.logger.error(new ba("Unsupported verify flow",{verifyType:e,intendId:null===(i=this._intent)||void 0===i?void 0:i.id}));}this.threeDSFlow&&this.threeDSFlow.open({url:t,onFail:function(){var t;return r.messageBus.sendPrivateMessage({type:El.PerformVerifyResult,verifyType:e,isSuccess:!1},null===(t=r.iframe)||void 0===t?void 0:t.getWindow());},onSuccess:function(){var t;return r.messageBus.sendPrivateMessage({type:El.PerformVerifyResult,verifyType:e,isSuccess:!0},null===(t=r.iframe)||void 0===t?void 0:t.getWindow());}});}},{key:"resize",value:function(e){var t,n,r,i,o;null===(t=this.iframe)||void 0===t||t.resize(e),null===(n=this.paymentsButtons)||void 0===n||n.resize();var a=parseInt(e.height.toString()||(null===(r=this.iframe)||void 0===r?void 0:r.height)||"0");return{width:parseInt((null===(i=e.width)||void 0===i?void 0:i.toString())||(null===(o=this.iframe)||void 0===o?void 0:o.width)||"0"),height:a,visible:!!this.iframe&&!this.iframe.isHidden};}},{key:"sendErrorToMerchant",value:function(e){var t;this.merchantLogger.error(e),function(e){return e instanceof Error&&!!e.details;}(e)&&(t=e.details);try{this.messageBus.sendPublicMessage({type:Dl.Error,value:{name:e.name,message:e.message,stack:e.stack},details:t});}catch(fM){this.logger.error(ba.wrap(fM,"Failed to send error to merchant"));}}},{key:"sendTokenToForm",value:function(e){var t,n,r,i=(null===(t=this._intent)||void 0===t?void 0:t.id)===e,o=!!this._intent;this.messageBus.sendPrivateMessage({type:El.TokenResponse,token:this._intent&&i?this._intent.token:""},null===(n=this.threeDSFlow)||void 0===n?void 0:n.getWindow()),this.messageBus.sendPrivateMessage({type:El.TokenResponse,token:this._intent&&i?this._intent.token:""},null===(r=this.iframe)||void 0===r?void 0:r.getWindow()),o||this.logger.error(new ba("Intent is missing")),i||this.logger.error(new ba("Intent is not the same"));}},{key:"getLastKnownIntentTracking",value:function(){var e=this._intent||this.previousIntent;return null==e?void 0:e.tracking;}},{key:"paymentsButtons",get:function(){return this._paymentsButtons;},set:function(e){this._paymentsButtons=e,this.paymentButtonsInteractivity.paymentButtons=e,this.paymentButtonsInteractivity.apply();}}]);}(),Qh=function(e){function t(e){var n;o(this,t);var r="string"==typeof e?e:JSON.stringify(e);return(n=i(this,t,["Unable to apply coupon: ".concat(r)])).name="ApplyCouponError","string"!=typeof e&&(n.details=e),n;}return h(t,e),l(t);}(x(Error)),em=function(){return l(function e(){var t,n=this;o(this,e),this.onSuccess=function(){},this.onFail=function(){},this.isCompleted=!1,this.result=new Promise(function(e,t){n.onSuccess=e,n.onFail=t;}),this.result=this.result.catch(function(e){t=e;}).then(function(e){return n.isCompleted=!0,n.cleanup(),t?Promise.reject(t):e;});},[{key:"cleanup",value:function(){}}]);}(),tm=function(e){function t(e,n,r,a){var s;return o(this,t),(s=i(this,t)).couponCode=e,s.context=n,s.messageBus=r,s.logger=a,s.trace=null,s.context.paymentButtonsInteractivity.acquire(t.SCHEDULED_INTERACTIVITY_LOCK),s;}return h(t,e),l(t,[{key:"handleSuccess",value:function(e){var t,n=this.context.paymentsButtons;null==n||n.update({price:{amount:e.price.amount,currency:e.price.currency}}),this.context.paymentButtonsInteractivity.release(this.context.PENDING_PRICE_UPDATE_LOCK),this.onSuccess(e),null===(t=this.trace)||void 0===t||t.finish();}},{key:"handleFail",value:function(e,t){var n;this.onFail(e),null===(n=this.trace)||void 0===n||n.finish(t);}},{key:"applyCouponFinished",value:function(){var e=this;return new Promise(function(t){e.messageBus.subscribeForPrivate(function n(r){r.type===Nl.CouponApplied&&(e.messageBus.unsubscribe(n),t(r));});});}},{key:"validate",value:function(){var e;return null!==(e=this.context.iframe)&&void 0!==e&&e.isPresentInDOM()?this.context.isUnknownStateAfterUpdate?[Rs.Unavailable,new Qh("Cannot apply coupon after failed update")]:null:[Rs.Cancelled,new Qh("Payment form iframe not found")];}},{key:"execute",value:function(){var e=r(v().mark(function e(){var t,n,r,i,o,a=this;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.context.resignConfig){e.next=3;break;}return this.handleFail(new Qh("Resign intents does not support coupons"),Rs.InvalidArgument),e.abrupt("return");case 3:if(this.trace=this.logger.trace("ApplyCoupon"),this.logLongExecution(),null===(n=this.validate())){e.next=10;break;}return r=_(n,2),i=r[0],o=r[1],this.handleFail(o,i),e.abrupt("return");case 10:return this.context.paymentButtonsInteractivity.acquire(this.context.PENDING_PRICE_UPDATE_LOCK),this.messageBus.sendPrivateMessage({type:El.ApplyCoupon,couponCode:this.couponCode},null===(t=this.context.iframe)||void 0===t?void 0:t.getWindow()),e.abrupt("return",Promise.race([this.context.iframe.unmounted().then(function(){a.isCompleted||a.handleFail(new Qh("Payment form iframe was removed from DOM before update ended"),Rs.Cancelled);}),this.applyCouponFinished().then(function(e){if(!a.isCompleted)if(e.error)a.handleFail(new Qh(e.error),Rs.InvalidArgument);else{var t={productPrice:e.productPrice,discountPrice:e.discountPrice,trialPrice:e.trialPrice,price:e.price};a.handleSuccess(t),a.context.paymentDetailsNotifier.notify({priceBreakdown:t});}})]));case 13:case"end":return e.stop();}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"logLongExecution",value:function(){var e=this,t=this.trace;setTimeout(function(){e.isCompleted||(t.finish(Rs.InternalError),e.onFail(new Qh("Internal error during update")));},9e4);}},{key:"cleanup",value:function(){this.context.paymentButtonsInteractivity.release(t.SCHEDULED_INTERACTIVITY_LOCK);}}]);}(em);tm.SCHEDULED_INTERACTIVITY_LOCK=Symbol("scheduled_coupon");var nm=function(e){return e.Default="default",e.Continue="continue",e;}(nm||{}),rm=function(e){return e.Default="default",e.Card="card",e.Inline="inline",e.Flat="flat",e;}(rm||{}),im=function(e){return e.Payment="payment",e.Resign="resign",e;}(im||{});function om(e){return new Promise(function(t){return setTimeout(t,e);});}function am(e){window.requestAnimationFrame?window.requestAnimationFrame(e):setTimeout(e,0);}var sm=function(e){function t(){var e;return o(this,t),(e=i(this,t,arguments)).name="ConnectionError",e.message="It seems user currently experiencing some problems with connection",e;}return h(t,e),l(t);}(x(Error)),cm=function(e){function t(e){var n;return o(this,t),(n=i(this,t,[e])).name="FormInitializationDtoError",n;}return h(t,e),l(t);}(x(Error)),um=function(e){function t(e){var n;return o(this,t),(n=i(this,t,[e])).name="SdkError",n;}return h(t,e),l(t);}(x(Error)),lm=function(e){function t(e){var n;return o(this,t),(n=i(this,t,[e])).name="PaymentButtonsViewError",n;}return h(t,e),l(t);}(x(Error)),dm="payment-buttons",fm="payment-buttons-column",pm=["form_body","card_number","expiry_date","card_cvv","card_holder","zip_code","card_cpf","card_dni","card_pin","card_curp","email","submit_button","header","form_title","two-columns","card_view","body_errors","card_brands","secure_info","input_group","additional_field","resign-form","resign-form-content","resign-card-preview","resign-card-brand-icon","resign-unknown-card-icon","resign-card-preview-content","resign-card-card-brand-name","resign-card-ending-in-text","resign-card-last-four","resign-input-group","resign-input-block","resign-label","resign-cvv","resign-dotted-placeholder","resign-tooltip-icon","resign-tooltip","resign-submit-button"],hm={opacity:0,position:"absolute",zIndex:"-99999999"},mm={opacity:1,position:"static",zIndex:"initial"},gm=function(){return l(function e(t,n,r){o(this,e),this.iframe=t,this.logger=n,this.merchantLogger=r,this.isShown=!1,this.buttons=[];},[{key:"canAppend",value:function(e){return null!=e&&e.containerId&&!document.getElementById(e.containerId)&&this.merchantLogger.warning(new lm("Container for payment button with id: ".concat(e.containerId," does not exist"))),!(null!=e&&e.hasOwnProperty("enabled")&&(null==e||!e.enabled));}},{key:"append",value:function(e,t){var n;this.buttons.push([t,e]),null===(n=this.getContainer(t))||void 0===n||n.appendChild(e);}},{key:"remove",value:function(e){var t=e.parentElement;e.remove(),t&&!t.children.length&&t.remove();}},{key:"destroy",value:function(){var e,t,n=this;this.buttons.forEach(function(e){var t=_(e,1)[0],r=n.getCustomContainer(t);r&&(r.innerHTML="");}),null===(e=this.getInlineContainer())||void 0===e||e.remove(),null===(t=this.getColumnContainer())||void 0===t||t.remove(),this.buttons=[];}},{key:"show",value:function(){this.isShown=!0,this.getAllContainers().forEach(function(e){Object.assign(e.style,mm);});}},{key:"resize",value:function(){var e=this.getInlineContainer(),t=this.getColumnContainer();e&&(e.style.width=this.iframe.width),t&&(t.style.width=this.iframe.width);}},{key:"setIsDisabled",value:function(e){this.buttons.forEach(function(t){var n=_(t,2);n[0];var r=n[1];r&&(r.disabled=e,r.style.opacity=e?"0.8":"1",r.style.pointerEvents=e?"none":"initial");});}},{key:"getAllContainers",value:function(){var e=this,t=this.buttons.reduce(function(t,n){var r=_(n,1)[0],i=e.getContainer(r);return i&&t.push(i),t;},[]),n=this.getInlineContainer(),r=this.getColumnContainer();return[].concat(w(t),w(n?[n]:[]),w(r?[r]:[]));}},{key:"getContainer",value:function(e){return this.getCustomContainer(e)||this.getOrCreateDefaultContainer(e);}},{key:"getCustomContainer",value:function(e){if(null!=e&&e.containerId)return document.getElementById(e.containerId);}},{key:"getOrCreateDefaultContainer",value:function(e){var t=this.getInlineContainer()||this.createInlineContainer(),n=this.getColumnContainer()||this.createColumnContainer(),r=document.getElementById(this.iframe.containerId);if(r){if(null!=e&&e.fullWidth)return n?(this.insertColumnContainer(n,r),n):void this.logger.error(new ba("Payment buttons: column container does not exist"));if(t)return this.insertInlineContainer(t,r),t;this.logger.error(new ba("Payment buttons: inline container does not exist"));}else this.merchantLogger.error(Ul.DoesNotExist(this.iframe.containerId));}},{key:"getInlineContainer",value:function(){return document.getElementById(dm);}},{key:"getColumnContainer",value:function(){return document.getElementById(fm);}},{key:"insertInlineContainer",value:function(e,t){if(!this.getInlineContainer()){var n=this.getColumnContainer();n?n.before(e):t.prepend(e);}}},{key:"insertColumnContainer",value:function(e,t){if(!this.getColumnContainer()){var n=this.getInlineContainer();n?n.after(e):t.prepend(e);}}},{key:"createInlineContainer",value:function(){var e=document.createElement("div");return e.id=dm,e.className="".concat(dm),Object.assign(e.style,y({width:this.iframe.width,padding:"0",marginBottom:"0.5em",display:"grid",gap:"0.5em",height:"3.3em",boxSizing:"border-box",gridTemplateColumns:"repeat(auto-fit, minmax(50px, 1fr))",gridTemplateRows:"3.3em"},this.isShown?mm:hm)),e;}},{key:"createColumnContainer",value:function(){var e=document.createElement("div");return e.id=fm,e.className="".concat(fm),Object.assign(e.style,y({width:this.iframe.width,padding:"0",display:"grid",marginBottom:"0.5em",gap:"0.5em",boxSizing:"border-box",gridTemplateColumns:"minmax(50px, 1fr)",gridAutoRows:"3.3em"},this.isShown?mm:hm)),e;}}]);}(),ym=function(e){return e.collectZipDSRP="collect_zipDSRP",e;}(ym||{}),vm=function(){return l(function e(t,n){o(this,e),this.name=t,this.tests=n;},[{key:"get",value:function(){return this.tests.includes(this.name);}}]);}(),bm=l(function e(t,n){o(this,e),this.logger=n;var r=[];Array.isArray(t)?r=t:this.logger.error(new ba("Invalid backend tests received, should be an array",{tests:t})),this.collectZipDSRP=new vm(ym.collectZipDSRP,r);}),_m=function(e){return e.Input="input",e.Button="button",e;}(_m||{}),wm=function(e){return e.Click="click",e.Focus="focus",e.Blur="blur",e.Change="change",e.EnterKeyDown="enterKeyDown",e;}(wm||{}),km=function(e){return e.CardNumber="cardNumber",e.CardCvv="cardCvv",e.CardExpiryDate="cardExpiryDate",e.CardHolder="cardHolder",e.Zip="zip",e.Email="email",e.BrazilCustomerPhone="brazilCustomerPhone",e.BrazilZip="brazilZip",e.BillingAddress="billingAddress",e.BillingCity="billingCity",e.BillingState="billingState",e;}(km||{}),Sm=function(e){return e.ResignCvv="resignCvv",e;}(Sm||{}),xm=function(){return l(function e(t,n){switch(o(this,e),this.messageBus=t,n){case"cardForm":this.state={cardForm:{fields:d(d(d({},km.CardNumber,{isValid:!1,isTouched:!1}),km.CardCvv,{isValid:!1,isTouched:!1}),km.CardExpiryDate,{isValid:!1,isTouched:!1}),isTouched:!1,isValid:!1}};break;case"resignForm":this.state={resignForm:{fields:d({},Sm.ResignCvv,{isValid:!1,isTouched:!1}),isTouched:!1,isValid:!1}};}},[{key:"processFormMessage",value:function(e){this.state=e,this.messageBus.sendPublicMessage(y(y({},JSON.parse(JSON.stringify(e))),{},{type:El.Interaction}));}},{key:"processDsrpClick",value:function(e){this.messageBus.sendPublicMessage(y(y({},JSON.parse(JSON.stringify(this.state))),{},{type:El.Interaction,target:{type:_m.Button,name:e,interaction:wm.Click}}));}},{key:"processApmButtonClick",value:function(e){this.messageBus.sendPublicMessage(y(y({},JSON.parse(JSON.stringify(this.state))),{},{type:El.Interaction,target:{type:_m.Button,name:e,interaction:wm.Click}}));}}]);}(),Em=function(e){return e.Default="default",e.React="react",e.Angular="angular",e.Vue="vue",e;}(Em||{}),Cm=function(e){return e.FormBody=".form_body",e.TwoColumns=".two-columns",e.CardView=".card_view",e;}(Cm||{});function Tm(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=0,i=Object.keys(e);r<i.length;r++){var o=i[r],a=e[o];if("object"==typeof a&&!Array.isArray(a)&&a){var s=void 0;s=o.includes(":")?"":pm.includes(o)?".":" ",Tm(a,t+"".concat(s).concat(o),n);}else{var c=[":",Cm.TwoColumns,Cm.CardView],u=t===Cm.FormBody,l=t.includes(Cm.FormBody)&&c.some(function(e){return t.includes(e);}),f=!t.includes(Cm.FormBody);(l||u||f)&&(n["".concat(t)]?n["".concat(t)][o]=a:n["".concat(t)]=d({},o,a));}}return n;}function Im(e){return e?"string"==typeof e?{}:function(e){var t=JSON.stringify(e),n={card_cpf:"brazil_cpf",card_dni:"argentina_dni",card_curp:"mexico_curp"};return Object.keys(n).forEach(function(e){var r=new RegExp(e,"g");t=t.replace(r,n[e]);}),JSON.parse(t);}(Tm(Object.keys(e).filter(function(e){return pm.includes(e);}).reduce(function(t,n){return t[n]=e[n],t;},{}))):{};}var Pm=function(){return l(function e(t,n,r){var i;o(this,e),this.config=t,this.branding=n,this.sdkVersion=r,this.payload={styles:null},this.initType=null!==(i=n.getSdkInitType())&&void 0!==i?i:Em.Default,this.addMerchantStyles(t.styles),this.verifyInitType(),this.addMetadata();},[{key:"toJSON",value:function(e){return y({type:El.FormInitialization,paymentType:im.Payment,originalConfig:this.config,integrity:e},this.payload);}},{key:"toApiCall",value:function(){return y(y({},this.config.merchantData),{},{sdkVersion:this.sdkVersion,meta:this.payload.meta});}},{key:"isIframeHidden",value:function(){var e;return!1===(null===(e=this.config.formParams)||void 0===e?void 0:e.enabled);}},{key:"styles",get:function(){return this.payload.styles;}},{key:"addMerchantStyles",value:function(e){if(e){var t=Im(e);Object.keys(t).length&&(this.payload.styles=t);}}},{key:"addMetadata",value:function(){var e,t=this.branding.getIsBrandedLogoParameterName();this.payload.meta={isBrandLogoDefined:!!this.config.formParams&&void 0!==this.config.formParams[t],isFrameworkSdkUsed:!!this.branding.getSdkInitType(),cdn:this.branding.getCdnList(),customContainerId:(null===(e=this.config)||void 0===e||null===(e=e.iframeParams)||void 0===e?void 0:e.containerId)||this.branding.getDefaultFormId()};}},{key:"verifyInitType",value:function(){var e=this;Object.values(Em).some(function(t){return t===e.initType;})||(this.initType=Em.Default);}}]);}(),Am=function(e){return e.VisaSecure="visa-secure",e.MccIdCheck="mcc-id-check",e.SSL="ssl",e.PCIDss="pci-dss",e.Norton="norton",e.McAffee="mc-affee",e;}(Am||{}),Om=function(){return l(function e(t){o(this,e),this.schema=t;},[{key:"validate",value:function(e){var t=this,n={},r=!0;return Object.keys(e).forEach(function(i){var o=e[i],a=t.schema[i];if(!a)return!0;var s=a(o);s.isValid||(n[i]=s.reason,r=!1);}),r?[!0]:[!1,n];}}],[{key:"string",value:function(e){return"string"==typeof e?{isValid:!0}:{isValid:!1,reason:"Value should be a string"};}},{key:"boolean",value:function(e){return"boolean"==typeof e?{isValid:!0}:{isValid:!1,reason:"Value should be a boolean"};}},{key:"oneOf",value:function(e){return function(t){return e.includes(t)?{isValid:!0}:{isValid:!1,reason:"Value should be one of: '".concat(e.join("', '"),"'")};};}},{key:"isArray",value:function(e){return Array.isArray(e)?{isValid:!0}:{isValid:!1,reason:"Value should be an array"};}},{key:"isArrayOf",value:function(e){return function(t){return Array.isArray(t)?t.every(function(t){return e.includes(t);})?{isValid:!0}:{isValid:!1,reason:"Value should be an array of: '".concat(e.join("', '"),"'")}:{isValid:!1,reason:"Value should be an array"};};}}]);}(),Rm=function(e){function t(e){var n;o(this,t);var r=zp.reduce(function(e,t){return e["".concat(t,"Label")]=Om.string,e["".concat(t,"Placeholder")]=Om.string,e;},{});return i(this,t,[y((n={enabled:Om.boolean,autoFocus:Om.boolean,buttonType:Om.oneOf(Object.values(nm)),submitButtonText:Om.string,isCardHolderVisible:Om.boolean,hideCvvNumbers:Om.boolean,headerText:Om.string,titleText:Om.string,formTypeClass:Om.oneOf(Object.values(rm))},d(d(d(d(d(d(d(d(d(d(n,e,Om.boolean),"cardBrands",Om.isArrayOf(Object.values(Up))),"secureBrands",Om.isArrayOf(Object.values(Am))),"allowSubmit",Om.boolean),"googleFontLink",Om.string),"cardNumberLabel",Om.string),"cardNumberPlaceholder",Om.string),"cardCvvLabel",Om.string),"cardCvvPlaceholder",Om.string),"cardExpiryDateLabel",Om.string),d(d(d(d(d(n,"cardExpiryDatePlaceholder",Om.string),"emailLabel",Om.string),"emailPlaceholder",Om.string),"zipCodeLabel",Om.string),"zipCodePlaceholder",Om.string)),r)]);}return h(t,e),l(t);}(Om),Mm=function(e){function t(e){var n;o(this,t);var r=zp.reduce(function(e,t){return e["".concat(t,"Label")]=Om.string,e["".concat(t,"Placeholder")]=Om.string,e;},{});return i(this,t,[y((n={enabled:Om.oneOf([!0,!1,"true"]),autoFocus:Om.oneOf([!0,!1,"true"]),buttonType:Om.string,submitButtonText:Om.string,isCardHolderVisible:Om.oneOf([!0,!1,"true"]),hideCvvNumbers:Om.oneOf([!0,!1,"true"]),headerText:Om.string,titleText:Om.string,formTypeClass:Om.string},d(d(d(d(d(d(d(d(d(d(n,e,Om.oneOf([!0,!1,"true","false"])),"cardBrands",Om.isArray),"secureBrands",Om.isArray),"allowSubmit",Om.oneOf([!0,!1,"true","false"])),"googleFontLink",Om.string),"cardNumberLabel",Om.string),"cardNumberPlaceholder",Om.string),"cardCvvLabel",Om.string),"cardCvvPlaceholder",Om.string),"cardExpiryDateLabel",Om.string),d(d(d(d(d(n,"cardExpiryDatePlaceholder",Om.string),"emailLabel",Om.string),"emailPlaceholder",Om.string),"zipCodeLabel",Om.string),"zipCodePlaceholder",Om.string)),r)]);}return h(t,e),l(t);}(Om),Lm=function(e){function t(e,n,r,a,s,c,u,l,d,f,p,h){var m;return o(this,t),(m=i(this,t)).config=e,m.context=n,m.logger=r,m.api=a,m.tracking=s,m.branding=c,m.merchantLogger=u,m.messageBus=l,m.uuid=d,m.release=f,m.iframePool=p,m.locationService=h,m.readyMessageState="Initial",m.paymentButtonsExist=!1,m.iframe=null,m.trace=null,m;}return h(t,e),l(t,[{key:"execute",value:function(){var e=r(v().mark(function e(){var t,n,i,o,a,s,c,u,l,d,f,p,h,m,g,y,b,w,k=this;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.context.initialized&&this.context.flush(),this.context.initialized=!0,this.tracking.cdnTest(this.branding.getCdnList()[0]),t=this.validate(),n=_(t,2),i=n[0],o=n[1],i){e.next=7;break;}return this.onFail(o),e.abrupt("return");case 7:return a=new Pm(this.config,this.branding,this.release),s=this.uuid(),this.trace=this.logger.trace("Initialization-v2"),this.logLongExecution(),this.context.initConfig=this.config,c=this.trace.addSpan("IframeLoading","resource"),u=this.iframePool.getIframe(),this.context.iframe=u,e.next=17,this.mountIframe(u,s);case 17:if("Mounted"===u.state){e.next=21;break;}return this.trace.finish(Rs.NotFound),this.onFail(new um("Element with containerId: ".concat(null===(l=this.config.iframeParams)||void 0===l?void 0:l.containerId," is missing"))),e.abrupt("return");case 21:return d=this.tracking.initTime(),this.iframe=u,u.onLoad(function(){k.tracking.scriptLoadTime(),k.messageBus.sendPrivateMessage(a.toJSON(s),u.getWindow()),c.finish();}),f=this.trace.addSpan("InitPaymentRequest","http"),e.next=27,this.api.init(a.toApiCall());case 27:if(p=e.sent,h=p.result,m=p.retries,!(h instanceof Error)){e.next=35;break;}return this.context.sendErrorToMerchant(h),this.onFail(h),this.trace.finish(Rs.PermissionDenied),e.abrupt("return");case 35:return this.tracking.initNetworkError(m),f.finish(),this.context.setIntent(h),h.tracking&&this.tracking.init(h.tracking.trackSignature,h.tracking.trackId,this.config.merchantData.merchant),this.context.sdkABTests=new bm(h.tests,this.logger),u.setIntentMetadata(h.id,h.host,im.Payment),g=new xm(this.messageBus,"cardForm"),this.context.interactionsNotifier=g,y=this.appendPaymentButtons(h,u,g),b=!!y,y&&y.then(function(){return d.buttonsLoadEnded(b);}),w=this.trace.addSpan("ReadyMessage","function"),e.abrupt("return",Promise.race([u.unmounted().then(function(){var e;k.isCompleted||(null===(e=k.trace)||void 0===e||e.finish(Rs.Cancelled),k.onFail(new um("".concat(k.paymentButtonsExist?"Unable to append payment buttons: ":"","Payment form iframe was removed from DOM before initialization ended"))));}),new Promise(function(e){var t=function(){var n=r(v().mark(function n(r){var i,o;return v().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r.type===Nl.FormReady){n.next=2;break;}return n.abrupt("return");case 2:if(!1!==(null===(i=k.config.formParams)||void 0===i?void 0:i.enabled)&&u.show(),k.messageBus.sendPrivateMessage({type:El.RequestSize},u.getWindow()),am(function(){return u.enableTransitions();}),w.finish(),d.formLoadEnded(b),r.integrity===s){n.next=12;break;}return k.readyMessageState="Foreign",n.abrupt("return");case 12:k.readyMessageState="Ask";case 13:if(k.messageBus.unsubscribe(t),k.messageBus.sendPublicMessage({type:El.Mounted,entity:Oh.Form}),k.tracking.domainsUsage({pageUrl:k.locationService.getPageUrl(),sdkReferrer:k.locationService.getSdkReferrer()}),e(),k.onSuccess(),!y){n.next=21;break;}return n.next=21,y;case 21:null===(o=k.trace)||void 0===o||o.finish();case 22:case"end":return n.stop();}},n);}));return function(e){return n.apply(this,arguments);};}();k.messageBus.subscribeForPrivate(t),u.onLoad(function(){return k.messageBus.sendPrivateMessage({type:El.SetPaymentIntent,paymentIntent:h},u.getWindow());}),u.onError(function(n){var r,i=new sm();k.logger.error(new ba("Failed to load iframe",{error:n,url:k.branding.getIframeUrl()})),k.context.sendErrorToMerchant(i),k.messageBus.unsubscribe(t),null===(r=k.trace)||void 0===r||r.finish(Rs.DataLoss),k.onFail(i),e();});})]));case 48:case"end":return e.stop();}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"appendPaymentButtons",value:function(e,t,n){if("new"===e.status){var r=this.makePaymentButtons(t,n,e),i=r.appendPaymentButtons();if(this.context.paymentsButtons=r,i.applePay){var o,a=null===(o=this.trace)||void 0===o?void 0:o.addSpan("ApplePayButtonLoading","resource");i.applePay.then(function(){null==a||a.finish();});}if(i.googlePay){var s,c=null===(s=this.trace)||void 0===s?void 0:s.addSpan("GooglePayButtonLoading","resource");i.googlePay.then(function(){null==c||c.finish();});}if(i.paypal){var u,l=null===(u=this.trace)||void 0===u?void 0:u.addSpan("PaypalButtonLoading","resource");i.paypal.then(function(){null==l||l.finish();});}return i.allSettled;}return null;}},{key:"makePaymentButtons",value:function(e,t,n){return new jh({intentId:n.id,token:n.token,release:this.release,language:n.appearance.language,wallets:n.wallets,clientSide:{google:this.config.googlePayButtonParams,apple:this.config.applePayButtonParams,paypal:this.config.paypalButtonParams,pix:this.config.pixButtonParams},app:{apple:{createSessionUrl:"".concat(this.branding.getPaymentFormUrl(),"/api/v2/").concat(n.host,"/apple-pay/session/").concat(n.id)},paypal:{baseApiPath:this.branding.getAltGateBaseUrl()},pix:{logoUrl:"".concat(this.branding.getPaymentFormUrl(),"/img/sdk/payment-buttons/open-finance.svg")}},collect:{zip:n.appearance.collectZip,email:n.appearance.collectEmail}},new gm(e,this.logger,this.merchantLogger),e,this.tracking,this.logger,t,this.messageBus,this.context.sdkABTests);}},{key:"validate",value:function(){var e,t,n,r=this;if(!this.config){var i=new cm("Missing required arguments during initialization");return this.merchantLogger.error(i),[!1,i];}if(this.config.formParams){var o=this.branding.getIsBrandedLogoParameterName(),a=new Rm(o),s=new Mm(o),c=_(a.validate(this.config.formParams),2),u=c[0],l=c[1],d=_(s.validate(this.config.formParams),2),f=d[0],p=d[1];if(!u){var h=new cm("Unsupported formParams values for fields: '".concat(Object.keys(l).join("', '"),"'"));this.merchantLogger.error(h,l);}f||this.logger.error(new ba("Init: Unsupported config",p));}return null!==(e=this.config.formParams)&&void 0!==e&&e.buttonType&&!Object.values(nm).some(function(e){var t;return e===(null===(t=r.config.formParams)||void 0===t?void 0:t.buttonType);})&&(this.merchantLogger.error(new cm("Unsupported formParams.buttonType, switching to default")),this.config.formParams.buttonType=nm.Default),null!==(t=this.config.formParams)&&void 0!==t&&t.formTypeClass&&!Object.values(rm).includes(null===(n=this.config.formParams)||void 0===n?void 0:n.formTypeClass)&&(this.merchantLogger.error(new cm("Unsupported formParams.formTypeClass, switching to default")),this.config.formParams.formTypeClass=rm.Default),[!0];}},{key:"mountIframe",value:function(){var e=r(v().mark(function e(t,n){var r,i,o,a,s,c,u,l;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mount(n,null===(r=this.config.iframeParams)||void 0===r?void 0:r.containerId,null===(i=this.config.iframeParams)||void 0===i?void 0:i.width),"Mounted"===t.state){e.next=6;break;}return this.merchantLogger.warning("Retry creating iframe in 1 ms"),e.next=5,om(1);case 5:t.mount(n,null===(o=this.config.iframeParams)||void 0===o?void 0:o.containerId,null===(a=this.config.iframeParams)||void 0===a?void 0:a.width);case 6:if("Mounted"===t.state){e.next=11;break;}return this.merchantLogger.warning("Retry creating iframe in 10 ms"),e.next=10,om(10);case 10:t.mount(n,null===(s=this.config.iframeParams)||void 0===s?void 0:s.containerId,null===(c=this.config.iframeParams)||void 0===c?void 0:c.width);case 11:if("Mounted"===t.state){e.next=16;break;}return this.merchantLogger.warning("Retry creating iframe in 50 ms"),e.next=15,om(50);case 15:t.mount(n,null===(u=this.config.iframeParams)||void 0===u?void 0:u.containerId,null===(l=this.config.iframeParams)||void 0===l?void 0:l.width);case 16:"Mounted"!==t.state&&this.merchantLogger.warning("Giving up retry creating iframe");case 17:case"end":return e.stop();}},e,this);}));return function(t,n){return e.apply(this,arguments);};}()},{key:"logLongExecution",value:function(){var e=this,t=this.trace;setTimeout(function(){e.isCompleted||(null==t||t.finish(Rs.InternalError),e.onFail(new um("Internal error")));},9e4);}}]);}(em),Nm=function(e){return e.MonochromeLight="monochrome-light",e.MonochromeDark="monochrome-dark",e.Colored="colored",e;}(Nm||{}),Dm=function(e){function t(e){var n;return o(this,t),(n=i(this,t,[e])).name="FormResignDtoError",n;}return h(t,e),l(t);}(x(Error)),Bm=function(e){function t(){return o(this,t),i(this,t,[{autoFocus:Om.oneOf([!0,!1,"true"]),submitButtonText:Om.string,allowSubmit:Om.oneOf([!0,!1,"true"]),googleFontLink:Om.string,resignCvvLabel:Om.string,resignCvvPlaceholder:Om.string,hideCvvNumbers:Om.oneOf([!0,!1,"true"]),cardBrandIconStyle:Om.oneOf(Object.values(Nm))}]);}return h(t,e),l(t);}(Om),Fm=function(e){function t(){return o(this,t),i(this,t,[{autoFocus:Om.boolean,submitButtonText:Om.string,allowSubmit:Om.boolean,googleFontLink:Om.string,resignCvvLabel:Om.string,resignCvvPlaceholder:Om.string,hideCvvNumbers:Om.boolean,cardBrandIconStyle:Om.oneOf(Object.values(Nm))}]);}return h(t,e),l(t);}(Om),jm=function(){return l(function e(t,n,r){var i,a;o(this,e),this.resign=t,this.branding=n,this.sdkVersion=r,this.payload={},this.initType=null!==(i=n.getSdkInitType())&&void 0!==i?i:Em.Default,this.addMerchantStyles(null===(a=this.resign.formConfig)||void 0===a?void 0:a.styles),this.verifyInitType(),this.addMetadata();},[{key:"toJSON",value:function(e){return{type:El.FormInitialization,paymentType:im.Resign,formConfig:y(y({},this.resign.formConfig),{},{styles:this.inlineStyles}),integrity:e};}},{key:"toApiCall",value:function(){return y(y({},this.resign.request),{},{sdkVersion:this.sdkVersion,meta:this.payload.meta});}},{key:"styles",get:function(){return this.inlineStyles;}},{key:"addMerchantStyles",value:function(e){if(e){var t=Im(e);Object.keys(t).length&&(this.inlineStyles=t);}}},{key:"addMetadata",value:function(){var e;this.payload.meta={isFrameworkSdkUsed:!!this.branding.getSdkInitType(),cdn:this.branding.getCdnList(),customContainerId:(null===(e=this.resign.formConfig)||void 0===e||null===(e=e.container)||void 0===e?void 0:e.id)||this.branding.getDefaultFormId()};}},{key:"verifyInitType",value:function(){var e=this;Object.values(Em).some(function(t){return t===e.initType;})||(this.initType=Em.Default);}}]);}(),Um=function(e){function t(e,n,r,a,s,c,u,l,d,f,p,h){var m;return o(this,t),(m=i(this,t)).config=e,m.context=n,m.api=r,m.tracking=a,m.messageBus=s,m.logger=c,m.merchantLogger=u,m.branding=l,m.uuid=d,m.release=f,m.iframePool=p,m.locationService=h,m.readyMessageState="Initial",m.iframe=null,m.trace=null,m;}return h(t,e),l(t,[{key:"execute",value:function(){var e=r(v().mark(function e(){var t,n,i,o,a,s,c,u,l,d,f,p,h,m,g,y,b,w,k=this;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.context.initialized&&this.context.flush(),this.context.initialized=!0,i=this.validate(),o=_(i,2),a=o[0],s=o[1],a){e.next=6;break;}return this.onFail(s),e.abrupt("return");case 6:if(c=new jm(this.config,this.branding,this.release),u=this.uuid(),this.trace=this.logger.trace("ResignInitialization-v2"),l=this.tracking.resignInitTime(),this.logLongExecution(),this.context.resignConfig=this.config,d=this.trace.addSpan("IframeLoading","resource"),f=this.iframePool.getIframe(),this.context.iframe=f,p=this.config.formConfig,f.mount(u,null==p||null===(t=p.container)||void 0===t?void 0:t.id,null==p||null===(n=p.container)||void 0===n?void 0:n.width),"Mounted"===f.state){e.next=21;break;}return this.trace.finish(Rs.NotFound),this.onFail(new um("Element with containerId: ".concat(null==p||null===(h=p.container)||void 0===h?void 0:h.id," is missing"))),e.abrupt("return");case 21:return this.iframe=f,f.onLoad(function(){k.tracking.scriptLoadTime(),k.messageBus.sendPrivateMessage(c.toJSON(u),f.getWindow()),d.finish();}),m=this.trace.addSpan("InitResignRequest","http"),e.next=26,this.api.resign(c.toApiCall());case 26:if(g=e.sent,y=g.result,b=g.retries,!(y instanceof Error)){e.next=34;break;}return this.context.sendErrorToMerchant(y),this.onFail(y),this.trace.finish(Rs.PermissionDenied),e.abrupt("return");case 34:return this.tracking.initNetworkError(b),m.finish(),this.context.setIntent(y),y.tracking&&this.tracking.init(y.tracking.trackSignature,y.tracking.trackId,this.config.request.merchant),f.setIntentMetadata(y.id,y.host,im.Resign),this.context.interactionsNotifier=new xm(this.messageBus,"resignForm"),w=this.trace.addSpan("ReadyMessage","function"),e.abrupt("return",Promise.race([f.unmounted().then(function(){var e;k.isCompleted||(null===(e=k.trace)||void 0===e||e.finish(Rs.Cancelled),k.onFail(new um("Payment form iframe was removed from DOM before initialization ended")));}),new Promise(function(e){var t=function(){var n=r(v().mark(function n(r){var i;return v().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(r.type===Nl.FormReady){n.next=2;break;}return n.abrupt("return");case 2:if(f.show(),am(function(){return f.enableTransitions();}),w.finish(),l(),r.integrity===u){n.next=12;break;}return k.readyMessageState="Foreign",k.logger.error(new ba("Foreign message received",{expected:u,actual:r.integrity})),n.abrupt("return");case 12:k.readyMessageState="Ask";case 13:k.messageBus.unsubscribe(t),k.tracking.domainsUsage({pageUrl:k.locationService.getPageUrl(),sdkReferrer:k.locationService.getSdkReferrer()}),e(),k.onSuccess(),k.messageBus.sendPublicMessage({type:El.Mounted,entity:Oh.Resign}),k.context.renotifyIntent(),null===(i=k.trace)||void 0===i||i.finish();case 20:case"end":return n.stop();}},n);}));return function(e){return n.apply(this,arguments);};}();k.messageBus.subscribeForPrivate(t),f.onLoad(function(){return k.messageBus.sendPrivateMessage({type:El.SetResignIntent,resignIntent:y},f.getWindow());}),f.onError(function(n){var r,i=new sm();k.logger.error(new ba("Resign: Unable to load iframe",{reason:n,url:k.branding.getIframeUrl()})),k.context.sendErrorToMerchant(i),k.messageBus.unsubscribe(t),null===(r=k.trace)||void 0===r||r.finish(Rs.DataLoss),k.onFail(i),e();});})]));case 42:case"end":return e.stop();}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"validate",value:function(){var e;if(null===(e=this.config)||void 0===e||!e.request){var t=new Dm("Missing config request argument");return this.merchantLogger.error(t),[!1,t];}if(this.config.formConfig.appearance){var n=new Fm(),r=new Bm(),i=_(n.validate(this.config.formConfig.appearance),2),o=i[0],a=i[1],s=_(r.validate(this.config.formConfig.appearance),2),c=s[0],u=s[1];if(!o){var l=new Dm("Unsupported formConfig.appearance values for fields: '".concat(Object.keys(a).join("', '"),"'"));this.merchantLogger.error(l,a);}c||this.logger.error(new ba("Resign: invalid config",u));var d=this.config.formConfig.appearance;if(null!=d&&d.cardBrandIconStyle&&!Object.values(Nm).includes(d.cardBrandIconStyle)){var f=new Dm("Unsupported appearance.cardBrandIconStyle value, switching to 'monochrome-dark'");this.config.formConfig.appearance.cardBrandIconStyle=Nm.MonochromeDark,this.merchantLogger.error(f);}}return[!0];}},{key:"logLongExecution",value:function(){var e=this,t=this.trace;setTimeout(function(){e.isCompleted||(null==t||t.finish(Rs.InternalError),e.onFail(new um("Internal error")));},9e4);}}]);}(em),$m=function(e){function t(e){var n;return o(this,t),(n=i(this,t,[e])).name="UpdateDtoError",n;}return h(t,e),l(t);}(x(Error)),zm=function(){function e(t,n){o(this,e),this.updateConfig=t,this.branding=n;}return l(e,[{key:"validate",value:function(){return this.validatePartialIntent()?this.validateButtonType()?this.validateFormTypeClass()?this.validateApplePayButtonParams()?[!0]:[!1,new $m("Unsupported applePayButtonParams.type")]:[!1,new $m("Unsupported formParams.formTypeClass")]:[!1,new $m("Unsupported formParams.buttonType")]:[!1,new $m("Unable to perform update: Missing intent or signature")];}},{key:"toJSON",value:function(){var t,n,r=this.updateConfig,i=r.partialIntent,o=r.signature,a=r.formParams,s=r.styles;s&&(t=null!==(n=e.getInlineStyles(s))&&void 0!==n?n:null);return{partialIntent:i,signature:o,formParams:a,styles:t};}},{key:"applePayButtonParams",get:function(){return this.updateConfig.applePayButtonParams;}},{key:"isPossiblePriceChange",value:function(){return!(!this.updateConfig.partialIntent||!this.updateConfig.signature);}},{key:"validatePartialIntent",value:function(){return!this.updateConfig.partialIntent&&!this.updateConfig.signature||!(!this.updateConfig.partialIntent||!this.updateConfig.signature);}},{key:"validateFormParams",value:function(){var e=this.branding.getIsBrandedLogoParameterName(),t=new Rm(e);return this.updateConfig.formParams?t.validate(this.updateConfig.formParams):[!0];}},{key:"looseValidateFormParams",value:function(){var e=this.branding.getIsBrandedLogoParameterName(),t=new Mm(e);return this.updateConfig.formParams?t.validate(this.updateConfig.formParams):[!0];}},{key:"validateButtonType",value:function(){var e,t=this;return!(null!==(e=this.updateConfig.formParams)&&void 0!==e&&e.buttonType&&!Object.values(nm).some(function(e){var n;return e===(null===(n=t.updateConfig.formParams)||void 0===n?void 0:n.buttonType);}));}},{key:"validateFormTypeClass",value:function(){var e,t;return!(null!==(e=this.updateConfig.formParams)&&void 0!==e&&e.formTypeClass&&!Object.values(rm).includes(null===(t=this.updateConfig.formParams)||void 0===t?void 0:t.formTypeClass));}},{key:"validateApplePayButtonParams",value:function(){var e,t;return!(null!==(e=this.updateConfig.applePayButtonParams)&&void 0!==e&&e.type&&bh.forbiddenTypes.includes(null===(t=this.updateConfig.applePayButtonParams)||void 0===t?void 0:t.type));}}],[{key:"getInlineStyles",value:function(e){if(e){var t=Im(e);if(Object.keys(t).length)return t;}}}]);}(),Hm=function(e){function t(e,n,r,a,s,c,u){var l;return o(this,t),(l=i(this,t)).context=n,l.logger=r,l.tracking=a,l.merchantLogger=s,l.messageBus=c,l.branding=u,l.trace=null,l.dto=new zm(e,l.branding),l.lockInteractivity(t.SCHEDULED_INTERACTIVITY_LOCK),l;}return h(t,e),l(t,[{key:"execute",value:function(){var e=r(v().mark(function e(){var t,n,r,i,o,a;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.trace=this.logger.trace("Update"),this.logLongExecution(),t=this.context.paymentsButtons,this.tracking.updateIntentStarted(),null===(n=this.validate())){e.next=9;break;}return r=_(n,2),i=r[0],o=r[1],this.handleFail(o,i),e.abrupt("return");case 9:return this.lockInteractivity(this.context.PENDING_PRICE_UPDATE_LOCK),this.startUpdateInIframe(),a=this.tracking.updateTime(),e.abrupt("return",Promise.race([this.handleIframeUnmount(),this.handleIframeUpdateCompletion(t,a)]));case 13:case"end":return e.stop();}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"logLongExecution",value:function(){var e=this,t=this.trace;setTimeout(function(){e.isCompleted||(t.finish(Rs.InternalError),e.onFail(new um("Internal error during update")));},9e4);}},{key:"validate",value:function(){var e;if(this.context.resignConfig)return[Rs.FailedPrecondition,new um("Resign intents does not support update")];if(!this.context.hasActiveIntent())return[Rs.FailedPrecondition,new um("Cannot update uninitialized form")];var t=_(this.dto.validate(),2),n=t[0],r=t[1],i=_(this.dto.validateFormParams(),2),o=i[0],a=i[1],s=_(this.dto.looseValidateFormParams(),2),c=s[0],u=s[1];if(!o){var l=new $m("Unsupported formParams values for fields: '".concat(Object.keys(a).join("', '"),"'"));this.merchantLogger.error(l,a);}return c||"boolean"==typeof u||this.logger.error(new ba("Update: invalid config",u)),n?null!==(e=this.context.iframe)&&void 0!==e&&e.isPresentInDOM()?null:[Rs.Cancelled,new um("Unable to perform update: payment form iframe not found")]:[Rs.Cancelled,r];}},{key:"handleIframeUnmount",value:function(){var e=this;return this.context.iframe.unmounted().then(function(){e.isCompleted||e.handleFail(new um("Payment form iframe was removed from DOM before update ended"),Rs.Cancelled);});}},{key:"handleIframeUpdateCompletion",value:function(e,t){var n=this;return this.updateInIframeCompleted().then(function(r){if(!n.isCompleted){if(function(e){var t=e;return t.type===Nl.UpdateComplete&&!!t.error;}(r))return n.context.isUnknownStateAfterUpdate=!0,void n.handleFail(r.error,Rs.InvalidArgument);n.context.isUnknownStateAfterUpdate=!1,n.handleSuccess(r,e),t();}});}},{key:"handleFail",value:function(e,t){var n;null===(n=this.trace)||void 0===n||n.finish(t),this.onFail(e);}},{key:"handleSuccess",value:function(e,t){var n,r={};if(function(e){var t=e;return t.type===Nl.UpdateComplete&&!!t.priceBreakdown;}(e)){var i=e.priceBreakdown.price,o=i.amount,a=i.currency;r.price={amount:o,currency:a},this.context.paymentDetailsNotifier.notify({priceBreakdown:e.priceBreakdown});}var s=this.dto.applePayButtonParams;s&&(r.appearance={},s&&(r.appearance.applePay={buttonColor:null==s?void 0:s.color,buttonType:null==s?void 0:s.type})),null==t||t.update(r),this.unlockInteractivity(this.context.PENDING_PRICE_UPDATE_LOCK),null===(n=this.trace)||void 0===n||n.finish(),this.onSuccess(this.context.paymentDetailsNotifier.getState());}},{key:"startUpdateInIframe",value:function(){var e;this.messageBus.sendPrivateMessage({type:El.UpdatePaymentIntent,payload:this.dto.toJSON()},null===(e=this.context.iframe)||void 0===e?void 0:e.getWindow());}},{key:"updateInIframeCompleted",value:function(){var e=this;return new Promise(function(t){e.messageBus.subscribeForPrivate(function n(r){r.type===Nl.UpdateComplete&&(e.messageBus.unsubscribe(n),t(r));});});}},{key:"lockInteractivity",value:function(e){this.dto.isPossiblePriceChange()&&this.context.paymentButtonsInteractivity.acquire(e);}},{key:"unlockInteractivity",value:function(e){this.dto.isPossiblePriceChange()&&this.context.paymentButtonsInteractivity.release(e);}},{key:"cleanup",value:function(){this.unlockInteractivity(t.SCHEDULED_INTERACTIVITY_LOCK);}}]);}(em);Hm.SCHEDULED_INTERACTIVITY_LOCK=Symbol("scheduled_update");var qm=function(){return l(function e(){o(this,e);},[{key:"error",value:function(e,t){console.error(e,t);}},{key:"warning",value:function(e,t){console.warn(e,t);}},{key:"debug",value:function(e){console.debug(e);}}]);}(),Wm=function(e){function t(){var e;return o(this,t),(e=i(this,t,arguments)).name="GatewayError",e.message="Something went wrong on our side. Please contact support",e;}return h(t,e),l(t);}(x(Error)),Vm=function(e){function t(e){var n;return o(this,t),(n=i(this,t,["Unable to init resign: ".concat(JSON.stringify(e))])).name="InitResignError",n.details=e,n;}return h(t,e),l(t);}(x(Error));function Gm(e){return void 0!==e.error;}var Ym=function(){return l(function e(t,n,r){o(this,e),this.logger=t,this.urls=n,this.release=r;},[{key:"init",value:function(){var e=r(v().mark(function e(t){var n,r,i,o,a,s;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=this.getInitPaymentPayload(t),e.next=3,this.request({url:this.urls.init,body:JSON.stringify(r),merchant:t.merchant,signature:t.signature});case 3:if(i=e.sent,o=i.result,a=i.retries,!(o instanceof Error)){e.next=8;break;}return e.abrupt("return",{result:o,retries:a});case 8:if(!Gm(o)){e.next=10;break;}return e.abrupt("return",{result:new Ad(o.error),retries:a});case 10:return s=o.data,null!==(n=s.wallets)&&void 0!==n&&n.paypal&&(s.wallets.paypal=y(y({},s.wallets.paypal),{},{fraudnetSessionId:s.id,currency:s.priceBreakdown.price.currency})),e.abrupt("return",{result:s,retries:a});case 13:case"end":return e.stop();}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"resign",value:function(){var e=r(v().mark(function e(t){var n,r,i,o;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.getResignPayload(t),e.next=3,this.request({url:this.urls.resign,body:JSON.stringify(n),merchant:t.merchant,signature:t.signature});case 3:if(r=e.sent,i=r.result,o=r.retries,!(i instanceof Error)){e.next=8;break;}return e.abrupt("return",{result:i,retries:o});case 8:if(!Gm(i)){e.next=10;break;}return e.abrupt("return",{result:new Vm(i.error),retries:o});case 10:return e.abrupt("return",{result:i.data,retries:o});case 11:case"end":return e.stop();}},e,this);}));return function(t){return e.apply(this,arguments);};}()},{key:"getInitPaymentPayload",value:function(e){var t={payment_intent:e.paymentIntent,version:e.version||"v1",sdk_version:e.sdkVersion};return e.meta&&(t.meta={is_brand_logo_defined:e.meta.isBrandLogoDefined,is_framework_sdk_used:e.meta.isFrameworkSdkUsed,cdn:e.meta.cdn,custom_container_id:e.meta.customContainerId}),t;}},{key:"request",value:function(){var e=r(v().mark(function e(t){var n,r,i,o;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=0,e.prev=1,i=new gh({url:t.url,method:"POST",headers:{Merchant:t.merchant,Signature:t.signature,"X-Release":this.release},body:t.body},{times:6,time:2e3,whenOnline:!0,shouldRepeat:function(e){return(null===e||![400,401].includes(e))&&(null===e||e>=300)&&(r+=1,!0);}}),e.next=5,i.execute();case 5:n=e.sent,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(1),this.logNetworkError(null),e.abrupt("return",{retries:r,result:new sm()});case 12:if(n.status&&![403,502,504].includes(n.status)||this.logNetworkError(n.status),n.ok||[400,401].includes(n.status)){e.next=15;break;}return e.abrupt("return",{retries:r,result:new Wm()});case 15:return e.prev=15,e.next=18,n.json();case 18:o=e.sent,e.next=25;break;case 21:return e.prev=21,e.t1=e.catch(15),this.logger.error(ba.wrap(e.t1,"API: JSON parse error")),e.abrupt("return",{retries:r,result:new Wm()});case 25:return e.abrupt("return",{result:o,retries:r});case 26:case"end":return e.stop();}},e,this,[[1,8],[15,21]]);}));return function(t){return e.apply(this,arguments);};}()},{key:"getResignPayload",value:function(e){var t={payment_intent:e.resignIntent,version:e.version||"v1",sdk_version:e.sdkVersion};return e.meta&&(t.meta={is_framework_sdk_used:e.meta.isFrameworkSdkUsed,cdn:e.meta.cdn,custom_container_id:e.meta.customContainerId}),t;}},{key:"logNetworkError",value:function(e){this.logger.error(new ba("API: Network error",{status:e||"empty"}));}}]);}(),Jm=["localhost","127.0.0.1"];var Xm,Km=function(){return l(function e(){o(this,e),this.lock=Promise.resolve(),this.resolveLock=function(){};},[{key:"acquire",value:function(){var e=r(v().mark(function e(){var t=this;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.lock;case 2:this.lock=new Promise(function(e){t.resolveLock=e;});case 3:case"end":return e.stop();}},e,this);}));return function(){return e.apply(this,arguments);};}()},{key:"release",value:function(){this.resolveLock();}}]);}(),Zm=function(){function e(t,n){o(this,e),this.queueMutex=new Km(),this.queue=[],this.logger=n,this.config={url:t},this.messageEnrichment={sessionId:this.makeId(e.IdLength),signature:"",entityName:"",entityValue:"",merchant:""};}return l(e,[{key:"keysToSnake",value:function(e){var t=this;if(function(e){return e===Object(e)&&!Array.isArray(e)&&"function"!=typeof e;}(e)){var n={};return Object.keys(e).forEach(function(r){n[Od.toSnakeCase(r)]=t.keysToSnake(e[r]);}),n;}return Array.isArray(e)?e.map(function(e){return t.keysToSnake(e);}):e;}},{key:"init",value:function(t){var n=this,r=t.signature,i=t.entityValue,o=t.entityName,a=t.merchant;this.messageEnrichment.signature=r,this.messageEnrichment.entityValue=i,this.messageEnrichment.entityName=o,this.messageEnrichment.merchant=a,this.queue=this.queue.map(function(t){return e.isEnrichedMessage(t)?t:n.enrichMessage(t);}),this.drainQueue();}},{key:"clear",value:function(){this.messageEnrichment.signature="",this.messageEnrichment.entityValue="",this.messageEnrichment.entityName="";}},{key:"send",value:function(e){this.queue.push(this.enrichMessage(e)),this.drainQueue();}},{key:"getEventISOTime",value:function(){return new Date().toISOString().slice(0,-1);}},{key:"warmupOptionsCache",value:function(){var e=r(v().mark(function e(){var t;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.queueMutex.acquire();case 2:return t=new gh({url:this.config.url,method:"OPTIONS",headers:{"Content-Type":"application/json",Signature:"CORS-WARMUP-SIGNATURE"}}),e.prev=3,e.next=6,t.execute();case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(3),this.logger.error(ba.wrap(e.t0,"Tracking api: unsent analytics"));case 11:this.queueMutex.release();case 12:case"end":return e.stop();}},e,this,[[3,8]]);}));return function(){return e.apply(this,arguments);};}()},{key:"drainQueue",value:function(){var t=r(v().mark(function t(){var n,r,i,o=this;return v().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.queueMutex.acquire();case 2:return t.next=4,new Promise(function(t){return setTimeout(t,e.BatchCollectTimeMs);});case 4:n=e.getBatches(this.queue),r=_(n,2),i=r[0],r[1].forEach(function(e){try{o.request(e).catch(function(e){o.logger.error(ba.wrap(e,"Tracking api: unsent analytics"));});}catch(fM){o.logger.error(ba.wrap(fM,"Tracking api: executing request"));}}),this.queue=i,this.queueMutex.release();case 8:case"end":return t.stop();}},t,this);}));return function(){return t.apply(this,arguments);};}()},{key:"makeId",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(62*Math.random()));return t;}},{key:"enrichMessage",value:function(e){return y(y({},e),{},{sessionId:this.messageEnrichment.sessionId,entityName:e.entityName||this.messageEnrichment.entityName,entityValue:e.entityValue||this.messageEnrichment.entityValue,merchant:this.messageEnrichment.merchant,signature:e.signature||this.messageEnrichment.signature,event_time:e.event_time||this.getEventISOTime()});}},{key:"request",value:function(e){var t=this;if(!this.config.url)return Promise.resolve();var n=e.map(function(e){return t.keysToSnake({sessionId:e.sessionId,entityName:e.entityName,entityValue:e.entityValue,event:e.event,category:e.category,level:e.level,context:e.context,eventTime:e.event_time,signature:e.signature,value:e.value});}),r=[];return e.forEach(function(e){r.includes(e.merchant)||r.push(e.merchant);}),r.length>1&&this.logger.error(new ba("Tracking api: multiple merchants in batch",{merchants:r})),new gh({url:"".concat(this.config.url,"batch"),method:"POST",headers:{"Content-Type":"application/json",Merchant:r[0]},body:JSON.stringify({events:n})}).execute().catch(function(e){t.logger.error(ba.wrap(e,"Tracking api: retry"));});}}],[{key:"isEnrichedMessage",value:function(e){return!!e.signature;}},{key:"getBatches",value:function(t){var n=[];return[t.filter(function(t){if(!e.isEnrichedMessage(t))return!0;var r=n.find(function(t){return t.length<e.BatchMaxLength;});return r||(r=[],n.push(r)),r.push(t),!1;}),n];}}]);}();(Xm=Zm).IdLength=32,Xm.BatchMaxLength=20,Xm.BatchCollectTimeMs=50;var Qm,eg,tg=function(e){function t(){return o(this,t),i(this,t,arguments);}return h(t,e),l(t,[{key:"init",value:function(){}},{key:"send",value:function(){}}]);}(Zm),ng=function(){return l(function e(t){o(this,e),this.hostname=t;},[{key:"create",value:function(e,t){var n,r=function(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=S(e))||t){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]};},e:function(e){throw e;},f:i};}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var o,a=!0,s=!1;return{s:function(){n=n.call(e);},n:function(){var e=n.next();return a=e.done,e;},e:function(e){s=!0,o=e;},f:function(){try{a||null==n.return||n.return();}finally{if(s)throw o;}}};}(Jm);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(this.hostname.includes(i))return new tg(e,t);}}catch(fM){r.e(fM);}finally{r.f();}return new Zm(e,t);}}]);}(),rg=function(){return l(function e(t){o(this,e),this.logger=t,this.isProcessing=!1,this.queue=[],this.currentCase=null;},[{key:"execute",value:function(e){this.queue.push(e),this.isProcessing||this.process();}},{key:"process",value:function(){var e=this;this.isProcessing=!0,this.currentCase=this.getUniqueUseCase(),this.currentCase?this.currentCase.execute().catch(function(t){return e.logger.error(ba.wrap(t,"Executing case"));}).then(function(){e.currentCase=null,e.process();}):this.isProcessing=!1;}},{key:"getUniqueUseCase",value:function(){for(;this.queue.length;){var e=this.queue.shift(),t=this.queue[0];if(!e)return null;if(!t)return e;if(!(e.constructor===t.constructor))return e;e.cleanup();}return null;}}]);}(),ig=new WeakMap(),og=function(){return l(function e(t,n,r,i,a){var u=this;o(this,e),s(this,ig,void 0),this.logger=t,this.uuid=n,this.isTopmostFrame=window.top===window,this.merchantLogger=new qm(),this.onMessageBusSend=function(e){u.isTopmostFrame||window.postMessage(e,"*");},this.messageBus=new Ll({onSend:this.onMessageBusSend}),this.locationService=new Ql(),c(ig,this,r),this.api=new Ym(this.logger,{init:"".concat(r.getPaymentFormUrl(),"/api/v2/ui/intent"),resign:"".concat(r.getPaymentFormUrl(),"/api/v2/ui/resign")},a);var l=new ng(window.location.hostname).create(r.getTrackingUrl()||"",this.logger);this.tracking=new Cd(l,i),this.eventListeners=new Fl(this.merchantLogger),this.context=new Zh(t,this.merchantLogger,this.messageBus,this.tracking,this.uuid),this.blockingUseCaseInteractor=new rg(this.logger),this.iframePool=new Zl(r,this.merchantLogger,this.messageBus);var d=new Td(this.context,this.tracking,t,this.messageBus);this.context.onFlush=function(){d.reset();};},[{key:"init",value:function(e){var t=new Lm(e,this.context,this.logger,this.api,this.tracking,a(ig,this),this.merchantLogger,this.messageBus,this.uuid,"payment-form-v1.210.0",this.iframePool,this.locationService);return this.blockingUseCaseInteractor.execute(t),t.result.catch(function(e){});}},{key:"resign",value:function(e){var t=new Um({request:e,formConfig:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}},this.context,this.api,this.tracking,this.messageBus,this.logger,this.merchantLogger,a(ig,this),this.uuid,"payment-form-v1.210.0",this.iframePool,this.locationService);return this.blockingUseCaseInteractor.execute(t),t.result;}},{key:"update",value:function(e){var t=new Hm(e,this.context,this.logger,this.tracking,this.merchantLogger,this.messageBus,a(ig,this));return this.blockingUseCaseInteractor.execute(t),t.result;}},{key:"on",value:function(){var e;(e=this.eventListeners).on.apply(e,arguments);}},{key:"unsubscribe",value:function(){var e;(e=this.eventListeners).unsubscribe.apply(e,arguments);}},{key:"unsubscribeAll",value:function(){this.eventListeners.unsubscribeAll();}},{key:"submit",value:function(){var e;this.messageBus.sendPrivateMessage({type:El.SubmitRequest},null===(e=this.context.iframe)||void 0===e?void 0:e.getWindow());}},{key:"applyCoupon",value:function(e){var t=new tm(e,this.context,this.messageBus,this.logger);return this.blockingUseCaseInteractor.execute(t),t.result;}},{key:"destroyAll",value:function(){this.unsubscribeAll(),this.context.flush();}}]);}(),ag=function(){return l(function e(t){o(this,e),Qm=t;},[{key:"init",value:function(e){return Qm.init(e);}},{key:"resign",value:function(){var e=r(v().mark(function e(t,n){return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Qm.resign(t,n);case 2:case"end":return e.stop();}},e);}));return function(t,n){return e.apply(this,arguments);};}()},{key:"destroy",value:function(){return Qm.destroyAll();}},{key:"update",value:function(e){return Qm.update(e);}},{key:"applyCoupon",value:function(e){return Qm.applyCoupon(e);}},{key:"on",value:function(e,t){Qm.on(e,t);}},{key:"unsubscribe",value:function(e){Qm.unsubscribe(e);}},{key:"unsubscribeAll",value:function(){Qm.unsubscribeAll();}},{key:"submit",value:function(){Qm.submit();}}]);}();function sg(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16);});}var cg="payment-form-v1.210.0",ug=(null===(eg=document.currentScript)||void 0===eg?void 0:eg.src)||"",lg=new tl().getBranding(cg,ug),dg=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new zc(),n=e.error.bind(e),r=e.warning.bind(e);return e.error=function(e,r){var i=_(t.serialize(e,r),2),o=i[0],a=i[1];return n(o,a);},e.warning=function(e,n){var i=_(t.serialize(e,n),2),o=i[0],a=i[1];return r(o,a);},e;}(new xl(lg.getSentryDSN()||"",cg,"prod",.2)),fg=null;function pg(){return(pg=r(v().mark(function e(){var t;return v().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.PaymentFormSdk){e.next=4;break;}return t=new nl("PaymentFormSdk already inited"),console.warn(t),e.abrupt("return");case 4:try{fg=new ag(new og(dg,sg,lg,ug,cg));}catch(n){dg.error(ba.wrap(n,"Failed to init SDK"));}window.PaymentFormSdk={init:function(e){return fg.init(e),fg;},resign:function(e,t){return r(v().mark(function n(){return v().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fg.resign(e,t);case 2:return n.abrupt("return",fg);case 3:case"end":return n.stop();}},n);}))();},destroy:function(){fg.destroy();}};case 6:case"end":return e.stop();}},e);}))).apply(this,arguments);}!function(){pg.apply(this,arguments);}();var hg=Object.prototype.toString;function mg(e){switch(hg.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return Eg(e,Error);}}function gg(e,t){return hg.call(e)===`[object ${t}]`;}function yg(e){return gg(e,"ErrorEvent");}function vg(e){return gg(e,"DOMError");}function bg(e){return gg(e,"String");}function _g(e){return"object"==typeof e&&null!==e&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e;}function wg(e){return null===e||_g(e)||"object"!=typeof e&&"function"!=typeof e;}function kg(e){return gg(e,"Object");}function Sg(e){return"undefined"!=typeof Event&&Eg(e,Event);}function xg(e){return Boolean(e&&e.then&&"function"==typeof e.then);}function Eg(e,t){try{return e instanceof t;}catch(n){return!1;}}function Cg(e){return!("object"!=typeof e||null===e||!e.__isVue&&!e._isVue);}function Tg(e,t=0){return"string"!=typeof e||0===t||e.length<=t?e:`${e.slice(0,t)}...`;}function Ig(e,t){var n=e;var r=n.length;if(r<=150)return n;t>r&&(t=r);var i=Math.max(t-60,0);i<5&&(i=0);var o=Math.min(i+140,r);return o>r-5&&(o=r),o===r&&(i=Math.max(o-140,0)),n=n.slice(i,o),i>0&&(n=`'{snip} ${n}`),o<r&&(n+=" {snip}"),n;}function Pg(e,t){if(!Array.isArray(e))return"";var n=[];for(var _i2=0;_i2<e.length;_i2++){var _t2=e[_i2];try{Cg(_t2)?n.push("[VueViewModel]"):n.push(String(_t2));}catch(r){n.push("[value cannot be serialized]");}}return n.join(t);}function Ag(e,t,n=!1){return!!bg(e)&&(function(e){return gg(e,"RegExp");}(t)?t.test(e):!!bg(t)&&(n?e===t:e.includes(t)));}function Og(e,t=[],n=!1){return t.some(t=>Ag(e,t,n));}function Rg(e,t,n=250,r,i,o,a){if(!(o.exception&&o.exception.values&&a&&Eg(a.originalException,Error)))return;var s=o.exception.values.length>0?o.exception.values[o.exception.values.length-1]:void 0;s&&(o.exception.values=function(e,t){return e.map(e=>(e.value&&(e.value=Tg(e.value,t)),e));}(Mg(e,t,i,a.originalException,r,o.exception.values,s,0),n));}function Mg(e,t,n,r,i,o,a,s){if(o.length>=n+1)return o;var c=[...o];if(Eg(r[i],Error)){Lg(a,s);var _o2=e(t,r[i]),_u2=c.length;Ng(_o2,i,_u2,s),c=Mg(e,t,n,r[i],i,[_o2,...c],_o2,_u2);}return Array.isArray(r.errors)&&r.errors.forEach((r,o)=>{if(Eg(r,Error)){Lg(a,s);var _u3=e(t,r),_l2=c.length;Ng(_u3,`errors[${o}]`,_l2,s),c=Mg(e,t,n,r,i,[_u3,...c],_u3,_l2);}}),c;}function Lg(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...("AggregateError"===e.type&&{is_exception_group:!0}),exception_id:t};}function Ng(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r};}function Dg(e){return void 0===e?void 0:e>=400&&e<500?"warning":e>=500?"error":void 0;}var Bg="8.34.0",Fg=globalThis;function jg(e,t,n){var r=Fg,i=r.__SENTRY__=r.__SENTRY__||{},o=i[Bg]=i[Bg]||{};return o[e]||(o[e]=t());}var Ug=Fg,$g=80;function zg(e,t={}){if(!e)return"<unknown>";try{var _n2=e;var _r2=5,_i3=[];var _o3=0,_a2=0;var _s2=" > ",_c2=_s2.length;var _u4;var _l3=Array.isArray(t)?t:t.keyAttrs,_d2=!Array.isArray(t)&&t.maxStringLength||$g;for(;_n2&&_o3++<_r2&&(_u4=Hg(_n2,_l3),!("html"===_u4||_o3>1&&_a2+_i3.length*_c2+_u4.length>=_d2));)_i3.push(_u4),_a2+=_u4.length,_n2=_n2.parentNode;return _i3.reverse().join(_s2);}catch(n){return"<unknown>";}}function Hg(e,t){var n=e,r=[];if(!n||!n.tagName)return"";if(Ug.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement;}r.push(n.tagName.toLowerCase());var i=t&&t.length?t.filter(e=>n.getAttribute(e)).map(e=>[e,n.getAttribute(e)]):null;if(i&&i.length)i.forEach(e=>{r.push(`[${e[0]}="${e[1]}"]`);});else{n.id&&r.push(`#${n.id}`);var _e2=n.className;if(_e2&&bg(_e2)){var _t3=_e2.split(/\s+/);for(var _e3 of _t3)r.push(`.${_e3}`);}}var o=["aria-label","type","name","title","alt"];for(var _a3 of o){var _e4=n.getAttribute(_a3);_e4&&r.push(`[${_a3}="${_e4}"]`);}return r.join("");}function qg(){try{return Ug.document.location.href;}catch(e){return"";}}function Wg(e){if(!Ug.HTMLElement)return null;var t=e;for(var _n3=0;_n3<5;_n3++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement;}t=t.parentNode;}return null;}var Vg="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Gg=["debug","info","warn","error","log","assert","trace"],Yg={};function Jg(e){if(!("console"in Fg))return e();var t=Fg.console,n={},r=Object.keys(Yg);r.forEach(e=>{var r=Yg[e];n[e]=t[e],t[e]=r;});try{return e();}finally{r.forEach(e=>{t[e]=n[e];});}}var Xg=jg("logger",function(){var e=!1;var t={enable:()=>{e=!0;},disable:()=>{e=!1;},isEnabled:()=>e};return Vg?Gg.forEach(n=>{t[n]=(...t)=>{e&&Jg(()=>{Fg.console[n](`Sentry Logger [${n}]:`,...t);});};}):Gg.forEach(e=>{t[e]=()=>{};}),t;}),Kg=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function Zg(e,t=!1){var{host:n,path:r,pass:i,port:o,projectId:a,protocol:s,publicKey:c}=e;return`${s}://${c}${t&&i?`:${i}`:""}@${n}${o?`:${o}`:""}/${r?`${r}/`:r}${a}`;}function Qg(e){var t=Kg.exec(e);if(!t)return void Jg(()=>{console.error(`Invalid Sentry Dsn: ${e}`);});var[n,r,i="",o="",a="",s=""]=t.slice(1);var c="",u=s;var l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){var _e5=u.match(/^\d+/);_e5&&(u=_e5[0]);}return ey({host:o,pass:i,path:c,projectId:u,port:a,protocol:n,publicKey:r});}function ey(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId};}function ty(e){var t="string"==typeof e?Qg(e):ey(e);if(t&&function(e){if(!Vg)return!0;var{port:t,projectId:n,protocol:r}=e;return!(["protocol","publicKey","host","projectId"].find(t=>!e[t]&&(Xg.error(`Invalid Sentry Dsn: ${t} missing`),!0))||(n.match(/^\d+$/)?function(e){return"http"===e||"https"===e;}(r)?t&&isNaN(parseInt(t,10))&&(Xg.error(`Invalid Sentry Dsn: Invalid port ${t}`),1):(Xg.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),1):(Xg.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),1)));}(t))return t;}class ny extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t;}}function ry(e,t,n){if(!(t in e))return;var r=e[t],i=n(r);"function"==typeof i&&oy(i,r),e[t]=i;}function iy(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0});}catch(r){Vg&&Xg.log(`Failed to add non-enumerable property "${t}" to object`,e);}}function oy(e,t){try{var _n4=t.prototype||{};e.prototype=t.prototype=_n4,iy(e,"__sentry_original__",t);}catch(n){}}function ay(e){return e.__sentry_original__;}function sy(e){if(mg(e))return{message:e.message,name:e.name,stack:e.stack,...uy(e)};if(Sg(e)){var _t4={type:e.type,target:cy(e.target),currentTarget:cy(e.currentTarget),...uy(e)};return"undefined"!=typeof CustomEvent&&Eg(e,CustomEvent)&&(_t4.detail=e.detail),_t4;}return e;}function cy(e){try{return function(e){return"undefined"!=typeof Element&&Eg(e,Element);}(e)?zg(e):Object.prototype.toString.call(e);}catch(t){return"<unknown>";}}function uy(e){if("object"==typeof e&&null!==e){var _t5={};for(var _n5 in e)Object.prototype.hasOwnProperty.call(e,_n5)&&(_t5[_n5]=e[_n5]);return _t5;}return{};}function ly(e){return dy(e,new Map());}function dy(e,t){if(function(e){if(!kg(e))return!1;try{var _t6=Object.getPrototypeOf(e).constructor.name;return!_t6||"Object"===_t6;}catch(t){return!0;}}(e)){var _n6=t.get(e);if(void 0!==_n6)return _n6;var _r3={};t.set(e,_r3);for(var _i4 of Object.getOwnPropertyNames(e))void 0!==e[_i4]&&(_r3[_i4]=dy(e[_i4],t));return _r3;}if(Array.isArray(e)){var _n7=t.get(e);if(void 0!==_n7)return _n7;var _r4=[];return t.set(e,_r4),e.forEach(e=>{_r4.push(dy(e,t));}),_r4;}return e;}var fy=50,py="?",hy=/\(error: (.*)\)/,my=/captureMessage|captureException/;function gy(...e){var t=e.sort((e,t)=>e[0]-t[0]).map(e=>e[1]);return(e,n=0,r=0)=>{var i=[],o=e.split("\n");for(var _a4=n;_a4<o.length;_a4++){var _e6=o[_a4];if(_e6.length>1024)continue;var _n8=hy.test(_e6)?_e6.replace(hy,"$1"):_e6;if(!_n8.match(/\S*Error: /)){for(var _e7 of t){var _t7=_e7(_n8);if(_t7){i.push(_t7);break;}}if(i.length>=fy+r)break;}}return function(e){if(!e.length)return[];var t=Array.from(e);/sentryWrapped/.test(vy(t).function||"")&&t.pop();t.reverse(),my.test(vy(t).function||"")&&(t.pop(),my.test(vy(t).function||"")&&t.pop());return t.slice(0,fy).map(e=>({...e,filename:e.filename||vy(t).filename,function:e.function||py}));}(i.slice(r));};}function yy(e){return Array.isArray(e)?gy(...e):e;}function vy(e){return e[e.length-1]||{};}var by="<anonymous>";function _y(e){try{return e&&"function"==typeof e&&e.name||by;}catch(t){return by;}}function wy(e){var t=e.exception;if(t){var _e8=[];try{return t.values.forEach(t=>{t.stacktrace.frames&&_e8.push(...t.stacktrace.frames);}),_e8;}catch(n){return;}}}var ky={},Sy={};function xy(e,t){ky[e]=ky[e]||[],ky[e].push(t);}function Ey(e,t){Sy[e]||(t(),Sy[e]=!0);}function Cy(e,t){var n=e&&ky[e];if(n)for(var _i5 of n)try{_i5(t);}catch(r){Vg&&Xg.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${_y(_i5)}\nError:`,r);}}function Ty(e){var t="console";xy(t,e),Ey(t,Iy);}function Iy(){"console"in Fg&&Gg.forEach(function(e){e in Fg.console&&ry(Fg.console,e,function(t){return Yg[e]=t,function(...t){Cy("console",{args:t,level:e});var n=Yg[e];n&&n.apply(Fg.console,t);};});});}var Py=Fg;function Ay(){if(!("fetch"in Py))return!1;try{return new Headers(),new Request("http://www.example.com"),new Response(),!0;}catch(e){return!1;}}function Oy(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString());}function Ry(){if("string"==typeof EdgeRuntime)return!0;if(!Ay())return!1;if(Oy(Py.fetch))return!0;var e=!1;var t=Py.document;if(t&&"function"==typeof t.createElement)try{var _n9=t.createElement("iframe");_n9.hidden=!0,t.head.appendChild(_n9),_n9.contentWindow&&_n9.contentWindow.fetch&&(e=Oy(_n9.contentWindow.fetch)),t.head.removeChild(_n9);}catch(fM){Vg&&Xg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",fM);}return e;}var My=1e3;function Ly(){return Date.now()/My;}var Ny=function(){var{performance:e}=Fg;if(!e||!e.now)return Ly;var t=Date.now()-e.now(),n=null==e.timeOrigin?t:e.timeOrigin;return()=>(n+e.now())/My;}(),Dy=(()=>{var{performance:e}=Fg;if(!e||!e.now)return;var t=36e5,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,o=i<t,a=e.timing&&e.timing.navigationStart,s="number"==typeof a?Math.abs(a+n-r):t;return o||s<t?i<=s?e.timeOrigin:a:r;})();function By(e,t){var n="fetch";xy(n,e),Ey(n,()=>Fy(void 0,t));}function Fy(e,t=!1){t&&!Ry()||ry(Fg,"fetch",function(t){return function(...n){var{method:r,url:i}=function(e){if(0===e.length)return{method:"GET",url:""};if(2===e.length){var[_t8,_n10]=e;return{url:$y(_t8),method:Uy(_n10,"method")?String(_n10.method).toUpperCase():"GET"};}var t=e[0];return{url:$y(t),method:Uy(t,"method")?String(t.method).toUpperCase():"GET"};}(n),o={args:n,fetchData:{method:r,url:i},startTimestamp:1e3*Ny()};e||Cy("fetch",{...o});var a=new Error().stack;return t.apply(Fg,n).then(async t=>(e?e(t):Cy("fetch",{...o,endTimestamp:1e3*Ny(),response:t}),t),e=>{throw Cy("fetch",{...o,endTimestamp:1e3*Ny(),error:e}),mg(e)&&void 0===e.stack&&(e.stack=a,iy(e,"framesToPop",1)),e;});};});}function jy(e){var t;try{t=e.clone();}catch(n){return;}!async function(e,t){if(e&&e.body){var _r5=e.body,_i6=_r5.getReader(),_o4=setTimeout(()=>{_r5.cancel().then(null,()=>{});},9e4);var _a5=!0;for(;_a5;){var _e9=void 0;try{_e9=setTimeout(()=>{_r5.cancel().then(null,()=>{});},5e3);var{done:_n11}=await _i6.read();clearTimeout(_e9),_n11&&(t(),_a5=!1);}catch(n){_a5=!1;}finally{clearTimeout(_e9);}}clearTimeout(_o4),_i6.releaseLock(),_r5.cancel().then(null,()=>{});}}(t,()=>{Cy("fetch-body-resolved",{endTimestamp:1e3*Ny(),response:e});});}function Uy(e,t){return!!e&&"object"==typeof e&&!!e[t];}function $y(e){return"string"==typeof e?e:e?Uy(e,"url")?e.url:e.toString?e.toString():"":"";}var zy=null;function Hy(e){var t="error";xy(t,e),Ey(t,qy);}function qy(){zy=Fg.onerror,Fg.onerror=function(e,t,n,r,i){return Cy("error",{column:r,error:i,line:n,msg:e,url:t}),!(!zy||zy.__SENTRY_LOADER__)&&zy.apply(this,arguments);},Fg.onerror.__SENTRY_INSTRUMENTED__=!0;}var Wy=null;function Vy(e){var t="unhandledrejection";xy(t,e),Ey(t,Gy);}function Gy(){Wy=Fg.onunhandledrejection,Fg.onunhandledrejection=function(e){return Cy("unhandledrejection",e),!(Wy&&!Wy.__SENTRY_LOADER__)||Wy.apply(this,arguments);},Fg.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0;}function Yy(){return!function(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__;}()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0);}function Jy(){return"undefined"!=typeof window&&(!Yy()||function(){return void 0!==Fg.process&&"renderer"===Fg.process.type;}());}function Xy(){var e=Fg,t=e.crypto||e.msCrypto;var n=()=>16*Math.random();try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{var e=new Uint8Array(1);return t.getRandomValues(e),e[0];});}catch(r){}return"10000000100040008000100000000000".replace(/[018]/g,e=>(e^(15&n())>>e/4).toString(16));}function Ky(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0;}function Zy(e){var{message:t,event_id:n}=e;if(t)return t;var r=Ky(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>";}function Qy(e,t,n){var r=e.exception=e.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=t||""),o.type||(o.type="Error");}function ev(e,t){var n=Ky(e);if(!n)return;var r=n.mechanism;if(n.mechanism={type:"generic",handled:!0,...r,...t},t&&"data"in t){var _e10={...(r&&r.data),...t.data};n.mechanism.data=_e10;}}function tv(e){if(e&&e.__sentry_captured__)return!0;try{iy(e,"__sentry_captured__",!0);}catch(fM){}return!1;}function nv(e){return Array.isArray(e)?e:[e];}function rv(e,t=100,n=1/0){try{return ov("",e,t,n);}catch(fM){return{ERROR:`**non-serializable** (${fM})`};}}function iv(e,t=3,n=102400){var r=rv(e,t);return function(e){return function(e){return~-encodeURI(e).split(/%..|./).length;}(JSON.stringify(e));}(r)>n?iv(e,t-1,n):r;}function ov(e,t,n=1/0,r=1/0,i=function(){var e="function"==typeof WeakSet,t=e?new WeakSet():[];return[function(n){if(e)return!!t.has(n)||(t.add(n),!1);for(var _e11=0;_e11<t.length;_e11++)if(t[_e11]===n)return!0;return t.push(n),!1;},function(n){if(e)t.delete(n);else for(var _e12=0;_e12<t.length;_e12++)if(t[_e12]===n){t.splice(_e12,1);break;}}];}()){var[o,a]=i;if(null==t||["boolean","string"].includes(typeof t)||"number"==typeof t&&Number.isFinite(t))return t;var s=function(e,t){try{if("domain"===e&&t&&"object"==typeof t&&t._events)return"[Domain]";if("domainEmitter"===e)return"[DomainEmitter]";if("undefined"!=typeof global&&t===global)return"[Global]";if("undefined"!=typeof window&&t===window)return"[Window]";if("undefined"!=typeof document&&t===document)return"[Document]";if(Cg(t))return"[VueViewModel]";if(function(e){return kg(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e;}(t))return"[SyntheticEvent]";if("number"==typeof t&&!Number.isFinite(t))return`[${t}]`;if("function"==typeof t)return`[Function: ${_y(t)}]`;if("symbol"==typeof t)return`[${String(t)}]`;if("bigint"==typeof t)return`[BigInt: ${String(t)}]`;var _n12=function(e){var t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype";}(t);return /^HTML(\w*)Element$/.test(_n12)?`[HTMLElement: ${_n12}]`:`[object ${_n12}]`;}catch(fM){return`**non-serializable** (${fM})`;}}(e,t);if(!s.startsWith("[object "))return s;if(t.__sentry_skip_normalization__)return t;var c="number"==typeof t.__sentry_override_normalization_depth__?t.__sentry_override_normalization_depth__:n;if(0===c)return s.replace("object ","");if(o(t))return"[Circular ~]";var u=t;if(u&&"function"==typeof u.toJSON)try{return ov("",u.toJSON(),c-1,r,i);}catch(fM){}var l=Array.isArray(t)?[]:{};var d=0;var f=sy(t);for(var _p2 in f){if(!Object.prototype.hasOwnProperty.call(f,_p2))continue;if(d>=r){l[_p2]="[MaxProperties ~]";break;}var _e13=f[_p2];l[_p2]=ov(_p2,_e13,c-1,r,i),d++;}return a(t),l;}var av=/^(\S+:\\|\/?)([\s\S]*?)((?:\.{1,2}|[^/\\]+?|)(\.[^./\\]*|))(?:[/\\]*)$/;function sv(...e){var t="",n=!1;for(var _r6=e.length-1;_r6>=-1&&!n;_r6--){var _i7=_r6>=0?e[_r6]:"/";_i7&&(t=`${_i7}/${t}`,n="/"===_i7.charAt(0));}return t=function(e,t){var n=0;for(var _r7=e.length-1;_r7>=0;_r7--){var _t9=e[_r7];"."===_t9?e.splice(_r7,1):".."===_t9?(e.splice(_r7,1),n++):n&&(e.splice(_r7,1),n--);}if(t)for(;n--;n)e.unshift("..");return e;}(t.split("/").filter(e=>!!e),!n).join("/"),(n?"/":"")+t||".";}function cv(e){var t=0;for(;t<e.length&&""===e[t];t++);var n=e.length-1;for(;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1);}function uv(e,t){return function(e){var t=e.length>1024?`<truncated>${e.slice(-1024)}`:e,n=av.exec(t);return n?n.slice(1):[];}(e)[2]||"";}var lv;function dv(e){return new pv(t=>{t(e);});}function fv(e){return new pv((t,n)=>{n(e);});}!function(e){e[e.PENDING=0]="PENDING";e[e.RESOLVED=1]="RESOLVED";e[e.REJECTED=2]="REJECTED";}(lv||(lv={}));class pv{constructor(e){pv.prototype.__init.call(this),pv.prototype.__init2.call(this),pv.prototype.__init3.call(this),pv.prototype.__init4.call(this),this._state=lv.PENDING,this._handlers=[];try{e(this._resolve,this._reject);}catch(t){this._reject(t);}}then(e,t){return new pv((n,r)=>{this._handlers.push([!1,t=>{if(e)try{n(e(t));}catch(i){r(i);}else n(t);},e=>{if(t)try{n(t(e));}catch(i){r(i);}else r(e);}]),this._executeHandlers();});}catch(e){return this.then(e=>e,e);}finally(e){return new pv((t,n)=>{var r,i;return this.then(t=>{i=!1,r=t,e&&e();},t=>{i=!0,r=t,e&&e();}).then(()=>{i?n(r):t(r);});});}__init(){this._resolve=e=>{this._setResult(lv.RESOLVED,e);};}__init2(){this._reject=e=>{this._setResult(lv.REJECTED,e);};}__init3(){this._setResult=(e,t)=>{this._state===lv.PENDING&&(xg(t)?t.then(this._resolve,this._reject):(this._state=e,this._value=t,this._executeHandlers()));};}__init4(){this._executeHandlers=()=>{if(this._state===lv.PENDING)return;var e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(this._state===lv.RESOLVED&&e[1](this._value),this._state===lv.REJECTED&&e[2](this._value),e[0]=!0);});};}}function hv(e){var t=[];function n(e){return t.splice(t.indexOf(e),1)[0]||Promise.resolve(void 0);}return{$:t,add:function(r){if(!function(){return void 0===e||t.length<e;}())return fv(new ny("Not adding Promise because buffer limit was reached."));var i=r();return-1===t.indexOf(i)&&t.push(i),i.then(()=>n(i)).then(null,()=>n(i).then(null,()=>{})),i;},drain:function(e){return new pv((n,r)=>{var i=t.length;if(!i)return n(!0);var o=setTimeout(()=>{e&&e>0&&n(!1);},e);t.forEach(e=>{dv(e).then(()=>{--i||(clearTimeout(o),n(!0));},r);});});}};}function mv(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r};}function gv(e){return e.split(/\\?\//).filter(e=>e.length>0&&","!==e).length;}var yv=["fatal","error","warning","log","info","debug"];function vv(e){return"warn"===e?"warning":yv.includes(e)?e:"log";}var bv="baggage",_v="sentry-",wv=/^sentry-/,kv=8192;function Sv(e){var t=function(e){if(!e||!bg(e)&&!Array.isArray(e))return;if(Array.isArray(e))return e.reduce((e,t)=>{var n=Ev(t);return Object.entries(n).forEach(([t,n])=>{e[t]=n;}),e;},{});return Ev(e);}(e);if(!t)return;var n=Object.entries(t).reduce((e,[t,n])=>{if(t.match(wv)){e[t.slice(_v.length)]=n;}return e;},{});return Object.keys(n).length>0?n:void 0;}function xv(e){if(!e)return;return function(e){if(0===Object.keys(e).length)return;return Object.entries(e).reduce((e,[t,n],r)=>{var i=`${encodeURIComponent(t)}=${encodeURIComponent(n)}`,o=0===r?i:`${e},${i}`;return o.length>kv?(Vg&&Xg.warn(`Not adding key: ${t} with val: ${n} to baggage header due to exceeding baggage size limits.`),e):o;},"");}(Object.entries(e).reduce((e,[t,n])=>(n&&(e[`${_v}${t}`]=n),e),{}));}function Ev(e){return e.split(",").map(e=>e.split("=").map(e=>decodeURIComponent(e.trim()))).reduce((e,[t,n])=>(t&&n&&(e[t]=n),e),{});}var Cv=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Tv(e,t){var n=function(e){if(!e)return;var t=e.match(Cv);if(!t)return;var n;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]};}(e),r=Sv(t),{traceId:i,parentSpanId:o,parentSampled:a}=n||{};return n?{traceId:i||Xy(),parentSpanId:o||Xy().substring(16),spanId:Xy().substring(16),sampled:a,dsc:r||{}}:{traceId:i||Xy(),spanId:Xy().substring(16)};}function Iv(e=Xy(),t=Xy().substring(16),n){var r="";return void 0!==n&&(r=n?"-1":"-0"),`${e}-${t}${r}`;}function Pv(e,t=[]){return[e,t];}function Av(e,t){var[n,r]=e;return[n,[...r,t]];}function Ov(e,t){var n=e[1];for(var _r8 of n){if(t(_r8,_r8[0].type))return!0;}return!1;}function Rv(e,t){return Ov(e,(e,n)=>t.includes(n));}function Mv(e){return Fg.__SENTRY__&&Fg.__SENTRY__.encodePolyfill?Fg.__SENTRY__.encodePolyfill(e):new TextEncoder().encode(e);}function Lv(e){var[t,n]=e;var r=JSON.stringify(t);function i(e){"string"==typeof r?r="string"==typeof e?r+e:[Mv(r),e]:r.push("string"==typeof e?Mv(e):e);}for(var _a6 of n){var[_e14,_t10]=_a6;if(i(`\n${JSON.stringify(_e14)}\n`),"string"==typeof _t10||_t10 instanceof Uint8Array)i(_t10);else{var _e15=void 0;try{_e15=JSON.stringify(_t10);}catch(o){_e15=JSON.stringify(rv(_t10));}i(_e15);}}return"string"==typeof r?r:function(e){var t=e.reduce((e,t)=>e+t.length,0),n=new Uint8Array(t);var r=0;for(var _i8 of e)n.set(_i8,r),r+=_i8.length;return n;}(r);}function Nv(e){var t="string"==typeof e?Mv(e):e;function n(e){var n=t.subarray(0,e);return t=t.subarray(e+1),n;}function r(){var e=t.indexOf(10);return e<0&&(e=t.length),JSON.parse(function(e){return Fg.__SENTRY__&&Fg.__SENTRY__.decodePolyfill?Fg.__SENTRY__.decodePolyfill(e):new TextDecoder().decode(e);}(n(e)));}var i=r(),o=[];for(;t.length;){var _e16=r(),_t11="number"==typeof _e16.length?_e16.length:void 0;o.push([_e16,_t11?n(_t11):r()]);}return[i,o];}function Dv(e){return[{type:"span"},e];}function Bv(e){var t="string"==typeof e.data?Mv(e.data):e.data;return[ly({type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),t];}var Fv={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function jv(e){return Fv[e];}function Uv(e){if(!e||!e.sdk)return;var{name:t,version:n}=e.sdk;return{name:t,version:n};}function $v(e,t,n,r){var i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...(t&&{sdk:t}),...(!!n&&r&&{dsn:Zg(r)}),...(i&&{trace:ly({...i})})};}var zv=6e4;function Hv(e,t=Date.now()){var n=parseInt(`${e}`,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(`${e}`);return isNaN(r)?zv:r-t;}function qv(e,t,n=Date.now()){return function(e,t){return e[t]||e.all||0;}(e,t)>n;}function Wv(e,{statusCode:t,headers:n},r=Date.now()){var i={...e},o=n&&n["x-sentry-rate-limits"],a=n&&n["retry-after"];if(o)for(var _s3 of o.trim().split(",")){var[_e17,_t12,,,_n13]=_s3.split(":",5),_o5=parseInt(_e17,10),_a7=1e3*(isNaN(_o5)?60:_o5);if(_t12)for(var _s4 of _t12.split(";"))"metric_bucket"===_s4&&_n13&&!_n13.split(";").includes("custom")||(i[_s4]=r+_a7);else i.all=r+_a7;}else a?i.all=r+Hv(a,r):429===t&&(i.all=r+6e4);return i;}function Vv(e){var t,n=e[0],r=1;for(;r<e.length;){var _i9=e[r],_o6=e[r+1];if(r+=2,("optionalAccess"===_i9||"optionalCall"===_i9)&&null==n)return;"access"===_i9||"optionalAccess"===_i9?(t=n,n=_o6(n)):"call"!==_i9&&"optionalCall"!==_i9||(n=_o6((...e)=>n.call(t,...e)),t=void 0);}return n;}function Gv(){return{traceId:Xy(),spanId:Xy().substring(16)};}var Yv=Fg;var Jv="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function Xv(){return Kv(Fg),Fg;}function Kv(e){var t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||Bg,t[Bg]=t[Bg]||{};}function Zv(e){var t=Ny(),n={sid:Xy(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>function(e){return ly({sid:`${e.sid}`,init:e.init,started:new Date(1e3*e.started).toISOString(),timestamp:new Date(1e3*e.timestamp).toISOString(),status:e.status,errors:e.errors,did:"number"==typeof e.did||"string"==typeof e.did?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}});}(n)};return e&&Qv(n,e),n;}function Qv(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),e.did||t.did||(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Ny(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=32===t.sid.length?t.sid:Xy()),void 0!==t.init&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),"number"==typeof t.started&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if("number"==typeof t.duration)e.duration=t.duration;else{var _t13=e.timestamp-e.started;e.duration=_t13>=0?_t13:0;}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),"number"==typeof t.errors&&(e.errors=t.errors),t.status&&(e.status=t.status);}var eb="_sentrySpan";function tb(e,t){t?iy(e,eb,t):delete e[eb];}function nb(e){return e[eb];}class rb{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Gv();}clone(){var e=new rb();return e._breadcrumbs=[...this._breadcrumbs],e._tags={...this._tags},e._extra={...this._extra},e._contexts={...this._contexts},e._user=this._user,e._level=this._level,e._session=this._session,e._transactionName=this._transactionName,e._fingerprint=this._fingerprint,e._eventProcessors=[...this._eventProcessors],e._requestSession=this._requestSession,e._attachments=[...this._attachments],e._sdkProcessingMetadata={...this._sdkProcessingMetadata},e._propagationContext={...this._propagationContext},e._client=this._client,e._lastEventId=this._lastEventId,tb(e,nb(this)),e;}setClient(e){this._client=e;}setLastEventId(e){this._lastEventId=e;}getClient(){return this._client;}lastEventId(){return this._lastEventId;}addScopeListener(e){this._scopeListeners.push(e);}addEventProcessor(e){return this._eventProcessors.push(e),this;}setUser(e){return this._user=e||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&Qv(this._session,{user:e}),this._notifyScopeListeners(),this;}getUser(){return this._user;}getRequestSession(){return this._requestSession;}setRequestSession(e){return this._requestSession=e,this;}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this;}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this;}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this;}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this;}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this;}setLevel(e){return this._level=e,this._notifyScopeListeners(),this;}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this;}setContext(e,t){return null===t?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this;}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this;}getSession(){return this._session;}update(e){if(!e)return this;var t="function"==typeof e?e(this):e,[n,r]=t instanceof ib?[t.getScopeData(),t.getRequestSession()]:kg(t)?[e,e.requestSession]:[],{tags:i,extra:o,user:a,contexts:s,level:c,fingerprint:u=[],propagationContext:l}=n||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...o},this._contexts={...this._contexts,...s},a&&Object.keys(a).length&&(this._user=a),c&&(this._level=c),u.length&&(this._fingerprint=u),l&&(this._propagationContext=l),r&&(this._requestSession=r),this;}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._session=void 0,tb(this,void 0),this._attachments=[],this._propagationContext=Gv(),this._notifyScopeListeners(),this;}addBreadcrumb(e,t){var n="number"==typeof t?t:100;if(n<=0)return this;var r={timestamp:Ly(),...e},i=this._breadcrumbs;return i.push(r),this._breadcrumbs=i.length>n?i.slice(-n):i,this._notifyScopeListeners(),this;}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1];}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this;}addAttachment(e){return this._attachments.push(e),this;}clearAttachments(){return this._attachments=[],this;}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:nb(this)};}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this;}setPropagationContext(e){return this._propagationContext=e,this;}getPropagationContext(){return this._propagationContext;}captureException(e,t){var n=t&&t.event_id?t.event_id:Xy();if(!this._client)return Xg.warn("No client configured on scope - will not capture exception!"),n;var r=new Error("Sentry syntheticException");return this._client.captureException(e,{originalException:e,syntheticException:r,...t,event_id:n},this),n;}captureMessage(e,t,n){var r=n&&n.event_id?n.event_id:Xy();if(!this._client)return Xg.warn("No client configured on scope - will not capture message!"),r;var i=new Error(e);return this._client.captureMessage(e,t,{originalException:e,syntheticException:i,...n,event_id:r},this),r;}captureEvent(e,t){var n=t&&t.event_id?t.event_id:Xy();return this._client?(this._client.captureEvent(e,{...t,event_id:n},this),n):(Xg.warn("No client configured on scope - will not capture event!"),n);}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this);}),this._notifyingListeners=!1);}}var ib=rb;class ob{constructor(e,t){var n,r;n=e||new ib(),r=t||new ib(),this._stack=[{scope:n}],this._isolationScope=r;}withScope(e){var t=this._pushScope();var n;try{n=e(t);}catch(r){throw this._popScope(),r;}return xg(n)?n.then(e=>(this._popScope(),e),e=>{throw this._popScope(),e;}):(this._popScope(),n);}getClient(){return this.getStackTop().client;}getScope(){return this.getStackTop().scope;}getIsolationScope(){return this._isolationScope;}getStackTop(){return this._stack[this._stack.length-1];}_pushScope(){var e=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:e}),e;}_popScope(){return!(this._stack.length<=1)&&!!this._stack.pop();}}function ab(){var e=Kv(Xv());return e.stack=e.stack||new ob(function(){return jg("defaultCurrentScope",()=>new ib());}(),function(){return jg("defaultIsolationScope",()=>new ib());}());}function sb(e){return ab().withScope(e);}function cb(e,t){var n=ab();return n.withScope(()=>(n.getStackTop().scope=e,t(e)));}function ub(e){return ab().withScope(()=>e(ab().getIsolationScope()));}function lb(e){var t=Kv(e);return t.acs?t.acs:function(){return{withIsolationScope:ub,withScope:sb,withSetScope:cb,withSetIsolationScope:(e,t)=>ub(t),getCurrentScope:()=>ab().getScope(),getIsolationScope:()=>ab().getIsolationScope()};}();}function db(){return lb(Xv()).getCurrentScope();}function fb(){return lb(Xv()).getIsolationScope();}function pb(){return jg("globalScope",()=>new ib());}function hb(...e){var t=lb(Xv());if(2===e.length){var[_n14,_r9]=e;return _n14?t.withSetScope(_n14,_r9):t.withScope(_r9);}return t.withScope(e[0]);}function mb(){return db().getClient();}var gb="_sentryMetrics";function yb(e){var t=e[gb];if(!t)return;var n={};for(var[,[_r10,_i10]]of t){(n[_r10]||(n[_r10]=[])).push(ly(_i10));}return n;}var vb="sentry.source",bb="sentry.sample_rate",_b="sentry.op",wb="sentry.origin",kb="sentry.idle_span_finish_reason",Sb="sentry.measurement_unit",xb="sentry.measurement_value",Eb="sentry.exclusive_time",Cb=0,Tb=1,Ib=2;function Pb(e){if(e<400&&e>=100)return{code:Tb};if(e>=400&&e<500)switch(e){case 401:return{code:Ib,message:"unauthenticated"};case 403:return{code:Ib,message:"permission_denied"};case 404:return{code:Ib,message:"not_found"};case 409:return{code:Ib,message:"already_exists"};case 413:return{code:Ib,message:"failed_precondition"};case 429:return{code:Ib,message:"resource_exhausted"};case 499:return{code:Ib,message:"cancelled"};default:return{code:Ib,message:"invalid_argument"};}if(e>=500&&e<600)switch(e){case 501:return{code:Ib,message:"unimplemented"};case 503:return{code:Ib,message:"unavailable"};case 504:return{code:Ib,message:"deadline_exceeded"};default:return{code:Ib,message:"internal_error"};}return{code:Ib,message:"unknown_error"};}function Ab(e,t){e.setAttribute("http.response.status_code",t);var n=Pb(t);"unknown_error"!==n.message&&e.setStatus(n);}var Ob=1;function Rb(e){var{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:o,status:a,origin:s}=Bb(e);return ly({parent_span_id:o,span_id:t,trace_id:n,data:r,op:i,status:a,origin:s});}function Mb(e){var{spanId:t,traceId:n}=e.spanContext(),{parent_span_id:r}=Bb(e);return ly({parent_span_id:r,span_id:t,trace_id:n});}function Lb(e){var{traceId:t,spanId:n}=e.spanContext();return Iv(t,n,Fb(e));}function Nb(e){return"number"==typeof e?Db(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?Db(e.getTime()):Ny();}function Db(e){return e>9999999999?e/1e3:e;}function Bb(e){if(function(e){return"function"==typeof e.getSpanJSON;}(e))return e.getSpanJSON();try{var{spanId:_t14,traceId:_n15}=e.spanContext();if(function(e){var t=e;return!!(t.attributes&&t.startTime&&t.name&&t.endTime&&t.status);}(e)){var{attributes:_r11,startTime:_i11,name:_o7,endTime:_a8,parentSpanId:_s5,status:_c3}=e;return ly({span_id:_t14,trace_id:_n15,data:_r11,description:_o7,parent_span_id:_s5,start_timestamp:Nb(_i11),timestamp:Nb(_a8)||void 0,status:jb(_c3),op:_r11[_b],origin:_r11[wb],_metrics_summary:yb(e)});}return{span_id:_t14,trace_id:_n15};}catch(t){return{};}}function Fb(e){var{traceFlags:t}=e.spanContext();return t===Ob;}function jb(e){if(e&&e.code!==Cb)return e.code===Tb?"ok":e.message||"unknown_error";}var Ub="_sentryChildSpans",$b="_sentryRootSpan";function zb(e,t){var n=e[$b]||e;iy(t,$b,n),e[Ub]?e[Ub].add(t):iy(e,Ub,new Set([t]));}function Hb(e){var t=new Set();return function e(n){if(!t.has(n)&&Fb(n)){t.add(n);var _r12=n[Ub]?Array.from(n[Ub]):[];for(var _t15 of _r12)e(_t15);}}(e),Array.from(t);}function qb(e){return e[$b]||e;}function Wb(){var e=lb(Xv());return e.getActiveSpan?e.getActiveSpan():nb(db());}function Vb(e,t,n,r,i,o){var a=Wb();a&&function(e,t,n,r,i,o,a){var s=e[gb]||(e[gb]=new Map()),c=`${t}:${n}@${i}`,u=s.get(a);if(u){var[,_e18]=u;s.set(a,[c,{min:Math.min(_e18.min,r),max:Math.max(_e18.max,r),count:_e18.count+=1,sum:_e18.sum+=r,tags:_e18.tags}]);}else s.set(a,[c,{min:r,max:r,count:1,sum:r,tags:o}]);}(a,e,t,n,r,i,o);}var Gb=!1;function Yb(){Gb||(Gb=!0,Hy(Jb),Vy(Jb));}function Jb(){var e=Wb(),t=e&&qb(e);if(t){var _e19="internal_error";Jv&&Xg.log(`[Tracing] Root span: ${_e19} -> Global error occured`),t.setStatus({code:Ib,message:_e19});}}Jb.tag="sentry_tracingErrorCallback";var Xb="_sentryScope",Kb="_sentryIsolationScope";function Zb(e){return{scope:e[Xb],isolationScope:e[Kb]};}function Qb(e){if("boolean"==typeof __SENTRY_TRACING__&&!__SENTRY_TRACING__)return!1;var t=mb(),n=e||t&&t.getOptions();return!!n&&(n.enableTracing||"tracesSampleRate"in n||"tracesSampler"in n);}class e_{constructor(e={}){this._traceId=e.traceId||Xy(),this._spanId=e.spanId||Xy().substring(16);}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:0};}end(e){}setAttribute(e,t){return this;}setAttributes(e){return this;}setStatus(e){return this;}updateName(e){return this;}isRecording(){return!1;}addEvent(e,t,n){return this;}addLink(e){return this;}addLinks(e){return this;}recordException(e,t){}}function t_(e,t,n=()=>{}){var r;try{r=e();}catch(i){throw t(i),n(),i;}return function(e,t,n){if(xg(e))return e.then(e=>(n(),e),e=>{throw t(e),n(),e;});return n(),e;}(r,t,n);}var n_="production",r_="_frozenDsc";function i_(e,t){iy(e,r_,t);}function o_(e,t){var n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i=ly({environment:n.environment||n_,release:n.release,public_key:r,trace_id:e});return t.emit("createDsc",i),i;}function a_(e){var t=mb();if(!t)return{};var n=o_(Bb(e).trace_id||"",t),r=qb(e),i=r[r_];if(i)return i;var o=r.spanContext().traceState,a=o&&o.get("sentry.dsc"),s=a&&Sv(a);if(s)return s;var c=Bb(r),u=c.data||{},l=u[bb];null!=l&&(n.sample_rate=`${l}`);var d=u[vb],f=c.description;return"url"!==d&&f&&(n.transaction=f),Qb()&&(n.sampled=String(Fb(r))),t.emit("createDsc",n,r),n;}function s_(e){if("boolean"==typeof e)return Number(e);var t="string"==typeof e?parseFloat(e):e;if(!("number"!=typeof t||isNaN(t)||t<0||t>1))return t;Jv&&Xg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`);}function c_(e,t,n,r=Wb()){var i=r&&qb(r);i&&i.addEvent(e,{[xb]:t,[Sb]:n});}function u_(e){if(!e||0===e.length)return;var t={};return e.forEach(e=>{var n=e.attributes||{},r=n[Sb],i=n[xb];"string"==typeof r&&"number"==typeof i&&(t[e.name]={value:i,unit:r});}),t;}class l_{constructor(e={}){this._traceId=e.traceId||Xy(),this._spanId=e.spanId||Xy().substring(16),this._startTime=e.startTimestamp||Ny(),this._attributes={},this.setAttributes({[wb]:"manual",[_b]:e.op,...e.attributes}),this._name=e.name,e.parentSpanId&&(this._parentSpanId=e.parentSpanId),"sampled"in e&&(this._sampled=e.sampled),e.endTimestamp&&(this._endTime=e.endTimestamp),this._events=[],this._isStandaloneSpan=e.isStandalone,this._endTime&&this._onSpanEnded();}addLink(e){return this;}addLinks(e){return this;}recordException(e,t){}spanContext(){var{_spanId:e,_traceId:t,_sampled:n}=this;return{spanId:e,traceId:t,traceFlags:n?Ob:0};}setAttribute(e,t){return void 0===t?delete this._attributes[e]:this._attributes[e]=t,this;}setAttributes(e){return Object.keys(e).forEach(t=>this.setAttribute(t,e[t])),this;}updateStartTime(e){this._startTime=Nb(e);}setStatus(e){return this._status=e,this;}updateName(e){return this._name=e,this;}end(e){this._endTime||(this._endTime=Nb(e),function(e){if(!Jv)return;var{description:t="< unknown name >",op:n="< unknown op >"}=Bb(e),{spanId:r}=e.spanContext(),i=`[Tracing] Finishing "${n}" ${qb(e)===e?"root ":""}span "${t}" with ID ${r}`;Xg.log(i);}(this),this._onSpanEnded());}getSpanJSON(){return ly({data:this._attributes,description:this._name,op:this._attributes[_b],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:jb(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[wb],_metrics_summary:yb(this),profile_id:this._attributes["sentry.profile_id"],exclusive_time:this._attributes[Eb],measurements:u_(this._events),is_segment:this._isStandaloneSpan&&qb(this)===this||void 0,segment_id:this._isStandaloneSpan?qb(this).spanContext().spanId:void 0});}isRecording(){return!this._endTime&&!!this._sampled;}addEvent(e,t,n){Jv&&Xg.log("[Tracing] Adding an event to span:",e);var r=d_(t)?t:n||Ny(),i=d_(t)?{}:t||{},o={name:e,time:Nb(r),attributes:i};return this._events.push(o),this;}isStandaloneSpan(){return!!this._isStandaloneSpan;}_onSpanEnded(){var e=mb();e&&e.emit("spanEnd",this);if(!(this._isStandaloneSpan||this===qb(this)))return;if(this._isStandaloneSpan)return void(this._sampled?function(e){var t=mb();if(!t)return;var n=e[1];if(!n||0===n.length)return void t.recordDroppedEvent("before_send","span");var r=t.getTransport();r&&r.send(e).then(null,e=>{Jv&&Xg.error("Error while sending span:",e);});}(function(e,t){var n=a_(e[0]),r=t&&t.getDsn(),i=t&&t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...(function(e){return!!e.trace_id&&!!e.public_key;}(n)&&{trace:n}),...(!!i&&r&&{dsn:Zg(r)})},a=t&&t.getOptions().beforeSendSpan,s=a?e=>a(Bb(e)):e=>Bb(e),c=[];for(var _u5 of e){var _e20=s(_u5);_e20&&c.push(Dv(_e20));}return Pv(o,c);}([this],e)):(Jv&&Xg.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),e&&e.recordDroppedEvent("sample_rate","span")));var t=this._convertSpanToTransaction();if(t){(Zb(this).scope||db()).captureEvent(t);}}_convertSpanToTransaction(){if(!f_(Bb(this)))return;this._name||(Jv&&Xg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");var{scope:e,isolationScope:t}=Zb(this),n=(e||db()).getClient()||mb();if(!0!==this._sampled)return Jv&&Xg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),void(n&&n.recordDroppedEvent("sample_rate","transaction"));var r=Hb(this).filter(e=>e!==this&&!function(e){return e instanceof l_&&e.isStandaloneSpan();}(e)).map(e=>Bb(e)).filter(f_),i=this._attributes[vb],o={contexts:{trace:Rb(this)},spans:r.length>1e3?r.sort((e,t)=>e.start_timestamp-t.start_timestamp).slice(0,1e3):r,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:e,capturedSpanIsolationScope:t,...ly({dynamicSamplingContext:a_(this)})},_metrics_summary:yb(this),...(i&&{transaction_info:{source:i}})},a=u_(this._events);return a&&Object.keys(a).length&&(Jv&&Xg.log("[Measurements] Adding measurements to transaction event",JSON.stringify(a,void 0,2)),o.measurements=a),o;}}function d_(e){return e&&"number"==typeof e||e instanceof Date||Array.isArray(e);}function f_(e){return!!(e.start_timestamp&&e.timestamp&&e.span_id&&e.trace_id);}var p_="__SENTRY_SUPPRESS_TRACING__";function h_(e,t){var n=b_();if(n.startSpanManual)return n.startSpanManual(e,t);var r=v_(e),{forceTransaction:i,parentSpan:o}=e;return hb(e.scope,()=>k_(o)(()=>{var n=db(),o=w_(n),a=e.onlyIfParent&&!o?new e_():y_({parentSpan:o,spanArguments:r,forceTransaction:i,scope:n});function s(){a.end();}return tb(n,a),t_(()=>t(a,s),()=>{var{status:e}=Bb(a);!a.isRecording()||e&&"ok"!==e||a.setStatus({code:Ib,message:"internal_error"});});}));}function m_(e){var t=b_();if(t.startInactiveSpan)return t.startInactiveSpan(e);var n=v_(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?t=>hb(e.scope,t):void 0!==i?e=>g_(i,e):e=>e())(()=>{var t=db(),i=w_(t);return e.onlyIfParent&&!i?new e_():y_({parentSpan:i,spanArguments:n,forceTransaction:r,scope:t});});}function g_(e,t){var n=b_();return n.withActiveSpan?n.withActiveSpan(e,t):hb(n=>(tb(n,e||void 0),t(n)));}function y_({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Qb())return new e_();var i=fb();var o;if(e&&!n)o=function(e,t,n){var{spanId:r,traceId:i}=e.spanContext(),o=!t.getScopeData().sdkProcessingMetadata[p_]&&Fb(e),a=o?new l_({...n,parentSpanId:r,traceId:i,sampled:o}):new e_({traceId:i});zb(e,a);var s=mb();s&&(s.emit("spanStart",a),n.endTimestamp&&s.emit("spanEnd",a));return a;}(e,r,t),zb(e,o);else if(e){var _n16=a_(e),{traceId:_i12,spanId:_a9}=e.spanContext(),_s6=Fb(e);o=__({traceId:_i12,parentSpanId:_a9,...t},r,_s6),i_(o,_n16);}else{var{traceId:_e21,dsc:_n17,parentSpanId:_a10,sampled:_s7}={...i.getPropagationContext(),...r.getPropagationContext()};o=__({traceId:_e21,parentSpanId:_a10,...t},r,_s7),_n17&&i_(o,_n17);}return function(e){if(!Jv)return;var{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=Bb(e),{spanId:i}=e.spanContext(),o=Fb(e),a=qb(e),s=a===e,c=`[Tracing] Starting ${o?"sampled":"unsampled"} ${s?"root ":""}span`,u=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&u.push(`parent ID: ${r}`),!s){var{op:_e22,description:_t16}=Bb(a);u.push(`root ID: ${a.spanContext().spanId}`),_e22&&u.push(`root op: ${_e22}`),_t16&&u.push(`root description: ${_t16}`);}Xg.log(`${c}\n  ${u.join("\n  ")}`);}(o),function(e,t,n){e&&(iy(e,Kb,n),iy(e,Xb,t));}(o,r,i),o;}function v_(e){var t={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){var _n18={...t};return _n18.startTimestamp=Nb(e.startTime),delete _n18.startTime,_n18;}return t;}function b_(){return lb(Xv());}function __(e,t,n){var r=mb(),i=r&&r.getOptions()||{},{name:o="",attributes:a}=e,[s,c]=t.getScopeData().sdkProcessingMetadata[p_]?[!1]:function(e,t){if(!Qb(e))return[!1];var n;n="function"==typeof e.tracesSampler?e.tracesSampler(t):void 0!==t.parentSampled?t.parentSampled:void 0!==e.tracesSampleRate?e.tracesSampleRate:1;var r=s_(n);return void 0===r?(Jv&&Xg.warn("[Tracing] Discarding transaction because of invalid sample rate."),[!1]):r?Math.random()<r?[!0,r]:(Jv&&Xg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(n)})`),[!1,r]):(Jv&&Xg.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),[!1,r]);}(i,{name:o,parentSampled:n,attributes:a,transactionContext:{name:o,parentSampled:n}}),u=new l_({...e,attributes:{[vb]:"custom",...e.attributes},sampled:s});return void 0!==c&&u.setAttribute(bb,c),r&&r.emit("spanStart",u),u;}function w_(e){var t=nb(e);if(!t)return;var n=mb();return(n?n.getOptions():{}).parentSpanIsAlwaysRootSpan?qb(t):t;}function k_(e){return void 0!==e?t=>g_(e,t):e=>e();}var S_={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},x_="heartbeatFailed",E_="idleTimeout",C_="finalTimeout",T_="externalFinish";function I_(e,t={}){var n=new Map();var r,i=!1,o=T_,a=!t.disableAutoFinish;var s=[],{idleTimeout:c=S_.idleTimeout,finalTimeout:u=S_.finalTimeout,childSpanTimeout:l=S_.childSpanTimeout,beforeSpanEnd:d}=t,f=mb();if(!f||!Qb())return new e_();var p=db(),h=Wb(),m=function(e){var t=m_(e);return tb(db(),t),Jv&&Xg.log("[Tracing] Started span is an idle span"),t;}(e);function g(){r&&(clearTimeout(r),r=void 0);}function y(e){g(),r=setTimeout(()=>{!i&&0===n.size&&a&&(o=E_,m.end(e));},c);}function v(e){r=setTimeout(()=>{!i&&a&&(o=x_,m.end(e));},l);}function b(e){i=!0,n.clear(),s.forEach(e=>e()),tb(p,h);var t=Bb(m),{start_timestamp:r}=t;if(!r)return;(t.data||{})[kb]||m.setAttribute(kb,o),Xg.log(`[Tracing] Idle span "${t.op}" finished`);var a=Hb(m).filter(e=>e!==m);var l=0;a.forEach(t=>{t.isRecording()&&(t.setStatus({code:Ib,message:"cancelled"}),t.end(e),Jv&&Xg.log("[Tracing] Cancelling span since span ended early",JSON.stringify(t,void 0,2)));var n=Bb(t),{timestamp:r=0,start_timestamp:i=0}=n,o=i<=e,a=r-i<=(u+c)/1e3;if(Jv){var _e23=JSON.stringify(t,void 0,2);o?a||Xg.log("[Tracing] Discarding span since it finished after idle span final timeout",_e23):Xg.log("[Tracing] Discarding span since it happened after idle span was finished",_e23);}a&&o||(!function(e,t){e[Ub]&&e[Ub].delete(t);}(m,t),l++);}),l>0&&m.setAttribute("sentry.idle_span_discarded_spans",l);}return m.end=new Proxy(m.end,{apply(e,t,n){d&&d(m);var[r,...i]=n,o=Nb(r||Ny()),a=Hb(m).filter(e=>e!==m);if(!a.length)return b(o),Reflect.apply(e,t,[o,...i]);var s=a.map(e=>Bb(e).timestamp).filter(e=>!!e),c=s.length?Math.max(...s):void 0,l=Bb(m).start_timestamp,f=Math.min(l?l+u/1e3:1/0,Math.max(l||-1/0,Math.min(o,c||1/0)));return b(f),Reflect.apply(e,t,[f,...i]);}}),s.push(f.on("spanStart",e=>{if(i||e===m||Bb(e).timestamp)return;Hb(m).includes(e)&&function(e){g(),n.set(e,!0),v(Ny()+l/1e3);}(e.spanContext().spanId);})),s.push(f.on("spanEnd",e=>{i||function(e){n.has(e)&&n.delete(e),0===n.size&&y(Ny()+c/1e3);}(e.spanContext().spanId);})),s.push(f.on("idleSpanEnableAutoFinish",e=>{e===m&&(a=!0,y(),n.size&&v());})),t.disableAutoFinish||y(),setTimeout(()=>{i||(m.setStatus({code:Ib,message:"deadline_exceeded"}),o=C_,m.end());},u),m;}function P_(e,t,n,r=0){return new pv((i,o)=>{var a=e[r];if(null===t||"function"!=typeof a)i(t);else{var _s8=a({...t},n);Jv&&a.id&&null===_s8&&Xg.log(`Event processor "${a.id}" dropped event`),xg(_s8)?_s8.then(t=>P_(e,t,n,r+1).then(i)).then(null,o):P_(e,_s8,n,r+1).then(i).then(null,o);}});}function A_(e,t){var{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:o}=t;!function(e,t){var{extra:n,tags:r,user:i,contexts:o,level:a,transactionName:s}=t,c=ly(n);c&&Object.keys(c).length&&(e.extra={...c,...e.extra});var u=ly(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});var l=ly(i);l&&Object.keys(l).length&&(e.user={...l,...e.user});var d=ly(o);d&&Object.keys(d).length&&(e.contexts={...d,...e.contexts});a&&(e.level=a);s&&"transaction"!==e.type&&(e.transaction=s);}(e,t),r&&function(e,t){e.contexts={trace:Mb(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:a_(t),...e.sdkProcessingMetadata};var n=qb(t),r=Bb(n).description;r&&!e.transaction&&"transaction"===e.type&&(e.transaction=r);}(e,r),function(e,t){e.fingerprint=e.fingerprint?nv(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t));e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint;}(e,n),function(e,t){var n=[...(e.breadcrumbs||[]),...t];e.breadcrumbs=n.length?n:void 0;}(e,i),function(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t};}(e,o);}function O_(e,t){var{extra:n,tags:r,user:i,contexts:o,level:a,sdkProcessingMetadata:s,breadcrumbs:c,fingerprint:u,eventProcessors:l,attachments:d,propagationContext:f,transactionName:p,span:h}=t;R_(e,"extra",n),R_(e,"tags",r),R_(e,"user",i),R_(e,"contexts",o),R_(e,"sdkProcessingMetadata",s),a&&(e.level=a),p&&(e.transactionName=p),h&&(e.span=h),c.length&&(e.breadcrumbs=[...e.breadcrumbs,...c]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),l.length&&(e.eventProcessors=[...e.eventProcessors,...l]),d.length&&(e.attachments=[...e.attachments,...d]),e.propagationContext={...e.propagationContext,...f};}function R_(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(var _r13 in n)Object.prototype.hasOwnProperty.call(n,_r13)&&(e[t][_r13]=n[_r13]);}}function M_(e,t,n,r,i,o){var{normalizeDepth:a=3,normalizeMaxBreadth:s=1e3}=e,c={...t,event_id:t.event_id||n.event_id||Xy(),timestamp:t.timestamp||Ly()},u=n.integrations||e.integrations.map(e=>e.name);!function(e,t){var{environment:n,release:r,dist:i,maxValueLength:o=250}=t;"environment"in e||(e.environment="environment"in t?n:n_);void 0===e.release&&void 0!==r&&(e.release=r);void 0===e.dist&&void 0!==i&&(e.dist=i);e.message&&(e.message=Tg(e.message,o));var a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=Tg(a.value,o));var s=e.request;s&&s.url&&(s.url=Tg(s.url,o));}(c,e),function(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...(e.sdk.integrations||[]),...t]);}(c,u),i&&i.emit("applyFrameMetadata",t),void 0===t.type&&function(e,t){var n=Fg._sentryDebugIds;if(!n)return;var r;var i=L_.get(t);i?r=i:(r=new Map(),L_.set(t,r));var o=Object.entries(n).reduce((e,[n,i])=>{var o;var a=r.get(n);a?o=a:(o=t(n),r.set(n,o));for(var _t17=o.length-1;_t17>=0;_t17--){var _n19=o[_t17];if(_n19.filename){e[_n19.filename]=i;break;}}return e;},{});try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.filename&&(e.debug_id=o[e.filename]);});});}catch(a){}}(c,e.stackParser);var l=function(e,t){if(!t)return e;var n=e?e.clone():new ib();return n.update(t),n;}(r,n.captureContext);n.mechanism&&ev(c,n.mechanism);var d=i?i.getEventProcessors():[],f=pb().getScopeData();if(o){O_(f,o.getScopeData());}if(l){O_(f,l.getScopeData());}var p=[...(n.attachments||[]),...f.attachments];p.length&&(n.attachments=p),A_(c,f);return P_([...d,...f.eventProcessors],c,n).then(e=>(e&&function(e){var t={};try{e.exception.values.forEach(e=>{e.stacktrace.frames.forEach(e=>{e.debug_id&&(e.abs_path?t[e.abs_path]=e.debug_id:e.filename&&(t[e.filename]=e.debug_id),delete e.debug_id);});});}catch(r){}if(0===Object.keys(t).length)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];var n=e.debug_meta.images;Object.entries(t).forEach(([e,t])=>{n.push({type:"sourcemap",code_file:e,debug_id:t});});}(e),"number"==typeof a&&a>0?function(e,t,n){if(!e)return null;var r={...e,...(e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...(e.data&&{data:rv(e.data,t,n)})}))}),...(e.user&&{user:rv(e.user,t,n)}),...(e.contexts&&{contexts:rv(e.contexts,t,n)}),...(e.extra&&{extra:rv(e.extra,t,n)})};e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=rv(e.contexts.trace.data,t,n)));e.spans&&(r.spans=e.spans.map(e=>({...e,...(e.data&&{data:rv(e.data,t,n)})})));return r;}(e,a,s):e));}var L_=new WeakMap();function N_(e){if(e)return function(e){return e instanceof ib||"function"==typeof e;}(e)||function(e){return Object.keys(e).some(e=>D_.includes(e));}(e)?{captureContext:e}:e;}var D_=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function B_(e,t){return db().captureException(e,N_(t));}function F_(e,t){var n="string"==typeof t?t:void 0,r="string"!=typeof t?{captureContext:t}:void 0;return db().captureMessage(e,n,r);}function j_(e,t){return db().captureEvent(e,t);}function U_(e,t){fb().setContext(e,t);}function $_(e){fb().setExtras(e);}function z_(e,t){fb().setExtra(e,t);}function H_(e){fb().setTags(e);}function q_(e,t){fb().setTag(e,t);}function W_(e){fb().setUser(e);}function V_(){return fb().lastEventId();}function G_(e){fb().addEventProcessor(e);}function Y_(e){var t=mb(),n=fb(),r=db(),{release:i,environment:o=n_}=t&&t.getOptions()||{},{userAgent:a}=Fg.navigator||{},s=Zv({release:i,environment:o,user:r.getUser()||n.getUser(),...(a&&{userAgent:a}),...e}),c=n.getSession();return c&&"ok"===c.status&&Qv(c,{status:"exited"}),J_(),n.setSession(s),r.setSession(s),s;}function J_(){var e=fb(),t=db(),n=t.getSession()||e.getSession();n&&function(e,t){var n={};"ok"===e.status&&(n={status:"exited"}),Qv(e,n);}(n),X_(),e.setSession(),t.setSession();}function X_(){var e=fb(),t=db(),n=mb(),r=t.getSession()||e.getSession();r&&n&&n.captureSession(r);}function K_(e=!1){e?J_():X_();}var Z_="7";function Q_(e){var t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`;}function ew(e,t){return function(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&");}({sentry_key:e.publicKey,sentry_version:Z_,...(t&&{sentry_client:`${t.name}/${t.version}`})});}function tw(e,t,n){return t||`${function(e){return`${Q_(e)}${e.projectId}/envelope/`;}(e)}?${ew(e,n)}`;}var nw=[];function rw(e){var t=e.defaultIntegrations||[],n=e.integrations;var r;t.forEach(e=>{e.isDefaultInstance=!0;}),r=Array.isArray(n)?[...t,...n]:"function"==typeof n?nv(n(t)):t;var i=function(e){var t={};return e.forEach(e=>{var{name:n}=e,r=t[n];r&&!r.isDefaultInstance&&e.isDefaultInstance||(t[n]=e);}),Object.values(t);}(r),o=i.findIndex(e=>"Debug"===e.name);if(o>-1){var[_e24]=i.splice(o,1);i.push(_e24);}return i;}function iw(e,t){for(var _n20 of t)_n20&&_n20.afterAllSetup&&_n20.afterAllSetup(e);}function ow(e,t,n){if(n[t.name])Jv&&Xg.log(`Integration skipped because it was already installed: ${t.name}`);else{if(n[t.name]=t,-1===nw.indexOf(t.name)&&"function"==typeof t.setupOnce&&(t.setupOnce(),nw.push(t.name)),t.setup&&"function"==typeof t.setup&&t.setup(e),"function"==typeof t.preprocessEvent){var _n21=t.preprocessEvent.bind(t);e.on("preprocessEvent",(t,r)=>_n21(t,r,e));}if("function"==typeof t.processEvent){var _n22=t.processEvent.bind(t),_r14=Object.assign((t,r)=>_n22(t,r,e),{id:t.name});e.addEventProcessor(_r14);}Jv&&Xg.log(`Integration installed: ${t.name}`);}}function aw(e){return e;}var sw="Not capturing exception because it's already been captured.";class cw{constructor(e){if(this._options=e,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],e.dsn?this._dsn=ty(e.dsn):Jv&&Xg.warn("No DSN provided, client will not send events."),this._dsn){var _t18=tw(this._dsn,e.tunnel,e._metadata?e._metadata.sdk:void 0);this._transport=e.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:_t18});}}captureException(e,t,n){var r=Xy();if(tv(e))return Jv&&Xg.log(sw),r;var i={event_id:r,...t};return this._process(this.eventFromException(e,i).then(e=>this._captureEvent(e,i,n))),i.event_id;}captureMessage(e,t,n,r){var i={event_id:Xy(),...n},o=_g(e)?e:String(e),a=wg(e)?this.eventFromMessage(o,t,i):this.eventFromException(e,i);return this._process(a.then(e=>this._captureEvent(e,i,r))),i.event_id;}captureEvent(e,t,n){var r=Xy();if(t&&t.originalException&&tv(t.originalException))return Jv&&Xg.log(sw),r;var i={event_id:r,...t},o=(e.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(e,i,o||n)),i.event_id;}captureSession(e){"string"!=typeof e.release?Jv&&Xg.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Qv(e,{init:!1}));}getDsn(){return this._dsn;}getOptions(){return this._options;}getSdkMetadata(){return this._options._metadata;}getTransport(){return this._transport;}flush(e){var t=this._transport;return t?(this.emit("flush"),this._isClientDoneProcessing(e).then(n=>t.flush(e).then(e=>n&&e))):dv(!0);}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,this.emit("close"),e));}getEventProcessors(){return this._eventProcessors;}addEventProcessor(e){this._eventProcessors.push(e);}init(){(this._isEnabled()||this._options.integrations.some(({name:e})=>e.startsWith("Spotlight")))&&this._setupIntegrations();}getIntegrationByName(e){return this._integrations[e];}addIntegration(e){var t=this._integrations[e.name];ow(this,e,this._integrations),t||iw(this,[e]);}sendEvent(e,t={}){this.emit("beforeSendEvent",e,t);var n=function(e,t,n,r){var i=Uv(n),o=e.type&&"replay_event"!==e.type?e.type:"event";!function(e,t){t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...(e.sdk.integrations||[]),...(t.integrations||[])],e.sdk.packages=[...(e.sdk.packages||[]),...(t.packages||[])]);}(e,n&&n.sdk);var a=$v(e,i,r,t);return delete e.sdkProcessingMetadata,Pv(a,[[{type:o},e]]);}(e,this._dsn,this._options._metadata,this._options.tunnel);for(var _i13 of t.attachments||[])n=Av(n,Bv(_i13));var r=this.sendEnvelope(n);r&&r.then(t=>this.emit("afterSendEvent",e,t),null);}sendSession(e){var t=function(e,t,n,r){var i=Uv(n);return Pv({sent_at:new Date().toISOString(),...(i&&{sdk:i}),...(!!r&&t&&{dsn:Zg(t)})},["aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()]]);}(e,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(t);}recordDroppedEvent(e,t,n){if(this._options.sendClientReports){var _r15="number"==typeof n?n:1,_i14=`${e}:${t}`;Jv&&Xg.log(`Recording outcome: "${_i14}"${_r15>1?` (${_r15} times)`:""}`),this._outcomes[_i14]=(this._outcomes[_i14]||0)+_r15;}}on(e,t){var n=this._hooks[e]=this._hooks[e]||[];return n.push(t),()=>{var e=n.indexOf(t);e>-1&&n.splice(e,1);};}emit(e,...t){var n=this._hooks[e];n&&n.forEach(e=>e(...t));}sendEnvelope(e){return this.emit("beforeEnvelope",e),this._isEnabled()&&this._transport?this._transport.send(e).then(null,e=>(Jv&&Xg.error("Error while sending event:",e),e)):(Jv&&Xg.error("Transport disabled"),dv({}));}_setupIntegrations(){var{integrations:e}=this._options;this._integrations=function(e,t){var n={};return t.forEach(t=>{t&&ow(e,t,n);}),n;}(this,e),iw(this,e);}_updateSessionFromEvent(e,t){var n=!1,r=!1;var i=t.exception&&t.exception.values;if(i){r=!0;for(var _e25 of i){var _t19=_e25.mechanism;if(_t19&&!1===_t19.handled){n=!0;break;}}}var o="ok"===e.status;(o&&0===e.errors||o&&n)&&(Qv(e,{...(n&&{status:"crashed"}),errors:e.errors||Number(r||n)}),this.captureSession(e));}_isClientDoneProcessing(e){return new pv(t=>{var n=0;var r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)));},1);});}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._transport;}_prepareEvent(e,t,n,r=fb()){var i=this.getOptions(),o=Object.keys(this._integrations);return!t.integrations&&o.length>0&&(t.integrations=o),this.emit("preprocessEvent",e,t),e.type||r.setLastEventId(e.event_id||t.event_id),M_(i,e,t,n,this,r).then(e=>{if(null===e)return e;var t={...r.getPropagationContext(),...(n?n.getPropagationContext():void 0)};if(!(e.contexts&&e.contexts.trace)&&t){var{traceId:_n23,spanId:_r16,parentSpanId:_i15,dsc:_o8}=t;e.contexts={trace:ly({trace_id:_n23,span_id:_r16,parent_span_id:_i15}),...e.contexts};var _a11=_o8||o_(_n23,this);e.sdkProcessingMetadata={dynamicSamplingContext:_a11,...e.sdkProcessingMetadata};}return e;});}_captureEvent(e,t={},n){return this._processEvent(e,t,n).then(e=>e.event_id,e=>{if(Jv){var _t20=e;"log"===_t20.logLevel?Xg.log(_t20.message):Xg.warn(_t20);}});}_processEvent(e,t,n){var r=this.getOptions(),{sampleRate:i}=r,o=lw(e),a=uw(e),s=e.type||"error",c=`before send for type \`${s}\``,u=void 0===i?void 0:s_(i);if(a&&"number"==typeof u&&Math.random()>u)return this.recordDroppedEvent("sample_rate","error",e),fv(new ny(`Discarding event because it's not included in the random sample (sampling rate = ${i})`,"log"));var l="replay_event"===s?"replay":s,d=(e.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(e,t,n,d).then(n=>{if(null===n)throw this.recordDroppedEvent("event_processor",l,e),new ny("An event processor returned `null`, will not send event.","log");if(t.data&&!0===t.data.__sentry__)return n;var i=function(e,t,n,r){var{beforeSend:i,beforeSendTransaction:o,beforeSendSpan:a}=t;if(uw(n)&&i)return i(n,r);if(lw(n)){if(n.spans&&a){var _t21=[];for(var _r17 of n.spans){var _n24=a(_r17);_n24?_t21.push(_n24):e.recordDroppedEvent("before_send","span");}n.spans=_t21;}if(o){if(n.spans){var _e26=n.spans.length;n.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:_e26};}return o(n,r);}}return n;}(this,r,n,t);return function(e,t){var n=`${t} must return \`null\` or a valid event.`;if(xg(e))return e.then(e=>{if(!kg(e)&&null!==e)throw new ny(n);return e;},e=>{throw new ny(`${t} rejected with ${e}`);});if(!kg(e)&&null!==e)throw new ny(n);return e;}(i,c);}).then(r=>{if(null===r){if(this.recordDroppedEvent("before_send",l,e),o){var _t22=1+(e.spans||[]).length;this.recordDroppedEvent("before_send","span",_t22);}throw new ny(`${c} returned \`null\`, will not send event.`,"log");}var i=n&&n.getSession();if(!o&&i&&this._updateSessionFromEvent(i,r),o){var _e27=(r.sdkProcessingMetadata&&r.sdkProcessingMetadata.spanCountBeforeProcessing||0)-(r.spans?r.spans.length:0);_e27>0&&this.recordDroppedEvent("before_send","span",_e27);}var a=r.transaction_info;if(o&&a&&r.transaction!==e.transaction){var _e28="custom";r.transaction_info={...a,source:_e28};}return this.sendEvent(r,t),r;}).then(null,e=>{if(e instanceof ny)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new ny(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`);});}_process(e){this._numProcessing++,e.then(e=>(this._numProcessing--,e),e=>(this._numProcessing--,e));}_clearOutcomes(){var e=this._outcomes;return this._outcomes={},Object.entries(e).map(([e,t])=>{var[n,r]=e.split(":");return{reason:n,category:r,quantity:t};});}_flushOutcomes(){Jv&&Xg.log("Flushing outcomes...");var e=this._clearOutcomes();if(0===e.length)return void(Jv&&Xg.log("No outcomes to send"));if(!this._dsn)return void(Jv&&Xg.log("No dsn provided, will not send outcomes"));Jv&&Xg.log("Sending outcomes:",e);var t=function(e,t,n){return Pv(t?{dsn:t}:{},[[{type:"client_report"},{timestamp:Ly(),discarded_events:e}]]);}(e,this._options.tunnel&&Zg(this._dsn));this.sendEnvelope(t);}}function uw(e){return void 0===e.type;}function lw(e){return"transaction"===e.type;}function dw(e){db().setClient(e);}var fw=64;function pw(e,t,n=hv(e.bufferSize||fw)){var r={};return{send:function(i){var o=[];if(Ov(i,(t,n)=>{var i=jv(n);if(qv(r,i)){var _r18=hw(t,n);e.recordDroppedEvent("ratelimit_backoff",i,_r18);}else o.push(t);}),0===o.length)return dv({});var a=Pv(i[0],o),s=t=>{Ov(a,(n,r)=>{var i=hw(n,r);e.recordDroppedEvent(t,jv(r),i);});};return n.add(()=>t({body:Lv(a)}).then(e=>(void 0!==e.statusCode&&(e.statusCode<200||e.statusCode>=300)&&Jv&&Xg.warn(`Sentry responded with status code ${e.statusCode} to sent event.`),r=Wv(r,e),e),e=>{throw s("network_error"),e;})).then(e=>e,e=>{if(e instanceof ny)return Jv&&Xg.error("Skipped sending event because buffer is full."),s("queue_overflow"),dv({});throw e;});},flush:e=>n.drain(e)};}function hw(e,t){if("event"===t||"transaction"===t)return Array.isArray(e)?e[1]:void 0;}var mw=100,gw=5e3,yw=36e5;function vw(e){function t(...e){Jv&&Xg.info("[Offline]:",...e);}return n=>{var r=e(n);if(!n.createStore)throw new Error("No `createStore` function was provided");var i=n.createStore(n);var o,a=gw;function s(e){o&&clearTimeout(o),o=setTimeout(async()=>{o=void 0;var e=await i.shift();e&&(t("Attempting to send previously queued event"),e[0].sent_at=new Date().toISOString(),u(e,!0).catch(e=>{t("Failed to retry sending",e);}));},e),"number"!=typeof o&&o.unref&&o.unref();}function c(){o||(s(a),a=Math.min(2*a,yw));}async function u(e,o=!1){if(!o&&Rv(e,["replay_event","replay_recording"]))return await i.push(e),s(mw),{};try{var _t23=await r.send(e);var _n25=mw;if(_t23)if(_t23.headers&&_t23.headers["retry-after"])_n25=Hv(_t23.headers["retry-after"]);else if(_t23.headers&&_t23.headers["x-sentry-rate-limits"])_n25=6e4;else if((_t23.statusCode||0)>=400)return _t23;return s(_n25),a=gw,_t23;}catch(u){if(await function(e,t,r){return!Rv(e,["client_report"])&&(!n.shouldStore||n.shouldStore(e,t,r));}(e,u,a))return o?await i.unshift(e):await i.push(e),c(),t("Error sending. Event queued.",u),{};throw u;}}return n.flushAtStartup&&c(),{send:u,flush:e=>r.flush(e)};};}function bw(e,t){var n;return Ov(e,(e,r)=>(t.includes(r)&&(n=Array.isArray(e)?e[1]:void 0),!!n)),n;}function _w(e,t){var n=t&&t.getDsn(),r=t&&t.getOptions().tunnel;return function(e,t){return!!t&&e.includes(t.host);}(e,n)||function(e,t){if(!t)return!1;return ww(e)===ww(t);}(e,r);}function ww(e){return"/"===e[e.length-1]?e.slice(0,-1):e;}function kw(e,t,n=[t],r="npm"){var i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(e=>({name:`${r}:@sentry/${e}`,version:Bg})),version:Bg}),e._metadata=i;}var Sw=100;function xw(e,t){var n=mb(),r=fb();if(!n)return;var{beforeBreadcrumb:i=null,maxBreadcrumbs:o=Sw}=n.getOptions();if(o<=0)return;var a={timestamp:Ly(),...e},s=i?Jg(()=>i(a,t)):a;null!==s&&(n.emit&&n.emit("beforeAddBreadcrumb",s,t),r.addBreadcrumb(s,o));}var Ew;var Cw=new WeakMap(),Tw=aw(()=>({name:"FunctionToString",setupOnce(){Ew=Function.prototype.toString;try{Function.prototype.toString=function(...e){var t=ay(this),n=Cw.has(mb())&&void 0!==t?t:this;return Ew.apply(n,e);};}catch(e){}},setup(e){Cw.set(e,!0);}})),Iw=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,"undefined is not an object (evaluating 'a.L')",'can\'t redefine non-configurable property "solana"',"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler"],Pw=aw((e={})=>({name:"InboundFilters",processEvent(t,n,r){var i=r.getOptions(),o=function(e={},t={}){return{allowUrls:[...(e.allowUrls||[]),...(t.allowUrls||[])],denyUrls:[...(e.denyUrls||[]),...(t.denyUrls||[])],ignoreErrors:[...(e.ignoreErrors||[]),...(t.ignoreErrors||[]),...(e.disableErrorDefaults?[]:Iw)],ignoreTransactions:[...(e.ignoreTransactions||[]),...(t.ignoreTransactions||[])],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal};}(e,i);return function(e,t){if(t.ignoreInternal&&function(e){try{return"SentryError"===e.exception.values[0].type;}catch(t){}return!1;}(e))return Jv&&Xg.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${Zy(e)}`),!0;if(function(e,t){if(e.type||!t||!t.length)return!1;return function(e){var t=[];e.message&&t.push(e.message);var n;try{n=e.exception.values[e.exception.values.length-1];}catch(r){}n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`));return t;}(e).some(e=>Og(e,t));}(e,t.ignoreErrors))return Jv&&Xg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${Zy(e)}`),!0;if(function(e){if(e.type)return!1;if(!e.exception||!e.exception.values||0===e.exception.values.length)return!1;return!e.message&&!e.exception.values.some(e=>e.stacktrace||e.type&&"Error"!==e.type||e.value);}(e))return Jv&&Xg.warn(`Event dropped due to not having an error message, error type or stacktrace.\nEvent: ${Zy(e)}`),!0;if(function(e,t){if("transaction"!==e.type||!t||!t.length)return!1;var n=e.transaction;return!!n&&Og(n,t);}(e,t.ignoreTransactions))return Jv&&Xg.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.\nEvent: ${Zy(e)}`),!0;if(function(e,t){if(!t||!t.length)return!1;var n=Aw(e);return!!n&&Og(n,t);}(e,t.denyUrls))return Jv&&Xg.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${Zy(e)}.\nUrl: ${Aw(e)}`),!0;if(!function(e,t){if(!t||!t.length)return!0;var n=Aw(e);return!n||Og(n,t);}(e,t.allowUrls))return Jv&&Xg.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${Zy(e)}.\nUrl: ${Aw(e)}`),!0;return!1;}(t,o)?null:t;}}));function Aw(e){try{var _n26;try{_n26=e.exception.values[0].stacktrace.frames;}catch(t){}return _n26?function(e=[]){for(var _t24=e.length-1;_t24>=0;_t24--){var _n27=e[_t24];if(_n27&&"<anonymous>"!==_n27.filename&&"[native code]"!==_n27.filename)return _n27.filename||null;}return null;}(_n26):null;}catch(n){return Jv&&Xg.error(`Cannot extract url for event ${Zy(e)}`),null;}}var Ow=new Map(),Rw=new Set();function Mw(e,t){return function(e){if(Fg._sentryModuleMetadata)for(var _t25 of Object.keys(Fg._sentryModuleMetadata)){var _n28=Fg._sentryModuleMetadata[_t25];if(Rw.has(_t25))continue;Rw.add(_t25);var _r19=e(_t25);for(var _e29 of _r19.reverse())if(_e29.filename){Ow.set(_e29.filename,_n28);break;}}}(e),Ow.get(t);}function Lw(e,t){try{t.exception.values.forEach(t=>{if(t.stacktrace)for(var _n29 of t.stacktrace.frames||[]){if(!_n29.filename||_n29.module_metadata)continue;var _t26=Mw(e,_n29.filename);_t26&&(_n29.module_metadata=_t26);}});}catch(n){}}function Nw(e){try{e.exception.values.forEach(e=>{if(e.stacktrace)for(var _t27 of e.stacktrace.frames||[])delete _t27.module_metadata;});}catch(t){}}var Dw=aw(()=>({name:"ModuleMetadata",setup(e){e.on("beforeEnvelope",e=>{Ov(e,(e,t)=>{if("event"===t){var _t28=Array.isArray(e)?e[1]:void 0;_t28&&(Nw(_t28),e[1]=_t28);}});}),e.on("applyFrameMetadata",t=>{if(t.type)return;Lw(e.getOptions().stackParser,t);});}})),Bw=aw((e={})=>{var t=e.levels||Gg;return{name:"CaptureConsole",setup(e){"console"in Fg&&Ty(({args:n,level:r})=>{mb()===e&&t.includes(r)&&function(e,t){var n={level:vv(t),extra:{arguments:e}};hb(r=>{if(r.addEventProcessor(e=>(e.logger="console",ev(e,{handled:!1,type:"console"}),e)),"assert"===t){if(!e[0]){var _t29=`Assertion failed: ${Pg(e.slice(1)," ")||"console.assert"}`;r.setExtra("arguments",e.slice(1)),F_(_t29,n);}return;}var i=e.find(e=>e instanceof Error);if(i)return void B_(i,n);F_(Pg(e," "),n);});}(n,r);});}};});var Fw=aw((e={})=>{var t={debugger:!1,stringify:!1,...e};return{name:"Debug",setup(e){e.on("beforeSendEvent",(e,n)=>{t.debugger,Jg(()=>{t.stringify?(console.log(JSON.stringify(e,null,2)),n&&Object.keys(n).length&&console.log(JSON.stringify(n,null,2))):(console.log(e),n&&Object.keys(n).length&&console.log(n));});});}};}),jw=aw(()=>{var e;return{name:"Dedupe",processEvent(t){if(t.type)return t;try{if(function(e,t){if(!t)return!1;if(function(e,t){var n=e.message,r=t.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!$w(e,t))return!1;if(!Uw(e,t))return!1;return!0;}(e,t))return!0;if(function(e,t){var n=zw(t),r=zw(e);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!$w(e,t))return!1;if(!Uw(e,t))return!1;return!0;}(e,t))return!0;return!1;}(t,e))return Jv&&Xg.warn("Event dropped due to being a duplicate of previously captured event."),null;}catch(n){}return e=t;}};});function Uw(e,t){var n=wy(e),r=wy(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(var _i16=0;_i16<r.length;_i16++){var _e30=r[_i16],_t30=n[_i16];if(_e30.filename!==_t30.filename||_e30.lineno!==_t30.lineno||_e30.colno!==_t30.colno||_e30.function!==_t30.function)return!1;}return!0;}function $w(e,t){var n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""));}catch(i){return!1;}}function zw(e){return e.exception&&e.exception.values&&e.exception.values[0];}var Hw=aw((e={})=>{var{depth:t=3,captureErrorCause:n=!0}=e;return{name:"ExtraErrorData",processEvent(e,r,i){var{maxValueLength:o=250}=i.getOptions();return function(e,t={},n,r,i){if(!t.originalException||!mg(t.originalException))return e;var o=t.originalException.name||t.originalException.constructor.name,a=function(e,t,n){try{var _r20=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],_i17={};for(var _t31 of Object.keys(e)){if(-1!==_r20.indexOf(_t31))continue;var _o9=e[_t31];_i17[_t31]=mg(_o9)||"string"==typeof _o9?Tg(`${_o9}`,n):_o9;}if(t&&void 0!==e.cause&&(_i17.cause=mg(e.cause)?e.cause.toString():e.cause),"function"==typeof e.toJSON){var _t32=e.toJSON();for(var _e31 of Object.keys(_t32)){var _n30=_t32[_e31];_i17[_e31]=mg(_n30)?_n30.toString():_n30;}}return _i17;}catch(r){Jv&&Xg.error("Unable to extract extra data from the Error object:",r);}return null;}(t.originalException,r,i);if(a){var _t33={...e.contexts},_r21=rv(a,n);return kg(_r21)&&(iy(_r21,"__sentry_skip_normalization__",!0),_t33[o]=_r21),{...e,contexts:_t33};}return e;}(e,r,t,n,o);}};});var qw=aw((e={})=>{var t=e.root,n=e.prefix||"app:///",r="window"in Fg&&void 0!==Fg.window,i=e.iteratee||function({isBrowser:e,root:t,prefix:n}){return r=>{if(!r.filename)return r;var i=/^[a-zA-Z]:\\/.test(r.filename)||r.filename.includes("\\")&&!r.filename.includes("/"),o=/^\//.test(r.filename);if(e){if(t){var _e32=r.filename;0===_e32.indexOf(t)&&(r.filename=_e32.replace(t,n));}}else if(i||o){var _e33=i?r.filename.replace(/^[a-zA-Z]:/,"").replace(/\\/g,"/"):r.filename,_o10=t?function(e,t){e=sv(e).slice(1),t=sv(t).slice(1);var n=cv(e.split("/")),r=cv(t.split("/")),i=Math.min(n.length,r.length);var o=i;for(var _s9=0;_s9<i;_s9++)if(n[_s9]!==r[_s9]){o=_s9;break;}var a=[];for(var _s10=o;_s10<n.length;_s10++)a.push("..");return a=a.concat(r.slice(o)),a.join("/");}(t,_e33):uv(_e33);r.filename=`${n}${_o10}`;}return r;};}({isBrowser:r,root:t,prefix:n});function o(e){return{...e,frames:e&&e.frames&&e.frames.map(e=>i(e))};}return{name:"RewriteFrames",processEvent(e){var t=e;return e.exception&&Array.isArray(e.exception.values)&&(t=function(e){try{return{...e,exception:{...e.exception,values:e.exception.values.map(e=>({...e,...(e.stacktrace&&{stacktrace:o(e.stacktrace)})}))}};}catch(t){return e;}}(t)),t;}};});var Ww=aw(()=>{var e=1e3*Ny();return{name:"SessionTiming",processEvent(t){var n=1e3*Ny();return{...t,extra:{...t.extra,"session:start":e,"session:duration":n-e,"session:end":n}};}};});function Vw(e){return{...e,path:"path"in e&&Array.isArray(e.path)?e.path.join("."):void 0,keys:"keys"in e?JSON.stringify(e.keys):void 0,unionErrors:"unionErrors"in e?JSON.stringify(e.unionErrors):void 0};}function Gw(e){var t=new Set();for(var _n31 of e.issues)_n31.path&&_n31.path[0]&&t.add(_n31.path[0]);return`Failed to validate keys: ${Tg(Array.from(t).join(", "),100)}`;}function Yw(e,t,n){return t.exception&&t.exception.values&&n&&n.originalException&&function(e){return mg(e)&&"ZodError"===e.name&&Array.isArray(e.errors);}(n.originalException)&&0!==n.originalException.issues.length?{...t,exception:{...t.exception,values:[{...t.exception.values[0],value:Gw(n.originalException)},...t.exception.values.slice(1)]},extra:{...t.extra,"zoderror.issues":n.originalException.errors.slice(0,e).map(Vw)}}:t;}var Jw=aw((e={})=>{var t=e.limit||10;return{name:"ZodErrors",processEvent:(e,n)=>Yw(t,e,n)};}),Xw=aw(e=>({name:"ThirdPartyErrorsFilter",setup(e){e.on("beforeEnvelope",e=>{Ov(e,(e,t)=>{if("event"===t){var _t34=Array.isArray(e)?e[1]:void 0;_t34&&(Nw(_t34),e[1]=_t34);}});}),e.on("applyFrameMetadata",t=>{if(t.type)return;Lw(e.getOptions().stackParser,t);});},processEvent(t){var n=function(e){var t=wy(e);if(!t)return;return t.filter(e=>!!e.filename).map(e=>e.module_metadata?Object.keys(e.module_metadata).filter(e=>e.startsWith(Kw)).map(e=>e.slice(Kw.length)):[]);}(t);if(n){if(n["drop-error-if-contains-third-party-frames"===e.behaviour||"apply-tag-if-contains-third-party-frames"===e.behaviour?"some":"every"](t=>!t.some(t=>e.filterKeys.includes(t)))){if("drop-error-if-contains-third-party-frames"===e.behaviour||"drop-error-if-exclusively-contains-third-party-frames"===e.behaviour)return null;t.tags={...t.tags,third_party_code:!0};}}return t;}}));var Kw="_sentryBundlerPluginAppKey:",Zw="c",Qw="g",ek="s",tk="d";function nk(e,t){var n=jg("globalMetricsAggregators",()=>new WeakMap()),r=n.get(e);if(r)return r;var i=new t(e);return e.on("flush",()=>i.flush()),e.on("close",()=>i.close()),n.set(e,i),i;}function rk(e,t,n,r,i={}){var o=i.client||mb();if(!o)return;var a=Wb(),s=a?qb(a):void 0,c=s&&Bb(s).description,{unit:u,tags:l,timestamp:d}=i,{release:f,environment:p}=o.getOptions(),h={};f&&(h.release=f),p&&(h.environment=p),c&&(h.transaction=c),Jv&&Xg.log(`Adding value of ${r} to ${t} metric ${n}`);nk(o,e).add(t,n,r,u,{...h,...l},d);}function ik(e,t,n,r){rk(e,tk,t,ak(n),r);}var ok={increment:function(e,t,n=1,r){rk(e,"c",t,ak(n),r);},distribution:ik,set:function(e,t,n,r){rk(e,"s",t,n,r);},gauge:function(e,t,n,r){rk(e,"g",t,ak(n),r);},timing:function(e,t,n,r="second",i){if("function"==typeof n){var _r22=Ny();return h_({op:"metrics.timing",name:t,startTime:_r22,onlyIfParent:!0},o=>t_(()=>n(),()=>{},()=>{var n=Ny();ik(e,t,n-_r22,{...i,unit:"second"}),o.end(n);}));}ik(e,t,n,{...i,unit:r});},getMetricsAggregatorForClient:nk};function ak(e){return"string"==typeof e?parseInt(e):e;}function sk(e){return e.replace(/[^\w\-./]+/gi,"");}var ck=[["\n","\\n"],["\r","\\r"],["\t","\\t"],["\\","\\\\"],["|","\\u{7c}"],[",","\\u{2c}"]];function uk(e){return[...e].reduce((e,t)=>e+function(e){for(var[_t35,_n32]of ck)if(e===_t35)return _n32;return e;}(t),"");}function lk(e,t){Xg.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);var n=function(e,t,n,r){var i={sent_at:new Date().toISOString()};n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version});r&&t&&(i.dsn=Zg(t));var o=function(e){var t=function(e){var t="";for(var _n33 of e){var _e34=Object.entries(_n33.tags),_r23=_e34.length>0?`|#${_e34.map(([e,t])=>`${e}:${t}`).join(",")}`:"";t+=`${_n33.name}@${_n33.unit}:${_n33.metric}|${_n33.metricType}${_r23}|T${_n33.timestamp}\n`;}return t;}(e);return[{type:"statsd",length:t.length},t];}(e);return Pv(i,[o]);}(t,e.getDsn(),e.getSdkMetadata(),e.getOptions().tunnel);e.sendEnvelope(n);}var dk={[Zw]:class{constructor(e){this._value=e;}get weight(){return 1;}add(e){this._value+=e;}toString(){return`${this._value}`;}},[Qw]:class{constructor(e){this._last=e,this._min=e,this._max=e,this._sum=e,this._count=1;}get weight(){return 5;}add(e){this._last=e,e<this._min&&(this._min=e),e>this._max&&(this._max=e),this._sum+=e,this._count++;}toString(){return`${this._last}:${this._min}:${this._max}:${this._sum}:${this._count}`;}},[tk]:class{constructor(e){this._value=[e];}get weight(){return this._value.length;}add(e){this._value.push(e);}toString(){return this._value.join(":");}},[ek]:class{constructor(e){this.first=e,this._value=new Set([e]);}get weight(){return this._value.size;}add(e){this._value.add(e);}toString(){return Array.from(this._value).map(e=>"string"==typeof e?function(e){var t=0;for(var _n34=0;_n34<e.length;_n34++)t=(t<<5)-t+e.charCodeAt(_n34),t&=t;return t>>>0;}(e):e).join(":");}}};class fk{constructor(e){this._client=e,this._buckets=new Map(),this._interval=setInterval(()=>this.flush(),5e3);}add(e,t,n,r="none",i={},o=Ny()){var a=Math.floor(o),s=function(e){return e.replace(/[^\w\-.]+/gi,"_");}(t),c=function(e){var t={};for(var _n35 in e)Object.prototype.hasOwnProperty.call(e,_n35)&&(t[sk(_n35)]=uk(String(e[_n35])));return t;}(i),u=function(e){return e.replace(/[^\w]+/gi,"_");}(r),l=function(e,t,n,r){return`${e}${t}${n}${Object.entries(ly(r)).sort((e,t)=>e[0].localeCompare(t[0]))}`;}(e,s,u,c);var d=this._buckets.get(l);var f=d&&"s"===e?d.metric.weight:0;d?(d.metric.add(n),d.timestamp<a&&(d.timestamp=a)):(d={metric:new dk[e](n),timestamp:a,metricType:e,name:s,unit:u,tags:c},this._buckets.set(l,d));Vb(e,s,"string"==typeof n?d.metric.weight-f:n,u,i,l);}flush(){if(0===this._buckets.size)return;var e=Array.from(this._buckets.values());lk(this._client,e),this._buckets.clear();}close(){clearInterval(this._interval),this.flush();}}function pk(e,t,n,r,i="auto.http.browser"){if(!e.fetchData)return;var o=Qb()&&t(e.fetchData.url);if(e.endTimestamp&&o){var _t36=e.fetchData.__span;if(!_t36)return;var _n36=r[_t36];return void(_n36&&(!function(e,t){if(t.response){Ab(e,t.response.status);var _n37=t.response&&t.response.headers&&t.response.headers.get("content-length");if(_n37){var _t37=parseInt(_n37);_t37>0&&e.setAttribute("http.response_content_length",_t37);}}else t.error&&e.setStatus({code:Ib,message:"internal_error"});e.end();}(_n36,e),delete r[_t36]));}var a=db(),s=mb(),{method:c,url:u}=e.fetchData,l=function(e){try{return new URL(e).href;}catch(t){return;}}(u),d=l?mv(l).host:void 0,f=!!Wb(),p=o&&f?m_({name:`${c} ${u}`,attributes:{url:u,type:"fetch","http.method":c,"http.url":l,"server.address":d,[wb]:i,[_b]:"http.client"}}):new e_();if(e.fetchData.__span=p.spanContext().spanId,r[p.spanContext().spanId]=p,n(e.fetchData.url)&&s){var _t38=e.args[0];e.args[1]=e.args[1]||{};var _n38=e.args[1];_n38.headers=function(e,t,n,r,i){var o=fb(),{traceId:a,spanId:s,sampled:c,dsc:u}={...o.getPropagationContext(),...n.getPropagationContext()},l=i?Lb(i):Iv(a,s,c),d=xv(u||(i?a_(i):o_(a,t))),f=r.headers||("undefined"!=typeof Request&&Eg(e,Request)?e.headers:void 0);if(f){if("undefined"!=typeof Headers&&Eg(f,Headers)){var _e35=new Headers(f);return _e35.append("sentry-trace",l),d&&_e35.append(bv,d),_e35;}if(Array.isArray(f)){var _e36=[...f,["sentry-trace",l]];return d&&_e36.push([bv,d]),_e36;}{var _e37="baggage"in f?f.baggage:void 0,_t39=[];return Array.isArray(_e37)?_t39.push(..._e37):_e37&&_t39.push(_e37),d&&_t39.push(d),{...f,"sentry-trace":l,baggage:_t39.length>0?_t39.join(","):void 0};}}return{"sentry-trace":l,baggage:d};}(_t38,s,a,_n38,Qb()&&f?p:void 0);}return p;}function hk(e,t={},n=db()){var{message:r,name:i,email:o,url:a,source:s,associatedEventId:c,tags:u}=e,l={contexts:{feedback:ly({contact_email:o,name:i,message:r,url:a,source:s,associated_event_id:c})},type:"feedback",level:"info",tags:u},d=n&&n.getClient()||mb();d&&d.emit("beforeSendFeedback",l,t);return n.captureEvent(l,t);}var mk=function(){return{bindClient(e){db().setClient(e);},withScope:hb,getClient:()=>mb(),getScope:db,getIsolationScope:fb,captureException:(e,t)=>db().captureException(e,t),captureMessage:(e,t,n)=>db().captureMessage(e,t,n),captureEvent:j_,addBreadcrumb:xw,setUser:W_,setTags:H_,setTag:q_,setExtra:z_,setExtras:$_,setContext:U_,getIntegration(e){var t=mb();return t&&t.getIntegrationByName(e.id)||null;},startSession:Y_,endSession:J_,captureSession(e){if(e)return J_();!function(){var e=db(),t=mb(),n=e.getSession();t&&n&&t.captureSession(n);}();}};};var gk=Fg;var yk=0;function vk(){return yk>0;}function bk(e,t={},n){if("function"!=typeof e)return e;try{var _t40=e.__sentry_wrapped__;if(_t40)return"function"==typeof _t40?_t40:e;if(ay(e))return e;}catch(i){return e;}var r=function(){var n=Array.prototype.slice.call(arguments);try{var _r24=n.map(e=>bk(e,t));return e.apply(this,_r24);}catch(r){throw function(){yk++,setTimeout(()=>{yk--;});}(),hb(e=>{e.addEventProcessor(e=>(t.mechanism&&(Qy(e,void 0),ev(e,t.mechanism)),e.extra={...e.extra,arguments:n},e)),B_(r);}),r;}};try{for(var _t41 in e)Object.prototype.hasOwnProperty.call(e,_t41)&&(r[_t41]=e[_t41]);}catch(o){}oy(r,e),iy(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:()=>e.name});}catch(o){}return r;}var _k="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function wk(e,t){var n=xk(e,t),r={type:Tk(t),value:Ik(t)};return n.length&&(r.stacktrace={frames:n}),void 0===r.type&&""===r.value&&(r.value="Unrecoverable error caught"),r;}function kk(e,t,n,r){var i=mb(),o=i&&i.getOptions().normalizeDepth,a=function(e){for(var _t42 in e)if(Object.prototype.hasOwnProperty.call(e,_t42)){var _n39=e[_t42];if(_n39 instanceof Error)return _n39;}return;}(t),s={__serialized__:iv(t,o)};if(a)return{exception:{values:[wk(e,a)]},extra:s};var c={exception:{values:[{type:Sg(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:Mk(t,{isUnhandledRejection:r})}]},extra:s};if(n){var _t43=xk(e,n);_t43.length&&(c.exception.values[0].stacktrace={frames:_t43});}return c;}function Sk(e,t){return{exception:{values:[wk(e,t)]}};}function xk(e,t){var n=t.stacktrace||t.stack||"",r=function(e){if(e&&Ek.test(e.message))return 1;return 0;}(t),i=function(e){if("number"==typeof e.framesToPop)return e.framesToPop;return 0;}(t);try{return e(n,r,i);}catch(o){}return[];}var Ek=/Minified React error #\d+;/i;function Ck(e){return"undefined"!=typeof WebAssembly&&void 0!==WebAssembly.Exception&&e instanceof WebAssembly.Exception;}function Tk(e){var t=e&&e.name;if(!t&&Ck(e)){return e.message&&Array.isArray(e.message)&&2==e.message.length?e.message[0]:"WebAssembly.Exception";}return t;}function Ik(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:Ck(e)&&Array.isArray(e.message)&&2==e.message.length?e.message[1]:t:"No error message";}function Pk(e,t,n,r){var i=Ok(e,t,n&&n.syntheticException||void 0,r);return ev(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),dv(i);}function Ak(e,t,n="info",r,i){var o=Rk(e,t,r&&r.syntheticException||void 0,i);return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),dv(o);}function Ok(e,t,n,r,i){var o;if(yg(t)&&t.error){return Sk(e,t.error);}if(vg(t)||function(e){return gg(e,"DOMException");}(t)){var _i18=t;if("stack"in t)o=Sk(e,t);else{var _t44=_i18.name||(vg(_i18)?"DOMError":"DOMException"),_a12=_i18.message?`${_t44}: ${_i18.message}`:_t44;o=Rk(e,_a12,n,r),Qy(o,_a12);}return"code"in _i18&&(o.tags={...o.tags,"DOMException.code":`${_i18.code}`}),o;}if(mg(t))return Sk(e,t);if(kg(t)||Sg(t)){return o=kk(e,t,n,i),ev(o,{synthetic:!0}),o;}return o=Rk(e,t,n,r),Qy(o,`${t}`),ev(o,{synthetic:!0}),o;}function Rk(e,t,n,r){var i={};if(r&&n){var _r25=xk(e,n);_r25.length&&(i.exception={values:[{value:t,stacktrace:{frames:_r25}}]});}if(_g(t)){var{__sentry_template_string__:_e38,__sentry_template_values__:_n40}=t;return i.logentry={message:_e38,params:_n40},i;}return i.message=t,i;}function Mk(e,{isUnhandledRejection:t}){var n=function(e,t=40){var n=Object.keys(sy(e));n.sort();var r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return Tg(r,t);for(var _i19=n.length;_i19>0;_i19--){var _e39=n.slice(0,_i19).join(", ");if(!(_e39.length>t))return _i19===n.length?_e39:Tg(_e39,t);}return"";}(e),r=t?"promise rejection":"exception";if(yg(e))return`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``;if(Sg(e)){return`Event \`${function(e){try{var _t45=Object.getPrototypeOf(e);return _t45?_t45.constructor.name:void 0;}catch(t){}}(e)}\` (type=${e.type}) captured as ${r}`;}return`Object captured as ${r} with keys: ${n}`;}function Lk(e,{metadata:t,tunnel:n,dsn:r}){var i={event_id:e.event_id,sent_at:new Date().toISOString(),...(t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}}),...(!!n&&!!r&&{dsn:Zg(r)})},o=function(e){return[{type:"user_report"},e];}(e);return Pv(i,[o]);}class Nk extends cw{constructor(e){var t={parentSpanIsAlwaysRootSpan:!0,...e};kw(t,"browser",["browser"],gk.SENTRY_SDK_SOURCE||function(){return"npm";}()),super(t),t.sendClientReports&&gk.document&&gk.document.addEventListener("visibilitychange",()=>{"hidden"===gk.document.visibilityState&&this._flushOutcomes();});}eventFromException(e,t){return Pk(this._options.stackParser,e,t,this._options.attachStacktrace);}eventFromMessage(e,t="info",n){return Ak(this._options.stackParser,e,t,n,this._options.attachStacktrace);}captureUserFeedback(e){if(!this._isEnabled())return void(_k&&Xg.warn("SDK not enabled, will not capture user feedback."));var t=Lk(e,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this.sendEnvelope(t);}_prepareEvent(e,t,n){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,n);}}var Dk="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Bk=(e,t,n,r)=>{var i,o;return a=>{t.value>=0&&(a||r)&&(o=t.value-(i||0),(o||void 0===i)&&(i=t.value,t.delta=o,t.rating=((e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good")(t.value,n),e(t)));};},Fk=Fg,jk=()=>`v3-${Date.now()}-${Math.floor(8999999999999*Math.random())+1e12}`,Uk=()=>Fk.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],$k=()=>{var e=Uk();return e&&e.activationStart||0;},zk=(e,t)=>{var n=Uk();var r="navigate";n&&(Fk.document&&Fk.document.prerendering||$k()>0?r="prerender":Fk.document&&Fk.document.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-")));return{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:jk(),navigationType:r};},Hk=(e,t,n)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var _r26=new PerformanceObserver(e=>{Promise.resolve().then(()=>{t(e.getEntries());});});return _r26.observe(Object.assign({type:e,buffered:!0},n||{})),_r26;}}catch(r){}},qk=e=>{var t=t=>{("pagehide"===t.type||Fk.document&&"hidden"===Fk.document.visibilityState)&&e(t);};Fk.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0));},Wk=e=>{var t=!1;return n=>{t||(e(n),t=!0);};};var Vk=-1;var Gk=e=>{"hidden"===Fk.document.visibilityState&&Vk>-1&&(Vk="visibilitychange"===e.type?e.timeStamp:0,removeEventListener("visibilitychange",Gk,!0),removeEventListener("prerenderingchange",Gk,!0));},Yk=()=>(Fk.document&&Vk<0&&((()=>{Vk="hidden"!==Fk.document.visibilityState||Fk.document.prerendering?1/0:0;})(),(()=>{addEventListener("visibilitychange",Gk,!0),addEventListener("prerenderingchange",Gk,!0);})()),{get firstHiddenTime(){return Vk;}}),Jk=e=>{Fk.document&&Fk.document.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e();},Xk=[1800,3e3],Kk=[.1,.25],Zk=(e,t={})=>{((e,t={})=>{Jk(()=>{var n=Yk(),r=zk("FCP");var i;var o=Hk("paint",e=>{e.forEach(e=>{"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<n.firstHiddenTime&&(r.value=Math.max(e.startTime-$k(),0),r.entries.push(e),i(!0)));});});o&&(i=Bk(e,r,Xk,t.reportAllChanges));});})(Wk(()=>{var n=zk("CLS",0);var r,i=0,o=[];var a=e=>{e.forEach(e=>{if(!e.hadRecentInput){var _t46=o[0],_n41=o[o.length-1];i&&_t46&&_n41&&e.startTime-_n41.startTime<1e3&&e.startTime-_t46.startTime<5e3?(i+=e.value,o.push(e)):(i=e.value,o=[e]);}}),i>n.value&&(n.value=i,n.entries=o,r());},s=Hk("layout-shift",a);s&&(r=Bk(e,n,Kk,t.reportAllChanges),qk(()=>{a(s.takeRecords()),r(!0);}),setTimeout(r,0));}));},Qk=[100,300],eS=(e,t={})=>{Jk(()=>{var n=Yk(),r=zk("FID");var i;var o=e=>{e.startTime<n.firstHiddenTime&&(r.value=e.processingStart-e.startTime,r.entries.push(e),i(!0));},a=e=>{e.forEach(o);},s=Hk("first-input",a);i=Bk(e,r,Qk,t.reportAllChanges),s&&qk(Wk(()=>{a(s.takeRecords()),s.disconnect();}));});};var tS=0,nS=1/0,rS=0;var iS=e=>{e.forEach(e=>{e.interactionId&&(nS=Math.min(nS,e.interactionId),rS=Math.max(rS,e.interactionId),tS=rS?(rS-nS)/7+1:0);});};var oS;var aS=[200,500],sS=()=>(()=>oS?tS:performance.interactionCount||0)()-0,cS=[],uS={},lS=e=>{var t=cS[cS.length-1],n=uS[e.interactionId];if(n||cS.length<10||t&&e.duration>t.latency){if(n)n.entries.push(e),n.latency=Math.max(n.latency,e.duration);else{var _t47={id:e.interactionId,latency:e.duration,entries:[e]};uS[_t47.id]=_t47,cS.push(_t47);}cS.sort((e,t)=>t.latency-e.latency),cS.splice(10).forEach(e=>{delete uS[e.id];});}},dS=(e,t={})=>{Jk(()=>{(()=>{"interactionCount"in performance||oS||(oS=Hk("event",iS,{type:"event",buffered:!0,durationThreshold:0}));})();var n=zk("INP");var r;var i=e=>{e.forEach(e=>{if(e.interactionId&&lS(e),"first-input"===e.entryType){!cS.some(t=>t.entries.some(t=>e.duration===t.duration&&e.startTime===t.startTime))&&lS(e);}});var t=(()=>{var e=Math.min(cS.length-1,Math.floor(sS()/50));return cS[e];})();t&&t.latency!==n.value&&(n.value=t.latency,n.entries=t.entries,r());},o=Hk("event",i,{durationThreshold:null!=t.durationThreshold?t.durationThreshold:40});r=Bk(e,n,aS,t.reportAllChanges),o&&("PerformanceEventTiming"in Fk&&"interactionId"in PerformanceEventTiming.prototype&&o.observe({type:"first-input",buffered:!0}),qk(()=>{i(o.takeRecords()),n.value<0&&sS()>0&&(n.value=0,n.entries=[]),r(!0);}));});},fS=[2500,4e3],pS={},hS=(e,t={})=>{Jk(()=>{var n=Yk(),r=zk("LCP");var i;var o=e=>{var t=e[e.length-1];t&&t.startTime<n.firstHiddenTime&&(r.value=Math.max(t.startTime-$k(),0),r.entries=[t],i());},a=Hk("largest-contentful-paint",o);if(a){i=Bk(e,r,fS,t.reportAllChanges);var _n42=Wk(()=>{pS[r.id]||(o(a.takeRecords()),a.disconnect(),pS[r.id]=!0,i(!0));});["keydown","click"].forEach(e=>{Fk.document&&addEventListener(e,()=>setTimeout(_n42,0),!0);}),qk(_n42);}});},mS=[800,1800],gS=e=>{Fk.document&&Fk.document.prerendering?Jk(()=>gS(e)):Fk.document&&"complete"!==Fk.document.readyState?addEventListener("load",()=>gS(e),!0):setTimeout(e,0);},yS=(e,t={})=>{var n=zk("TTFB"),r=Bk(e,n,mS,t.reportAllChanges);gS(()=>{var e=Uk();if(e){var _t48=e.responseStart;if(_t48<=0||_t48>performance.now())return;n.value=Math.max(_t48-$k(),0),n.entries=[e],r(!0);}});},vS={},bS={};var _S,wS,kS,SS,xS;function ES(e,t=!1){return DS("cls",e,OS,_S,t);}function CS(e,t=!1){return DS("lcp",e,MS,kS,t);}function TS(e){return DS("fid",e,RS,wS);}function IS(e){return DS("inp",e,NS,xS);}function PS(e,t){return BS(e,t),bS[e]||(!function(e){var t={};"event"===e&&(t.durationThreshold=0);Hk(e,t=>{AS(e,{entries:t});},t);}(e),bS[e]=!0),FS(e,t);}function AS(e,t){var n=vS[e];if(n&&n.length)for(var _i20 of n)try{_i20(t);}catch(r){Dk&&Xg.error(`Error while triggering instrumentation handler.\nType: ${e}\nName: ${_y(_i20)}\nError:`,r);}}function OS(){return Zk(e=>{AS("cls",{metric:e}),_S=e;},{reportAllChanges:!0});}function RS(){return eS(e=>{AS("fid",{metric:e}),wS=e;});}function MS(){return hS(e=>{AS("lcp",{metric:e}),kS=e;},{reportAllChanges:!0});}function LS(){return yS(e=>{AS("ttfb",{metric:e}),SS=e;});}function NS(){return dS(e=>{AS("inp",{metric:e}),xS=e;});}function DS(e,t,n,r,i=!1){var o;return BS(e,t),bS[e]||(o=n(),bS[e]=!0),r&&t({metric:r}),FS(e,t,i?o:void 0);}function BS(e,t){vS[e]=vS[e]||[],vS[e].push(t);}function FS(e,t,n){return()=>{n&&n();var r=vS[e];if(!r)return;var i=r.indexOf(t);-1!==i&&r.splice(i,1);};}function jS(e){return"number"==typeof e&&isFinite(e);}function US(e,t,n,{...r}){var i=Bb(e).start_timestamp;return i&&i>t&&"function"==typeof e.updateStartTime&&e.updateStartTime(t),g_(e,()=>{var e=m_({startTime:t,...r});return e&&e.end(n),e;});}function $S(e){var t=mb();if(!t)return;var{name:n,transaction:r,attributes:i,startTime:o}=e,{release:a,environment:s}=t.getOptions(),c=t.getIntegrationByName("Replay"),u=c&&c.getReplayId(),l=db(),d=l.getUser(),f=void 0!==d?d.email||d.id||d.ip_address:void 0;var p;try{p=l.getScopeData().contexts.profile.profile_id;}catch(h){}return m_({name:n,attributes:{release:a,environment:s,user:f||void 0,profile_id:p||void 0,replay_id:u||void 0,transaction:r,"user_agent.original":Fk.navigator&&Fk.navigator.userAgent,...i},startTime:o,experimental:{standalone:!0}});}function zS(){return Fk&&Fk.addEventListener&&Fk.performance;}function HS(e){return e/1e3;}function qS(){var e,t,n=0;if(!function(){try{return Vv([PerformanceObserver,"access",e=>e.supportedEntryTypes,"optionalAccess",e=>e.includes,"call",e=>e("layout-shift")]);}catch(e){return!1;}}())return;var r=!1;function i(){r||(r=!0,t&&function(e,t,n){Dk&&Xg.log(`Sending CLS span (${e})`);var r=HS((Dy||0)+(Vv([t,"optionalAccess",e=>e.startTime])||0)),i=db().getScopeData().transactionName,o=t?zg(Vv([t,"access",e=>e.sources,"access",e=>e[0],"optionalAccess",e=>e.node])):"Layout shift",a=ly({[wb]:"auto.http.browser.cls",[_b]:"ui.webvital.cls",[Eb]:Vv([t,"optionalAccess",e=>e.duration])||0,"sentry.pageload.span_id":n}),s=$S({name:o,transaction:i,attributes:a,startTime:r});Vv([s,"optionalAccess",e=>e.addEvent,"call",t=>t("cls",{[Sb]:"",[xb]:e})]),Vv([s,"optionalAccess",e=>e.end,"call",e=>e(r)]);}(n,e,t),o());}var o=ES(({metric:t})=>{var r=t.entries[t.entries.length-1];r&&(n=t.value,e=r);},!0);qk(()=>{i();}),setTimeout(()=>{var e=Vv([mb(),"optionalAccess",e=>e.on,"call",t=>t("startNavigationSpan",()=>{i(),e&&e();})]),n=Wb(),r=n&&qb(n),o=r&&Bb(r);o&&"pageload"===o.op&&(t=r.spanContext().spanId);},0);}var WS=2147483647;var VS,GS,YS=0,JS={};function XS({recordClsStandaloneSpans:e}){var t=zS();if(t&&Dy){t.mark&&Fk.performance.mark("sentry-tracing-init");var _n43=function(){return TS(({metric:e})=>{var t=e.entries[e.entries.length-1];if(!t)return;var n=HS(Dy),r=HS(t.startTime);Dk&&Xg.log("[Measurements] Adding FID"),JS.fid={value:e.value,unit:"millisecond"},JS["mark.fid"]={value:n+r,unit:"second"};});}(),_r27=function(){return CS(({metric:e})=>{var t=e.entries[e.entries.length-1];t&&(Dk&&Xg.log("[Measurements] Adding LCP"),JS.lcp={value:e.value,unit:"millisecond"},VS=t);},!0);}(),_i21=function(){return function(e){return DS("ttfb",e,LS,SS);}(({metric:e})=>{e.entries[e.entries.length-1]&&(Dk&&Xg.log("[Measurements] Adding TTFB"),JS.ttfb={value:e.value,unit:"millisecond"});});}(),_o11=e?qS():function(){return ES(({metric:e})=>{var t=e.entries[e.entries.length-1];t&&(Dk&&Xg.log(`[Measurements] Adding CLS ${e.value}`),JS.cls={value:e.value,unit:""},GS=t);},!0);}();return()=>{_n43(),_r27(),_i21(),_o11&&_o11();};}return()=>{};}function KS(e,t){var n=zS();if(!n||!Fk.performance.getEntries||!Dy)return;Dk&&Xg.log("[Tracing] Adding & adjusting spans using Performance API");var r=HS(Dy),i=n.getEntries(),{op:o,start_timestamp:a}=Bb(e);if(i.slice(YS).forEach(t=>{var n=HS(t.startTime),i=HS(Math.max(0,t.duration));if(!("navigation"===o&&a&&r+n<a))switch(t.entryType){case"navigation":!function(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{ZS(e,t,r,n);}),ZS(e,t,"secureConnection",n,"TLS/SSL","connectEnd"),ZS(e,t,"fetch",n,"cache","domainLookupStart"),ZS(e,t,"domainLookup",n,"DNS"),function(e,t,n){var r=n+HS(t.requestStart),i=n+HS(t.responseEnd),o=n+HS(t.responseStart);t.responseEnd&&(US(e,r,i,{op:"browser.request",name:t.name,attributes:{[wb]:"auto.ui.browser.metrics"}}),US(e,o,i,{op:"browser.response",name:t.name,attributes:{[wb]:"auto.ui.browser.metrics"}}));}(e,t,n);}(e,t,r);break;case"mark":case"paint":case"measure":{!function(e,t,n,r,i){var o=Uk(),a=HS(o?o.requestStart:0),s=i+Math.max(n,a),c=i+n,u=c+r,l={[wb]:"auto.resource.browser.metrics"};s!==c&&(l["sentry.browser.measure_happened_before_request"]=!0,l["sentry.browser.measure_start_time"]=s);US(e,s,u,{name:t.name,op:t.entryType,attributes:l});}(e,t,n,i,r);var _o12=Yk(),_a13=t.startTime<_o12.firstHiddenTime;"first-paint"===t.name&&_a13&&(Dk&&Xg.log("[Measurements] Adding FP"),JS.fp={value:t.startTime,unit:"millisecond"}),"first-contentful-paint"===t.name&&_a13&&(Dk&&Xg.log("[Measurements] Adding FCP"),JS.fcp={value:t.startTime,unit:"millisecond"});break;}case"resource":!function(e,t,n,r,i,o){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;var a=mv(n),s={[wb]:"auto.resource.browser.metrics"};QS(s,t,"transferSize","http.response_transfer_size"),QS(s,t,"encodedBodySize","http.response_content_length"),QS(s,t,"decodedBodySize","http.decoded_response_content_length"),"renderBlockingStatus"in t&&(s["resource.render_blocking_status"]=t.renderBlockingStatus);a.protocol&&(s["url.scheme"]=a.protocol.split(":").pop());a.host&&(s["server.address"]=a.host);s["url.same_origin"]=n.includes(Fk.location.origin);var c=o+r,u=c+i;US(e,c,u,{name:n.replace(Fk.location.origin,""),op:t.initiatorType?`resource.${t.initiatorType}`:"resource.other",attributes:s});}(e,t,t.name,n,i,r);}}),YS=Math.max(i.length-1,0),function(e){var t=Fk.navigator;if(!t)return;var n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),jS(n.rtt)&&(JS["connection.rtt"]={value:n.rtt,unit:"millisecond"}));jS(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`);jS(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency));}(e),"pageload"===o){!function(e){var t=Uk();if(!t)return;var{responseStart:n,requestStart:r}=t;r<=n&&(Dk&&Xg.log("[Measurements] Adding TTFB Request Time"),e["ttfb.requestTime"]={value:n-r,unit:"millisecond"});}(JS);var _n44=JS["mark.fid"];_n44&&JS.fid&&(US(e,_n44.value,_n44.value+HS(JS.fid.value),{name:"first input delay",op:"ui.action",attributes:{[wb]:"auto.ui.browser.metrics"}}),delete JS["mark.fid"]),"fcp"in JS&&t.recordClsOnPageloadSpan||delete JS.cls,Object.entries(JS).forEach(([e,t])=>{c_(e,t.value,t.unit);}),e.setAttribute("performance.timeOrigin",r),e.setAttribute("performance.activationStart",$k()),function(e){VS&&(Dk&&Xg.log("[Measurements] Adding LCP Data"),VS.element&&e.setAttribute("lcp.element",zg(VS.element)),VS.id&&e.setAttribute("lcp.id",VS.id),VS.url&&e.setAttribute("lcp.url",VS.url.trim().slice(0,200)),e.setAttribute("lcp.size",VS.size));GS&&GS.sources&&(Dk&&Xg.log("[Measurements] Adding CLS Data"),GS.sources.forEach((t,n)=>e.setAttribute(`cls.source.${n+1}`,zg(t.node))));}(e);}VS=void 0,GS=void 0,JS={};}function ZS(e,t,n,r,i,o){var a=o?t[o]:t[`${n}End`],s=t[`${n}Start`];s&&a&&US(e,r+HS(s),r+HS(a),{op:`browser.${i||n}`,name:t.name,attributes:{[wb]:"auto.ui.browser.metrics"}});}function QS(e,t,n,r){var i=t[n];null!=i&&i<WS&&(e[r]=i);}var ex=1e3;var tx,nx,rx,ix;function ox(e){xy("dom",e),Ey("dom",ax);}function ax(){if(!Fk.document)return;var e=Cy.bind(null,"dom"),t=sx(e,!0);Fk.document.addEventListener("click",t,!1),Fk.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(t=>{var n=Fk[t]&&Fk[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(ry(n,"addEventListener",function(t){return function(n,r,i){if("click"===n||"keypress"==n)try{var _r28=this,_o13=_r28.__sentry_instrumentation_handlers__=_r28.__sentry_instrumentation_handlers__||{},_a14=_o13[n]=_o13[n]||{refCount:0};if(!_a14.handler){var _r29=sx(e);_a14.handler=_r29,t.call(this,n,_r29,i);}_a14.refCount++;}catch(o){}return t.call(this,n,r,i);};}),ry(n,"removeEventListener",function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{var _n45=this,_i22=_n45.__sentry_instrumentation_handlers__||{},_o14=_i22[t];_o14&&(_o14.refCount--,_o14.refCount<=0&&(e.call(this,t,_o14.handler,r),_o14.handler=void 0,delete _i22[t]),0===Object.keys(_i22).length&&delete _n45.__sentry_instrumentation_handlers__);}catch(i){}return e.call(this,t,n,r);};}));});}function sx(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;var r=function(e){try{return e.target;}catch(t){return null;}}(n);if(function(e,t){return"keypress"===e&&(!t||!t.tagName||"INPUT"!==t.tagName&&"TEXTAREA"!==t.tagName&&!t.isContentEditable);}(n.type,r))return;iy(n,"_sentryCaptured",!0),r&&!r._sentryId&&iy(r,"_sentryId",Xy());var i="keypress"===n.type?"input":n.type;if(!function(e){if(e.type!==nx)return!1;try{if(!e.target||e.target._sentryId!==rx)return!1;}catch(t){}return!0;}(n)){e({event:n,name:i,global:t}),nx=n.type,rx=r?r._sentryId:void 0;}clearTimeout(tx),tx=Fk.setTimeout(()=>{rx=void 0,nx=void 0;},ex);};}function cx(e){var t="history";xy(t,e),Ey(t,ux);}function ux(){if(!function(){var e=Yv.chrome,t=e&&e.app&&e.app.runtime,n="history"in Yv&&!!Yv.history.pushState&&!!Yv.history.replaceState;return!t&&n;}())return;var e=Fk.onpopstate;function t(e){return function(...t){var n=t.length>2?t[2]:void 0;if(n){var _e40=ix,_t49=String(n);ix=_t49;Cy("history",{from:_e40,to:_t49});}return e.apply(this,t);};}Fk.onpopstate=function(...t){var n=Fk.location.href,r=ix;ix=n;if(Cy("history",{from:r,to:n}),e)try{return e.apply(this,t);}catch(i){}},ry(Fk.history,"pushState",t),ry(Fk.history,"replaceState",t);}var lx={};function dx(e){var t=lx[e];if(t)return t;var n=Fk[e];if(Oy(n))return lx[e]=n.bind(Fk);var r=Fk.document;if(r&&"function"==typeof r.createElement)try{var _t50=r.createElement("iframe");_t50.hidden=!0,r.head.appendChild(_t50);var _i23=_t50.contentWindow;_i23&&_i23[e]&&(n=_i23[e]),r.head.removeChild(_t50);}catch(i){Dk&&Xg.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i);}return n?lx[e]=n.bind(Fk):n;}function fx(e){lx[e]=void 0;}function px(...e){return dx("setTimeout")(...e);}var hx="__sentry_xhr_v3__";function mx(e){xy("xhr",e),Ey("xhr",gx);}function gx(){if(!Fk.XMLHttpRequest)return;var e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(e,t,n){var r=1e3*Ny(),i=bg(n[0])?n[0].toUpperCase():void 0,o=function(e){if(bg(e))return e;try{return e.toString();}catch(t){}return;}(n[1]);if(!i||!o)return e.apply(t,n);t[hx]={method:i,url:o,request_headers:{}},"POST"===i&&o.match(/sentry_key/)&&(t.__sentry_own_request__=!0);var a=()=>{var e=t[hx];if(e&&4===t.readyState){try{e.status_code=t.status;}catch(n){}Cy("xhr",{endTimestamp:1e3*Ny(),startTimestamp:r,xhr:t});}};return"onreadystatechange"in t&&"function"==typeof t.onreadystatechange?t.onreadystatechange=new Proxy(t.onreadystatechange,{apply:(e,t,n)=>(a(),e.apply(t,n))}):t.addEventListener("readystatechange",a),t.setRequestHeader=new Proxy(t.setRequestHeader,{apply(e,t,n){var[r,i]=n,o=t[hx];return o&&bg(r)&&bg(i)&&(o.request_headers[r.toLowerCase()]=i),e.apply(t,n);}}),e.apply(t,n);}}),e.send=new Proxy(e.send,{apply(e,t,n){var r=t[hx];if(!r)return e.apply(t,n);void 0!==n[0]&&(r.body=n[0]);return Cy("xhr",{startTimestamp:1e3*Ny(),xhr:t}),e.apply(t,n);}});}var yx=[],vx=new Map();function bx(){if(zS()&&Dy){var _e41=function(){return IS(({metric:e})=>{if(null==e.value)return;var t=e.entries.find(t=>t.duration===e.value&&_x[t.name]);if(!t)return;var{interactionId:n}=t,r=_x[t.name],i=HS(Dy+t.startTime),o=HS(e.value),a=Wb(),s=a?qb(a):void 0,c=(null!=n?vx.get(n):void 0)||s,u=c?Bb(c).description:db().getScopeData().transactionName,l=$S({name:zg(t.target),transaction:u,attributes:ly({[wb]:"auto.http.browser.inp",[_b]:`ui.interaction.${r}`,[Eb]:t.duration}),startTime:i});Vv([l,"optionalAccess",e=>e.addEvent,"call",t=>t("inp",{[Sb]:"millisecond",[xb]:e.value})]),Vv([l,"optionalAccess",e=>e.end,"call",e=>e(i+o)]);});}();return()=>{_e41();};}return()=>{};}var _x={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function wx(e,t=dx("fetch")){var n=0,r=0;return pw(e,function(i){var o=i.body.length;n+=o,r++;var a={body:i.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return fx("fetch"),fv("No fetch implementation available");try{return t(e.url,a).then(e=>(n-=o,r--,{statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}));}catch(s){return fx("fetch"),n-=o,r--,fv(s);}});}function kx(e,t,n,r){var i={filename:e,function:"<anonymous>"===t?py:t,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i;}var Sx=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,xx=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Ex=/\((\S*)(?::(\d+))(?::(\d+))\)/,Cx=[30,e=>{var t=Sx.exec(e);if(t){var[,_e42,_n46,_r30]=t;return kx(_e42,py,+_n46,+_r30);}var n=xx.exec(e);if(n){if(n[2]&&0===n[2].indexOf("eval")){var _e43=Ex.exec(n[2]);_e43&&(n[2]=_e43[1],n[3]=_e43[2],n[4]=_e43[3]);}var[_e44,_t51]=Fx(n[1]||py,n[2]);return kx(_t51,_e44,n[3]?+n[3]:void 0,n[4]?+n[4]:void 0);}}],Tx=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Ix=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Px=[50,e=>{var t=Tx.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var _e45=Ix.exec(t[3]);_e45&&(t[1]=t[1]||"eval",t[3]=_e45[1],t[4]=_e45[2],t[5]="");}var _e46=t[3],_n47=t[1]||py;return[_n47,_e46]=Fx(_n47,_e46),kx(_e46,_n47,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0);}}],Ax=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Ox=[40,e=>{var t=Ax.exec(e);return t?kx(t[2],t[1]||py,+t[3],t[4]?+t[4]:void 0):void 0;}],Rx=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Mx=[10,e=>{var t=Rx.exec(e);return t?kx(t[2],t[3]||py,+t[1]):void 0;}],Lx=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Nx=[20,e=>{var t=Lx.exec(e);return t?kx(t[5],t[3]||t[4]||py,+t[1],+t[2]):void 0;}],Dx=[Cx,Px],Bx=gy(...Dx),Fx=(e,t)=>{var n=-1!==e.indexOf("safari-extension"),r=-1!==e.indexOf("safari-web-extension");return n||r?[-1!==e.indexOf("@")?e.split("@")[0]:py,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t];},jx=1024,Ux=aw((e={})=>{var t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:"Breadcrumbs",setup(e){t.console&&Ty(function(e){return function(t){if(mb()!==e)return;var n={category:"console",data:{arguments:t.args,logger:"console"},level:vv(t.level),message:Pg(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message=`Assertion failed: ${Pg(t.args.slice(1)," ")||"console.assert"}`,n.data.arguments=t.args.slice(1);}xw(n,{input:t.args,level:t.level});};}(e)),t.dom&&ox(function(e,t){return function(n){if(mb()!==e)return;var r,i,o="object"==typeof t?t.serializeAttribute:void 0,a="object"==typeof t&&"number"==typeof t.maxStringLength?t.maxStringLength:void 0;a&&a>jx&&(_k&&Xg.warn(`\`dom.maxStringLength\` cannot exceed 1024, but a value of ${a} was configured. Sentry will use 1024 instead.`),a=jx),"string"==typeof o&&(o=[o]);try{var _e47=n.event,_t52=function(e){return!!e&&!!e.target;}(_e47)?_e47.target:_e47;r=zg(_t52,{keyAttrs:o,maxStringLength:a}),i=Wg(_t52);}catch(c){r="<unknown>";}if(0===r.length)return;var s={category:`ui.${n.name}`,message:r};i&&(s.data={"ui.component_name":i}),xw(s,{event:n.event,name:n.name,global:n.global});};}(e,t.dom)),t.xhr&&mx(function(e){return function(t){if(mb()!==e)return;var{startTimestamp:n,endTimestamp:r}=t,i=t.xhr[hx];if(!n||!r||!i)return;var{method:o,url:a,status_code:s,body:c}=i,u={method:o,url:a,status_code:s},l={xhr:t.xhr,input:c,startTimestamp:n,endTimestamp:r};xw({category:"xhr",data:u,type:"http",level:Dg(s)},l);};}(e)),t.fetch&&By(function(e){return function(t){if(mb()!==e)return;var{startTimestamp:n,endTimestamp:r}=t;if(r&&(!t.fetchData.url.match(/sentry_key/)||"POST"!==t.fetchData.method))if(t.error){xw({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args,startTimestamp:n,endTimestamp:r});}else{var _e48=t.response,_i24={...t.fetchData,status_code:_e48&&_e48.status},_o15={input:t.args,response:_e48,startTimestamp:n,endTimestamp:r};xw({category:"fetch",data:_i24,type:"http",level:Dg(_i24.status_code)},_o15);}};}(e)),t.history&&cx(function(e){return function(t){if(mb()!==e)return;var n=t.from,r=t.to;var i=mv(gk.location.href);var o=n?mv(n):void 0;var a=mv(r);o&&o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),xw({category:"navigation",data:{from:n,to:r}});};}(e)),t.sentry&&e.on("beforeSendEvent",function(e){return function(t){mb()===e&&xw({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Zy(t)},{event:t});};}(e));}};});var $x=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],zx=aw((e={})=>{var t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:"BrowserApiErrors",setupOnce(){t.setTimeout&&ry(gk,"setTimeout",Hx),t.setInterval&&ry(gk,"setInterval",Hx),t.requestAnimationFrame&&ry(gk,"requestAnimationFrame",qx),t.XMLHttpRequest&&"XMLHttpRequest"in gk&&ry(XMLHttpRequest.prototype,"send",Wx);var e=t.eventTarget;if(e){(Array.isArray(e)?e:$x).forEach(Vx);}}};});function Hx(e){return function(...t){var n=t[0];return t[0]=bk(n,{mechanism:{data:{function:_y(e)},handled:!1,type:"instrument"}}),e.apply(this,t);};}function qx(e){return function(t){return e.apply(this,[bk(t,{mechanism:{data:{function:"requestAnimationFrame",handler:_y(e)},handled:!1,type:"instrument"}})]);};}function Wx(e){return function(...t){var n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(e=>{e in n&&"function"==typeof n[e]&&ry(n,e,function(t){var n={mechanism:{data:{function:e,handler:_y(t)},handled:!1,type:"instrument"}},r=ay(t);return r&&(n.mechanism.data.handler=_y(r)),bk(t,n);});}),e.apply(this,t);};}function Vx(e){var t=gk,n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(ry(n,"addEventListener",function(t){return function(n,r,i){try{"function"==typeof r.handleEvent&&(r.handleEvent=bk(r.handleEvent,{mechanism:{data:{function:"handleEvent",handler:_y(r),target:e},handled:!1,type:"instrument"}}));}catch(fM){}return t.apply(this,[n,bk(r,{mechanism:{data:{function:"addEventListener",handler:_y(r),target:e},handled:!1,type:"instrument"}}),i]);};}),ry(n,"removeEventListener",function(e){return function(t,n,r){var i=n;try{var _n48=i&&i.__sentry_wrapped__;_n48&&e.call(this,t,_n48,r);}catch(o){}return e.call(this,t,i,r);};}));}var Gx=aw((e={})=>{var t={onerror:!0,onunhandledrejection:!0,...e};return{name:"GlobalHandlers",setupOnce(){Error.stackTraceLimit=50;},setup(e){t.onerror&&(!function(e){Hy(t=>{var{stackParser:n,attachStacktrace:r}=Jx();if(mb()!==e||vk())return;var{msg:i,url:o,line:a,column:s,error:c}=t,u=function(e,t,n,r){var i=e.exception=e.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},c=s.frames=s.frames||[],u=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,d=bg(t)&&t.length>0?t:qg();0===c.length&&c.push({colno:u,filename:d,function:py,in_app:!0,lineno:l});return e;}(Ok(n,c||i,void 0,r,!1),o,a,s);u.level="error",j_(u,{originalException:c,mechanism:{handled:!1,type:"onerror"}});});}(e),Yx("onerror")),t.onunhandledrejection&&(!function(e){Vy(t=>{var{stackParser:n,attachStacktrace:r}=Jx();if(mb()!==e||vk())return;var i=function(e){if(wg(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason;}catch(t){}return e;}(t),o=wg(i)?function(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}};}(i):Ok(n,i,void 0,r,!0);o.level="error",j_(o,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}});});}(e),Yx("onunhandledrejection"));}};});function Yx(e){_k&&Xg.log(`Global Handler attached: ${e}`);}function Jx(){var e=mb();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1};}var Xx=aw(()=>({name:"HttpContext",preprocessEvent(e){if(!gk.navigator&&!gk.location&&!gk.document)return;var t=e.request&&e.request.url||gk.location&&gk.location.href,{referrer:n}=gk.document||{},{userAgent:r}=gk.navigator||{},i={...(e.request&&e.request.headers),...(n&&{Referer:n}),...(r&&{"User-Agent":r})},o={...e.request,...(t&&{url:t}),headers:i};e.request=o;}})),Kx=aw((e={})=>{var t=e.limit||5,n=e.key||"cause";return{name:"LinkedErrors",preprocessEvent(e,r,i){var o=i.getOptions();Rg(wk,o.stackParser,o.maxValueLength,n,t,e,r);}};});function Zx(e){return[Pw(),Tw(),zx(),Ux(),Gx(),Kx(),jw(),Xx()];}function Qx(e={}){var t=function(e={}){var t={defaultIntegrations:Zx(),release:"string"==typeof __SENTRY_RELEASE__?__SENTRY_RELEASE__:gk.SENTRY_RELEASE&&gk.SENTRY_RELEASE.id?gk.SENTRY_RELEASE.id:void 0,autoSessionTracking:!0,sendClientReports:!0};return null==e.defaultIntegrations&&delete e.defaultIntegrations,{...t,...e};}(e);if(function(){var e=void 0!==gk.window&&gk;if(!e)return!1;var t=e[e.chrome?"chrome":"browser"],n=t&&t.runtime&&t.runtime.id,r=gk.location&&gk.location.href||"",i=!!n&&gk===gk.top&&["chrome-extension:","moz-extension:","ms-browser-extension:","safari-web-extension:"].some(e=>r.startsWith(`${e}//`)),o=void 0!==e.nw;return!!n&&!i&&!o;}())return void Jg(()=>{console.error("[Sentry] You cannot run Sentry this way in a browser extension, check: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/");});_k&&(Ay()||Xg.warn("No Fetch API detected. The Sentry SDK requires a Fetch API compatible environment to send events. Please add a Fetch API polyfill."));var n={...t,stackParser:yy(t.stackParser||Bx),integrations:rw(t),transport:t.transport||wx},r=function(e,t){!0===t.debug&&(Jv?Xg.enable():Jg(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.");})),db().update(t.initialScope);var n=new e(t);return dw(n),n.init(),n;}(Nk,n);return t.autoSessionTracking&&function(){if(void 0===gk.document)return void(_k&&Xg.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));Y_({ignoreDuration:!0}),K_(),cx(({from:e,to:t})=>{void 0!==e&&e!==t&&(Y_({ignoreDuration:!0}),K_());});}(),r;}function eE(e={}){if(!gk.document)return void(_k&&Xg.error("Global document not defined in showReportDialog call"));var t=db(),n=t.getClient(),r=n&&n.getDsn();if(!r)return void(_k&&Xg.error("DSN not configured for showReportDialog call"));if(t&&(e.user={...t.getUser(),...e.user}),!e.eventId){var _t53=V_();_t53&&(e.eventId=_t53);}var i=gk.document.createElement("script");i.async=!0,i.crossOrigin="anonymous",i.src=function(e,t){var n=ty(e);if(!n)return"";var r=`${Q_(n)}embed/error-page/`;var i=`dsn=${Zg(n)}`;for(var _o16 in t)if("dsn"!==_o16&&"onClose"!==_o16)if("user"===_o16){var _e49=t.user;if(!_e49)continue;_e49.name&&(i+=`&name=${encodeURIComponent(_e49.name)}`),_e49.email&&(i+=`&email=${encodeURIComponent(_e49.email)}`);}else i+=`&${encodeURIComponent(_o16)}=${encodeURIComponent(t[_o16])}`;return`${r}?${i}`;}(r,e),e.onLoad&&(i.onload=e.onLoad);var{onClose:o}=e;if(o){var _e50=t=>{if("__sentry_reportdialog_closed__"===t.data)try{o();}finally{gk.removeEventListener("message",_e50);}};gk.addEventListener("message",_e50);}var a=gk.document.head||gk.document.body;a?a.appendChild(i):_k&&Xg.error("Not injecting report dialog. No injection point found in HTML");}var tE={replayIntegration:"replay",replayCanvasIntegration:"replay-canvas",feedbackIntegration:"feedback",feedbackModalIntegration:"feedback-modal",feedbackScreenshotIntegration:"feedback-screenshot",captureConsoleIntegration:"captureconsole",contextLinesIntegration:"contextlines",linkedErrorsIntegration:"linkederrors",debugIntegration:"debug",dedupeIntegration:"dedupe",extraErrorDataIntegration:"extraerrordata",httpClientIntegration:"httpclient",reportingObserverIntegration:"reportingobserver",rewriteFramesIntegration:"rewriteframes",sessionTimingIntegration:"sessiontiming",browserProfilingIntegration:"browserprofiling"},nE=gk;async function rE(e,t){var n=tE[e],r=nE.Sentry=nE.Sentry||{};if(!n)throw new Error(`Cannot lazy load integration: ${e}`);var i=r[e];if("function"==typeof i&&!("_isShim"in i))return i;var o=function(e){var t=mb(),n=t&&t.getOptions(),r=n&&n.cdnBaseUrl||"https://browser.sentry-cdn.com";return new URL(`/${Bg}/${e}.min.js`,r).toString();}(n),a=gk.document.createElement("script");a.src=o,a.crossOrigin="anonymous",a.referrerPolicy="origin",t&&a.setAttribute("nonce",t);var s=new Promise((e,t)=>{a.addEventListener("load",()=>e()),a.addEventListener("error",t);}),c=gk.document.currentScript,u=gk.document.body||gk.document.head||c&&c.parentElement;if(!u)throw new Error(`Could not find parent element to insert lazy-loaded ${e} script`);u.appendChild(a);try{await s;}catch(d){throw new Error(`Error when loading integration: ${e}`);}var l=r[e];if("function"!=typeof l)throw new Error(`Could not load integration: ${e}`);return l;}var iE=Fg,oE=new WeakMap(),aE=aw((e={})=>{var t=e.types||["crash","deprecation","intervention"];function n(e){if(oE.has(mb())){var _loop=function(_t54){hb(e=>{e.setExtra("url",_t54.url);var n=`ReportingObserver [${_t54.type}]`;var r="No details available";if(_t54.body){var _n49={};for(var _e51 in _t54.body)_n49[_e51]=_t54.body[_e51];if(e.setExtra("body",_n49),"crash"===_t54.type){var _e52=_t54.body;r=[_e52.crashId||"",_e52.reason||""].join(" ").trim()||r;}else{r=_t54.body.message||r;}}F_(`${n}: ${r}`);});};for(var _t54 of e){_loop(_t54);}}}return{name:"ReportingObserver",setupOnce(){if(!function(){return"ReportingObserver"in Py;}())return;new iE.ReportingObserver(n,{buffered:!0,types:t}).observe();},setup(e){oE.set(e,!0);}};}),sE=aw((e={})=>{var t={failedRequestStatusCodes:[[500,599]],failedRequestTargets:[/.*/],...e};return{name:"HttpClient",setup(e){!function(e,t){if(!Ry())return;By(n=>{if(mb()!==e)return;var{response:r,args:i}=n,[o,a]=i;r&&function(e,t,n,r){if(dE(e,n.status,n.url)){var _e53=function(e,t){if(!t&&e instanceof Request)return e;if(e instanceof Request&&e.bodyUsed)return e;return new Request(e,t);}(t,r);var _i25,_o17,_a15,_s11;pE()&&([_i25,_a15]=cE("Cookie",_e53),[_o17,_s11]=cE("Set-Cookie",n));j_(fE({url:_e53.url,method:_e53.method,status:n.status,requestHeaders:_i25,responseHeaders:_o17,requestCookies:_a15,responseCookies:_s11}));}}(t,o,r,a);});}(e,t),function(e,t){if(!("XMLHttpRequest"in Fg))return;mx(n=>{if(mb()!==e)return;var r=n.xhr,i=r[hx];if(!i)return;var{method:o,request_headers:a}=i;try{!function(e,t,n,r){if(dE(e,t.status,t.responseURL)){var _e54,_o18,_a16;if(pE()){try{var _e55=t.getResponseHeader("Set-Cookie")||t.getResponseHeader("set-cookie")||void 0;_e55&&(_o18=lE(_e55));}catch(i){_k&&Xg.log("Could not extract cookies from response headers");}try{_a16=function(e){var t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce((e,t)=>{var[n,r]=t.split(": ");return n&&r&&(e[n]=r),e;},{});}(t);}catch(i){_k&&Xg.log("Could not extract headers from response");}_e54=r;}j_(fE({url:t.responseURL,method:n,status:t.status,requestHeaders:_e54,responseHeaders:_a16,responseCookies:_o18}));}}(t,r,o,a);}catch(s){_k&&Xg.warn("Error while extracting response event form XHR response",s);}});}(e,t);}};});function cE(e,t){var n=function(e){var t={};return e.forEach((e,n)=>{t[n]=e;}),t;}(t.headers);var r;try{var _t55=n[e]||n[e.toLowerCase()]||void 0;_t55&&(r=lE(_t55));}catch(i){_k&&Xg.log(`Could not extract cookies from header ${e}`);}return[n,r];}function uE(e){if(e){var _t56=e["Content-Length"]||e["content-length"];if(_t56)return parseInt(_t56,10);}}function lE(e){return e.split("; ").reduce((e,t)=>{var[n,r]=t.split("=");return n&&r&&(e[n]=r),e;},{});}function dE(e,t,n){return function(e,t){return e.some(e=>"number"==typeof e?e===t:t>=e[0]&&t<=e[1]);}(e.failedRequestStatusCodes,t)&&function(e,t){return e.some(e=>"string"==typeof e?t.includes(e):e.test(t));}(e.failedRequestTargets,n)&&!_w(n,mb());}function fE(e){var t=`HTTP Client Error with status code: ${e.status}`,n={message:t,exception:{values:[{type:"Error",value:t}]},request:{url:e.url,method:e.method,headers:e.requestHeaders,cookies:e.requestCookies},contexts:{response:{status_code:e.status,headers:e.responseHeaders,cookies:e.responseCookies,body_size:uE(e.responseHeaders)}}};return ev(n,{type:"http.client",handled:!1}),n;}function pE(){var e=mb();return!!e&&Boolean(e.getOptions().sendDefaultPii);}var hE=Fg,mE=aw((e={})=>{var t=null!=e.frameContextLines?e.frameContextLines:7;return{name:"ContextLines",processEvent:e=>function(e,t){var n=hE.document,r=hE.location&&function(e){return e.split(/[?#]/,1)[0];}(hE.location.href);if(!n||!r)return e;var i=e.exception&&e.exception.values;if(!i||!i.length)return e;var o=n.documentElement.innerHTML;if(!o)return e;var a=["<!DOCTYPE html>","<html>",...o.split("\n"),"</html>"];return i.forEach(e=>{var n=e.stacktrace;n&&n.frames&&(n.frames=n.frames.map(e=>function(e,t,n,r){if(e.filename!==n||!e.lineno||!t.length)return e;return function(e,t,n=5){if(void 0===t.lineno)return;var r=e.length,i=Math.max(Math.min(r-1,t.lineno-1),0);t.pre_context=e.slice(Math.max(0,i-n),i).map(e=>Ig(e,0));var o=Math.min(r-1,i);t.context_line=Ig(e[o],t.colno||0),t.post_context=e.slice(Math.min(i+1,r),i+1+n).map(e=>Ig(e,0));}(t,e,r),e;}(e,a,r,t)));}),e;}(e,t)};});var gE=Fg,yE="sentryReplaySession",vE="replay_event",bE="Unable to send Replay",_E=15e4,wE=5e3,kE=2e7,SE=36e5;function xE(e,t){return null!=e?e:t();}function EE(e){var t,n=e[0],r=1;for(;r<e.length;){var _i26=e[r],_o19=e[r+1];if(r+=2,("optionalAccess"===_i26||"optionalCall"===_i26)&&null==n)return;"access"===_i26||"optionalAccess"===_i26?(t=n,n=_o19(n)):"call"!==_i26&&"optionalCall"!==_i26||(n=_o19((...e)=>n.call(t,...e)),t=void 0);}return n;}var CE;function TE(e){var t=EE([e,"optionalAccess",e=>e.host]);return Boolean(EE([t,"optionalAccess",e=>e.shadowRoot])===e);}function IE(e){return"[object ShadowRoot]"===Object.prototype.toString.call(e);}function PE(e){try{var _t57=e.rules||e.cssRules;return _t57?function(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e;}(Array.from(_t57,AE).join("")):null;}catch(t){return null;}}function AE(e){var t;if(function(e){return"styleSheet"in e;}(e))try{t=PE(e.styleSheet)||function(e){var{cssText:t}=e;if(t.split('"').length<3)return t;var n=["@import",`url(${JSON.stringify(e.href)})`];return""===e.layerName?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";";}(e);}catch(n){}else if(function(e){return"selectorText"in e;}(e)&&e.selectorText.includes(":"))return function(e){var t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2");}(e.cssText);return t||e.cssText;}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment";}(CE||(CE={}));class OE{constructor(){this.idNodeMap=new Map(),this.nodeMetaMap=new WeakMap();}getId(e){if(!e)return-1;return xE(EE([this,"access",e=>e.getMeta,"call",t=>t(e),"optionalAccess",e=>e.id]),()=>-1);}getNode(e){return this.idNodeMap.get(e)||null;}getIds(){return Array.from(this.idNodeMap.keys());}getMeta(e){return this.nodeMetaMap.get(e)||null;}removeNodeFromMap(e){var t=this.getId(e);this.idNodeMap.delete(t),e.childNodes&&e.childNodes.forEach(e=>this.removeNodeFromMap(e));}has(e){return this.idNodeMap.has(e);}hasNode(e){return this.nodeMetaMap.has(e);}add(e,t){var n=t.id;this.idNodeMap.set(n,e),this.nodeMetaMap.set(e,t);}replace(e,t){var n=this.getNode(e);if(n){var _e56=this.nodeMetaMap.get(n);_e56&&this.nodeMetaMap.set(t,_e56);}this.idNodeMap.set(e,t);}reset(){this.idNodeMap=new Map(),this.nodeMetaMap=new WeakMap();}}function RE({maskInputOptions:e,tagName:t,type:n}){return"OPTION"===t&&(t="SELECT"),Boolean(e[t.toLowerCase()]||n&&e[n]||"password"===n||"INPUT"===t&&!n&&e.text);}function ME({isMasked:e,element:t,value:n,maskInputFn:r}){var i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i;}function LE(e){return e.toLowerCase();}function NE(e){return e.toUpperCase();}var DE="__rrweb_original__";function BE(e){var t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?LE(t):null;}function FE(e,t,n){return"INPUT"!==t||"radio"!==n&&"checkbox"!==n?e.value:e.getAttribute("value")||"";}function jE(e,t){var n;try{n=new URL(e,xE(t,()=>window.location.href));}catch(fM){return null;}return xE(EE([n.pathname.match(/\.([0-9a-z]+)(?:$)/i),"optionalAccess",e=>e[1]]),()=>null);}var UE={};function $E(e){var t=UE[e];if(t)return t;var n=window.document;var r=window[e];if(n&&"function"==typeof n.createElement)try{var _t58=n.createElement("iframe");_t58.hidden=!0,n.head.appendChild(_t58);var _i27=_t58.contentWindow;_i27&&_i27[e]&&(r=_i27[e]),n.head.removeChild(_t58);}catch(i){}return UE[e]=r.bind(window);}function zE(...e){return $E("setTimeout")(...e);}function HE(...e){return $E("clearTimeout")(...e);}var qE=1;var WE=new RegExp("[^a-z0-9-_:]"),VE=-2;function GE(){return qE++;}var YE,JE;var XE=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,KE=/^(?:[a-z+]+:)?\/\//i,ZE=/^www\..*/i,QE=/^(data:)([^,]*),(.*)/i;function eC(e,t){return(e||"").replace(XE,(e,n,r,i,o,a)=>{var s=r||o||a,c=n||i||"";if(!s)return e;if(KE.test(s)||ZE.test(s))return`url(${c}${s}${c})`;if(QE.test(s))return`url(${c}${s}${c})`;if("/"===s[0])return`url(${c}${function(e){var t="";return t=e.indexOf("//")>-1?e.split("/").slice(0,3).join("/"):e.split("/")[0],t=t.split("?")[0],t;}(t)+s}${c})`;var u=t.split("/"),l=s.split("/");u.pop();for(var _t59 of l)"."!==_t59&&(".."===_t59?u.pop():u.push(_t59));return`url(${c}${u.join("/")}${c})`;});}var tC=/^[^ \t\n\r\u000c]+/,nC=/^[, \t\n\r\u000c]+/;var rC=new WeakMap();function iC(e,t){return t&&""!==t.trim()?aC(e,t):t;}function oC(e){return Boolean("svg"===e.tagName||e.ownerSVGElement);}function aC(e,t){var n=rC.get(e);if(n||(n=e.createElement("a"),rC.set(e,n)),t){if(t.startsWith("blob:")||t.startsWith("data:"))return t;}else t="";return n.setAttribute("href",t),n.href;}function sC(e,t,n,r,i,o){return r?"src"===n||"href"===n&&("use"!==t||"#"!==r[0])||"xlink:href"===n&&"#"!==r[0]?iC(e,r):"background"!==n||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n?function(e,t){if(""===t.trim())return t;var n=0;function r(e){var r;var i=e.exec(t.substring(n));return i?(r=i[0],n+=r.length,r):"";}var i=[];for(;r(nC),!(n>=t.length);){var _o20=r(tC);if(","===_o20.slice(-1))_o20=iC(e,_o20.substring(0,_o20.length-1)),i.push(_o20);else{var _r31="";_o20=iC(e,_o20);var _a17=!1;for(;;){var _e57=t.charAt(n);if(""===_e57){i.push((_o20+_r31).trim());break;}if(_a17)")"===_e57&&(_a17=!1);else{if(","===_e57){n+=1,i.push((_o20+_r31).trim());break;}"("===_e57&&(_a17=!0);}_r31+=_e57,n+=1;}}}return i.join(", ");}(e,r):"style"===n?eC(r,aC(e)):"object"===t&&"data"===n?iC(e,r):"function"==typeof o?o(n,r,i):r:iC(e,r):r;}function cC(e,t,n){return("video"===e||"audio"===e)&&"autoplay"===t;}function uC(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:uC(e.parentNode,t,n,r+1):-1;}function lC(e,t){return n=>{var r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0;}else if(function(e,t){for(var _n50=e.classList.length;_n50--;){var _r32=e.classList[_n50];if(t.test(_r32))return!0;}return!1;}(r,e))return!0;return!(!t||!r.matches(t));}catch(i){return!1;}};}function dC(e,t,n,r,i,o){try{var _a18=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(null===_a18)return!1;if("INPUT"===_a18.tagName){var _e58=_a18.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(_e58))return!0;}var _s12=-1,_c4=-1;if(o){if(_c4=uC(_a18,lC(r,i)),_c4<0)return!0;_s12=uC(_a18,lC(t,n),_c4>=0?_c4:1/0);}else{if(_s12=uC(_a18,lC(t,n)),_s12<0)return!1;_c4=uC(_a18,lC(r,i),_s12>=0?_s12:1/0);}return _s12>=0?!(_c4>=0)||_s12<=_c4:!(_c4>=0)&&!!o;}catch(a){}return!!o;}function fC(e,t){var{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:s,maskAttributeFn:c,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:h={},maskTextFn:m,maskInputFn:g,dataURLOptions:y={},inlineImages:v,recordCanvas:b,keepIframeSrcFn:_,newlyAddedElement:w=!1}=t,k=function(e,t){if(!t.hasNode(e))return;var n=t.getId(e);return 1===n?void 0:n;}(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return"CSS1Compat"!==e.compatMode?{type:CE.Document,childNodes:[],compatMode:e.compatMode}:{type:CE.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:CE.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:k};case e.ELEMENT_NODE:return function(e,t){var{doc:n,blockClass:r,blockSelector:i,unblockSelector:o,inlineStylesheet:a,maskInputOptions:s={},maskAttributeFn:c,maskInputFn:u,dataURLOptions:l={},inlineImages:d,recordCanvas:f,keepIframeSrcFn:p,newlyAddedElement:h=!1,rootId:m,maskAllText:g,maskTextClass:y,unmaskTextClass:v,maskTextSelector:b,unmaskTextSelector:_}=t,w=function(e,t,n,r){try{if(r&&e.matches(r))return!1;if("string"==typeof t){if(e.classList.contains(t))return!0;}else for(var _n51=e.classList.length;_n51--;){var _r33=e.classList[_n51];if(t.test(_r33))return!0;}if(n)return e.matches(n);}catch(i){}return!1;}(e,r,i,o),k=function(e){if(e instanceof HTMLFormElement)return"form";var t=LE(e.tagName);return WE.test(t)?"div":t;}(e);var S={};var x=e.attributes.length;for(var _T2=0;_T2<x;_T2++){var _t60=e.attributes[_T2];_t60.name&&!cC(k,_t60.name,_t60.value)&&(S[_t60.name]=sC(n,k,LE(_t60.name),_t60.value,e,c));}if("link"===k&&a){var _t61=Array.from(n.styleSheets).find(t=>t.href===e.href);var _r34=null;_t61&&(_r34=PE(_t61)),_r34&&(delete S.rel,delete S.href,S._cssText=eC(_r34,_t61.href));}if("style"===k&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){var _t62=PE(e.sheet);_t62&&(S._cssText=eC(_t62,aC(n)));}if("input"===k||"textarea"===k||"select"===k||"option"===k){var _t63=e,_n52=BE(_t63),_r35=FE(_t63,NE(k),_n52),_i28=_t63.checked;if("submit"!==_n52&&"button"!==_n52&&_r35){var _e59=dC(_t63,y,b,v,_,RE({type:_n52,tagName:NE(k),maskInputOptions:s}));S.value=ME({isMasked:_e59,element:_t63,value:_r35,maskInputFn:u});}_i28&&(S.checked=_i28);}"option"===k&&(e.selected&&!s.select?S.selected=!0:delete S.selected);if("canvas"===k&&f)if("2d"===e.__context)(function(e){var t=e.getContext("2d");if(!t)return!0;for(var _n53=0;_n53<e.width;_n53+=50)for(var _r36=0;_r36<e.height;_r36+=50){var _i29=t.getImageData,_o21=DE in _i29?_i29[DE]:_i29;if(new Uint32Array(_o21.call(t,_n53,_r36,Math.min(50,e.width-_n53),Math.min(50,e.height-_r36)).data.buffer).some(e=>0!==e))return!1;}return!0;})(e)||(S.rr_dataURL=e.toDataURL(l.type,l.quality));else if(!("__context"in e)){var _t64=e.toDataURL(l.type,l.quality),_r37=n.createElement("canvas");_r37.width=e.width,_r37.height=e.height;_t64!==_r37.toDataURL(l.type,l.quality)&&(S.rr_dataURL=_t64);}if("img"===k&&d){YE||(YE=n.createElement("canvas"),JE=YE.getContext("2d"));var _t65=e,_r38=_t65.currentSrc||_t65.getAttribute("src")||"<unknown-src>",_i30=_t65.crossOrigin,_o22=()=>{_t65.removeEventListener("load",_o22);try{YE.width=_t65.naturalWidth,YE.height=_t65.naturalHeight,JE.drawImage(_t65,0,0),S.rr_dataURL=YE.toDataURL(l.type,l.quality);}catch(fM){if("anonymous"!==_t65.crossOrigin)return _t65.crossOrigin="anonymous",void(_t65.complete&&0!==_t65.naturalWidth?_o22():_t65.addEventListener("load",_o22));console.warn(`Cannot inline img src=${_r38}! Error: ${fM}`);}"anonymous"===_t65.crossOrigin&&(_i30?S.crossOrigin=_i30:_t65.removeAttribute("crossorigin"));};_t65.complete&&0!==_t65.naturalWidth?_o22():_t65.addEventListener("load",_o22);}"audio"!==k&&"video"!==k||(S.rr_mediaState=e.paused?"paused":"played",S.rr_mediaCurrentTime=e.currentTime);h||(e.scrollLeft&&(S.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(S.rr_scrollTop=e.scrollTop));if(w){var{width:_t66,height:_n54}=e.getBoundingClientRect();S={class:S.class,rr_width:`${_t66}px`,rr_height:`${_n54}px`};}"iframe"!==k||p(S.src)||(w||e.contentDocument||(S.rr_src=S.src),delete S.src);var E;try{customElements.get(k)&&(E=!0);}catch(C){}return{type:CE.Element,tagName:k,attributes:S,childNodes:[],isSVG:oC(e)||void 0,needBlock:w,rootId:m,isCustom:E};}(e,{doc:n,blockClass:i,blockSelector:o,unblockSelector:a,inlineStylesheet:p,maskAttributeFn:c,maskInputOptions:h,maskInputFn:g,dataURLOptions:y,inlineImages:v,recordCanvas:b,keepIframeSrcFn:_,newlyAddedElement:w,rootId:k,maskAllText:s,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f});case e.TEXT_NODE:return function(e,t){var{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:o,unmaskTextSelector:a,maskTextFn:s,maskInputOptions:c,maskInputFn:u,rootId:l}=t,d=e.parentNode&&e.parentNode.tagName;var f=e.textContent;var p="STYLE"===d||void 0,h="SCRIPT"===d||void 0,m="TEXTAREA"===d||void 0;if(p&&f){try{e.nextSibling||e.previousSibling||EE([e,"access",e=>e.parentNode,"access",e=>e.sheet,"optionalAccess",e=>e.cssRules])&&(f=PE(e.parentNode.sheet));}catch(fM){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${fM}`,e);}f=eC(f,aC(t.doc));}h&&(f="SCRIPT_PLACEHOLDER");var g=dC(e,r,o,i,a,n);p||h||m||!f||!g||(f=s?s(f,e.parentElement):f.replace(/[\S]/g,"*"));m&&f&&(c.textarea||g)&&(f=u?u(f,e.parentNode):f.replace(/[\S]/g,"*"));if("OPTION"===d&&f){f=ME({isMasked:dC(e,r,o,i,a,RE({type:null,tagName:d,maskInputOptions:c})),element:e,value:f,maskInputFn:u});}return{type:CE.Text,textContent:f||"",isStyle:p,rootId:l};}(e,{doc:n,maskAllText:s,maskTextClass:u,unmaskTextClass:l,maskTextSelector:d,unmaskTextSelector:f,maskTextFn:m,maskInputOptions:h,maskInputFn:g,rootId:k});case e.CDATA_SECTION_NODE:return{type:CE.CDATA,textContent:"",rootId:k};case e.COMMENT_NODE:return{type:CE.Comment,textContent:e.textContent||"",rootId:k};default:return!1;}}function pC(e){return null==e?"":e.toLowerCase();}function hC(e,t){var{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f=!1,inlineStylesheet:p=!0,maskInputOptions:h={},maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:b={},inlineImages:_=!1,recordCanvas:w=!1,onSerialize:k,onIframeLoad:S,iframeLoadTimeout:x=5e3,onStylesheetLoad:E,stylesheetLoadTimeout:C=5e3,keepIframeSrcFn:T=()=>!1,newlyAddedElement:I=!1}=t;var{preserveWhiteSpace:P=!0}=t;var A=fC(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:s,unblockSelector:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,dataURLOptions:b,inlineImages:_,recordCanvas:w,keepIframeSrcFn:T,newlyAddedElement:I});if(!A)return console.warn(e,"not serialized"),null;var O;O=r.hasNode(e)?r.getId(e):!function(e,t){if(t.comment&&e.type===CE.Comment)return!0;if(e.type===CE.Element){if(t.script&&("script"===e.tagName||"link"===e.tagName&&("preload"===e.attributes.rel||"modulepreload"===e.attributes.rel)&&"script"===e.attributes.as||"link"===e.tagName&&"prefetch"===e.attributes.rel&&"string"==typeof e.attributes.href&&"js"===jE(e.attributes.href)))return!0;if(t.headFavicon&&("link"===e.tagName&&"shortcut icon"===e.attributes.rel||"meta"===e.tagName&&(pC(e.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===pC(e.attributes.name)||"icon"===pC(e.attributes.rel)||"apple-touch-icon"===pC(e.attributes.rel)||"shortcut icon"===pC(e.attributes.rel))))return!0;if("meta"===e.tagName){if(t.headMetaDescKeywords&&pC(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(pC(e.attributes.property).match(/^(og|twitter|fb):/)||pC(e.attributes.name).match(/^(og|twitter):/)||"pinterest"===pC(e.attributes.name)))return!0;if(t.headMetaRobots&&("robots"===pC(e.attributes.name)||"googlebot"===pC(e.attributes.name)||"bingbot"===pC(e.attributes.name)))return!0;if(t.headMetaHttpEquiv&&void 0!==e.attributes["http-equiv"])return!0;if(t.headMetaAuthorship&&("author"===pC(e.attributes.name)||"generator"===pC(e.attributes.name)||"framework"===pC(e.attributes.name)||"publisher"===pC(e.attributes.name)||"progid"===pC(e.attributes.name)||pC(e.attributes.property).match(/^article:/)||pC(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&("google-site-verification"===pC(e.attributes.name)||"yandex-verification"===pC(e.attributes.name)||"csrf-token"===pC(e.attributes.name)||"p:domain_verify"===pC(e.attributes.name)||"verify-v1"===pC(e.attributes.name)||"verification"===pC(e.attributes.name)||"shopify-checkout-api-token"===pC(e.attributes.name)))return!0;}}return!1;}(A,v)&&(P||A.type!==CE.Text||A.isStyle||A.textContent.replace(/^\s+|\s+$/gm,"").length)?GE():VE;var R=Object.assign(A,{id:O});if(r.add(e,R),O===VE)return null;k&&k(e);var M=!f;if(R.type===CE.Element){M=M&&!R.needBlock,delete R.needBlock;var _t67=e.shadowRoot;_t67&&IE(_t67)&&(R.isShadowHost=!0);}if((R.type===CE.Document||R.type===CE.Element)&&M){v.headWhitespace&&R.type===CE.Element&&"head"===R.tagName&&(P=!1);var _t68={doc:n,mirror:r,blockClass:i,blockSelector:o,maskAllText:s,unblockSelector:a,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:f,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:b,inlineImages:_,recordCanvas:w,preserveWhiteSpace:P,onSerialize:k,onIframeLoad:S,iframeLoadTimeout:x,onStylesheetLoad:E,stylesheetLoadTimeout:C,keepIframeSrcFn:T};for(var _n55 of Array.from(e.childNodes)){var _e60=hC(_n55,_t68);_e60&&R.childNodes.push(_e60);}if(function(e){return e.nodeType===e.ELEMENT_NODE;}(e)&&e.shadowRoot)for(var _n56 of Array.from(e.shadowRoot.childNodes)){var _r39=hC(_n56,_t68);_r39&&(IE(e.shadowRoot)&&(_r39.isShadow=!0),R.childNodes.push(_r39));}}return e.parentNode&&TE(e.parentNode)&&IE(e.parentNode)&&(R.isShadow=!0),R.type===CE.Element&&"iframe"===R.tagName&&function(e,t,n){var r=e.contentWindow;if(!r)return;var i,o=!1;try{i=r.document.readyState;}catch(s){return;}if("complete"!==i){var _r40=zE(()=>{o||(t(),o=!0);},n);return void e.addEventListener("load",()=>{HE(_r40),o=!0,t();});}var a="about:blank";if(r.location.href!==a||e.src===a||""===e.src)return zE(t,0),e.addEventListener("load",t);e.addEventListener("load",t);}(e,()=>{var t=e.contentDocument;if(t&&S){var _n57=hC(t,{doc:t,mirror:r,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:b,inlineImages:_,recordCanvas:w,preserveWhiteSpace:P,onSerialize:k,onIframeLoad:S,iframeLoadTimeout:x,onStylesheetLoad:E,stylesheetLoadTimeout:C,keepIframeSrcFn:T});_n57&&S(e,_n57);}},x),R.type===CE.Element&&"link"===R.tagName&&"string"==typeof R.attributes.rel&&("stylesheet"===R.attributes.rel||"preload"===R.attributes.rel&&"string"==typeof R.attributes.href&&"css"===jE(R.attributes.href))&&function(e,t,n){var r,i=!1;try{r=e.sheet;}catch(a){return;}if(r)return;var o=zE(()=>{i||(t(),i=!0);},n);e.addEventListener("load",()=>{HE(o),i=!0,t();});}(e,()=>{if(E){var _t69=hC(e,{doc:n,mirror:r,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:s,maskTextClass:c,unmaskTextClass:u,maskTextSelector:l,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:p,maskInputOptions:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:v,dataURLOptions:b,inlineImages:_,recordCanvas:w,preserveWhiteSpace:P,onSerialize:k,onIframeLoad:S,iframeLoadTimeout:x,onStylesheetLoad:E,stylesheetLoadTimeout:C,keepIframeSrcFn:T});_t69&&E(e,_t69);}},C),R;}function mC(e){var t,n=e[0],r=1;for(;r<e.length;){var _i31=e[r],_o23=e[r+1];if(r+=2,("optionalAccess"===_i31||"optionalCall"===_i31)&&null==n)return;"access"===_i31||"optionalAccess"===_i31?(t=n,n=_o23(n)):"call"!==_i31&&"optionalCall"!==_i31||(n=_o23((...e)=>n.call(t,...e)),t=void 0);}return n;}function gC(e,t,n=document){var r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r);}var yC="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";var vC={map:{},getId:()=>(console.error(yC),-1),getNode:()=>(console.error(yC),null),removeNodeFromMap(){console.error(yC);},has:()=>(console.error(yC),!1),reset(){console.error(yC);}};function bC(e,t,n={}){var r=null,i=0;return function(...o){var a=Date.now();i||!1!==n.leading||(i=a);var s=t-(a-i),c=this;s<=0||s>t?(r&&(!function(...e){jC("clearTimeout")(...e);}(r),r=null),i=a,e.apply(c,o)):r||!1===n.trailing||(r=UC(()=>{i=!1===n.leading?0:Date.now(),r=null,e.apply(c,o);},s));};}function _C(e,t,n,r,i=window){var o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(e){UC(()=>{n.set.call(this,e);},0),o&&o.set&&o.set.call(this,e);}}),()=>_C(e,t,o||{},!0);}function wC(e,t,n){try{if(!(t in e))return()=>{};var _r41=e[t],_i32=n(_r41);return"function"==typeof _i32&&(_i32.prototype=_i32.prototype||{},Object.defineProperties(_i32,{__rrweb_original__:{enumerable:!1,value:_r41}})),e[t]=_i32,()=>{e[t]=_r41;};}catch(r){return()=>{};}}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(vC=new Proxy(vC,{get:(e,t,n)=>("map"===t&&console.error(yC),Reflect.get(e,t,n))}));var kC=Date.now;function SC(e){var t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:void 0!==e.pageXOffset?e.pageXOffset:mC([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollLeft])||mC([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollLeft])||mC([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollLeft])||0,top:t.scrollingElement?t.scrollingElement.scrollTop:void 0!==e.pageYOffset?e.pageYOffset:mC([t,"optionalAccess",e=>e.documentElement,"access",e=>e.scrollTop])||mC([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.parentElement,"optionalAccess",e=>e.scrollTop])||mC([t,"optionalAccess",e=>e.body,"optionalAccess",e=>e.scrollTop])||0};}function xC(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight;}function EC(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth;}function CC(e){if(!e)return null;return e.nodeType===e.ELEMENT_NODE?e:e.parentElement;}function TC(e,t,n,r,i){if(!e)return!1;var o=CC(e);if(!o)return!1;var a=lC(t,n);if(!i){var _e61=r&&o.matches(r);return a(o)&&!_e61;}var s=uC(o,a);var c=-1;return!(s<0)&&(r&&(c=uC(o,lC(null,r))),s>-1&&c<0||s<c);}function IC(e,t){return t.getId(e)===VE;}function PC(e,t){if(TE(e))return!1;var n=t.getId(e);return!t.has(n)||(!e.parentNode||e.parentNode.nodeType!==e.DOCUMENT_NODE)&&(!e.parentNode||PC(e.parentNode,t));}function AC(e){return Boolean(e.changedTouches);}function OC(e,t){return Boolean("IFRAME"===e.nodeName&&t.getMeta(e));}function RC(e,t){return Boolean("LINK"===e.nodeName&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&"stylesheet"===e.getAttribute("rel")&&t.getMeta(e));}function MC(e){return Boolean(mC([e,"optionalAccess",e=>e.shadowRoot]));}/[1-9][0-9]{12}/.test(Date.now().toString())||(kC=()=>new Date().getTime());class LC{constructor(){this.id=1,this.styleIDMap=new WeakMap(),this.idStyleMap=new Map();}getId(e){return function(e,t){return null!=e?e:t();}(this.styleIDMap.get(e),()=>-1);}has(e){return this.styleIDMap.has(e);}add(e,t){if(this.has(e))return this.getId(e);var n;return n=void 0===t?this.id++:t,this.styleIDMap.set(e,n),this.idStyleMap.set(n,e),n;}getStyle(e){return this.idStyleMap.get(e)||null;}reset(){this.styleIDMap=new WeakMap(),this.idStyleMap=new Map(),this.id=1;}generateId(){return this.id++;}}function NC(e){var t=null;return mC([e,"access",e=>e.getRootNode,"optionalCall",e=>e(),"optionalAccess",e=>e.nodeType])===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t;}function DC(e){var t=e.ownerDocument;if(!t)return!1;var n=function(e){var t,n=e;for(;t=NC(n);)n=t;return n;}(e);return t.contains(n);}function BC(e){var t=e.ownerDocument;return!!t&&(t.contains(e)||DC(e));}var FC={};function jC(e){var t=FC[e];if(t)return t;var n=window.document;var r=window[e];if(n&&"function"==typeof n.createElement)try{var _t70=n.createElement("iframe");_t70.hidden=!0,n.head.appendChild(_t70);var _i33=_t70.contentWindow;_i33&&_i33[e]&&(r=_i33[e]),n.head.removeChild(_t70);}catch(i){}return FC[e]=r.bind(window);}function UC(...e){return jC("setTimeout")(...e);}var $C=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))($C||{}),zC=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(zC||{}),HC=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(HC||{}),qC=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(qC||{});function WC(e){var t,n=e[0],r=1;for(;r<e.length;){var _i34=e[r],_o24=e[r+1];if(r+=2,("optionalAccess"===_i34||"optionalCall"===_i34)&&null==n)return;"access"===_i34||"optionalAccess"===_i34?(t=n,n=_o24(n)):"call"!==_i34&&"optionalCall"!==_i34||(n=_o24((...e)=>n.call(t,...e)),t=void 0);}return n;}function VC(e){return"__ln"in e;}class GC{constructor(){this.length=0,this.head=null,this.tail=null;}get(e){if(e>=this.length)throw new Error("Position outside of list range");var t=this.head;for(var _n58=0;_n58<e;_n58++)t=WC([t,"optionalAccess",e=>e.next])||null;return t;}addNode(e){var t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&VC(e.previousSibling)){var _n59=e.previousSibling.__ln.next;t.next=_n59,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,_n59&&(_n59.previous=t);}else if(e.nextSibling&&VC(e.nextSibling)&&e.nextSibling.__ln.previous){var _n60=e.nextSibling.__ln.previous;t.previous=_n60,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,_n60&&(_n60.next=t);}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;null===t.next&&(this.tail=t),this.length++;}removeNode(e){var t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next?t.next.previous=t.previous:this.tail=t.previous):(this.head=t.next,this.head?this.head.previous=null:this.tail=null),e.__ln&&delete e.__ln,this.length--);}}var YC=(e,t)=>`${e}@${t}`;class JC{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap(),this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set(),this.movedSet=new Set(),this.droppedSet=new Set(),this.processMutations=e=>{e.forEach(this.processMutation),this.emit();},this.emit=()=>{if(this.frozen||this.locked)return;var e=[],t=new Set(),n=new GC(),r=e=>{var t=e,n=VE;for(;n===VE;)t=t&&t.nextSibling,n=t&&this.mirror.getId(t);return n;},i=i=>{if(!i.parentNode||!BC(i))return;var o=TE(i.parentNode)?this.mirror.getId(NC(i)):this.mirror.getId(i.parentNode),a=r(i);if(-1===o||-1===a)return n.addNode(i);var s=hC(i,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:e=>{OC(e,this.mirror)&&!TC(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(e),RC(e,this.mirror)&&this.stylesheetManager.trackLinkElement(e),MC(i)&&this.shadowDomManager.addShadowRoot(i.shadowRoot,this.doc);},onIframeLoad:(e,t)=>{TC(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(e,t),e.contentWindow&&this.canvasManager.addWindow(e.contentWindow),this.shadowDomManager.observeAttachShadow(e));},onStylesheetLoad:(e,t)=>{this.stylesheetManager.attachLinkElement(e,t);}});s&&(e.push({parentId:o,nextId:a,node:s}),t.add(s.id));};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(var _s13 of this.movedSet)KC(this.removes,_s13,this.mirror)&&!this.movedSet.has(_s13.parentNode)||i(_s13);for(var _s14 of this.addedSet)ZC(this.droppedSet,_s14)||KC(this.removes,_s14,this.mirror)?ZC(this.movedSet,_s14)?i(_s14):this.droppedSet.add(_s14):i(_s14);var o=null;for(;n.length;){var _e62=null;if(o){var _t71=this.mirror.getId(o.value.parentNode),_n61=r(o.value);-1!==_t71&&-1!==_n61&&(_e62=o);}if(!_e62){var _t72=n.tail;for(;_t72;){var _n62=_t72;if(_t72=_t72.previous,_n62){var _t73=this.mirror.getId(_n62.value.parentNode);if(-1===r(_n62.value))continue;if(-1!==_t73){_e62=_n62;break;}{var _t74=_n62.value;if(_t74.parentNode&&_t74.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){var _r42=_t74.parentNode.host;if(-1!==this.mirror.getId(_r42)){_e62=_n62;break;}}}}}}if(!_e62){for(;n.head;)n.removeNode(n.head.value);break;}o=_e62.previous,n.removeNode(_e62.value),i(_e62.value);}var a={texts:this.texts.map(e=>({id:this.mirror.getId(e.node),value:e.value})).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),attributes:this.attributes.map(e=>{var{attributes:t}=e;if("string"==typeof t.style){var _n63=JSON.stringify(e.styleDiff),_r43=JSON.stringify(e._unchangedStyles);_n63.length<t.style.length&&(_n63+_r43).split("var(").length===t.style.split("var(").length&&(t.style=e.styleDiff);}return{id:this.mirror.getId(e.node),attributes:t};}).filter(e=>!t.has(e.id)).filter(e=>this.mirror.has(e.id)),removes:this.removes,adds:e};(a.texts.length||a.attributes.length||a.removes.length||a.adds.length)&&(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap(),this.removes=[],this.addedSet=new Set(),this.movedSet=new Set(),this.droppedSet=new Set(),this.movedMap={},this.mutationCb(a));},this.processMutation=e=>{if(!IC(e.target,this.mirror))switch(e.type){case"characterData":{var _t75=e.target.textContent;TC(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||_t75===e.oldValue||this.texts.push({value:dC(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&_t75?this.maskTextFn?this.maskTextFn(_t75,CC(e.target)):_t75.replace(/[\S]/g,"*"):_t75,node:e.target});break;}case"attributes":{var _n64=e.target;var _r44=e.attributeName,_i35=e.target.getAttribute(_r44);if("value"===_r44){var _t76=BE(_n64),_r45=_n64.tagName;_i35=FE(_n64,_r45,_t76);var _o25=RE({maskInputOptions:this.maskInputOptions,tagName:_r45,type:_t76});_i35=ME({isMasked:dC(e.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,_o25),element:_n64,value:_i35,maskInputFn:this.maskInputFn});}if(TC(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||_i35===e.oldValue)return;var _o26=this.attributeMap.get(e.target);if("IFRAME"===_n64.tagName&&"src"===_r44&&!this.keepIframeSrcFn(_i35)){if(_n64.contentDocument)return;_r44="rr_src";}if(_o26||(_o26={node:e.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(_o26),this.attributeMap.set(e.target,_o26)),"type"===_r44&&"INPUT"===_n64.tagName&&"password"===(e.oldValue||"").toLowerCase()&&_n64.setAttribute("data-rr-is-password","true"),!cC(_n64.tagName,_r44)&&(_o26.attributes[_r44]=sC(this.doc,LE(_n64.tagName),LE(_r44),_i35,_n64,this.maskAttributeFn),"style"===_r44)){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument();}catch(t){this.unattachedDoc=this.doc;}var _r46=this.unattachedDoc.createElement("span");e.oldValue&&_r46.setAttribute("style",e.oldValue);for(var _e63 of Array.from(_n64.style)){var _t77=_n64.style.getPropertyValue(_e63),_i36=_n64.style.getPropertyPriority(_e63);_t77!==_r46.style.getPropertyValue(_e63)||_i36!==_r46.style.getPropertyPriority(_e63)?_o26.styleDiff[_e63]=""===_i36?_t77:[_t77,_i36]:_o26._unchangedStyles[_e63]=[_t77,_i36];}for(var _e64 of Array.from(_r46.style))""===_n64.style.getPropertyValue(_e64)&&(_o26.styleDiff[_e64]=!1);}break;}case"childList":if(TC(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;e.addedNodes.forEach(t=>this.genAdds(t,e.target)),e.removedNodes.forEach(t=>{var n=this.mirror.getId(t),r=TE(e.target)?this.mirror.getId(e.target.host):this.mirror.getId(e.target);TC(e.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||IC(t,this.mirror)||!function(e,t){return-1!==t.getId(e);}(t,this.mirror)||(this.addedSet.has(t)?(XC(this.addedSet,t),this.droppedSet.add(t)):this.addedSet.has(e.target)&&-1===n||PC(e.target,this.mirror)||(this.movedSet.has(t)&&this.movedMap[YC(n,r)]?XC(this.movedSet,t):this.removes.push({parentId:r,id:n,isShadow:!(!TE(e.target)||!IE(e.target))||void 0})),this.mapRemoves.push(t));});}},this.genAdds=(e,t)=>{if(!this.processedNodeManager.inOtherBuffer(e,this)&&!this.addedSet.has(e)&&!this.movedSet.has(e)){if(this.mirror.hasNode(e)){if(IC(e,this.mirror))return;this.movedSet.add(e);var _n65=null;t&&this.mirror.hasNode(t)&&(_n65=this.mirror.getId(t)),_n65&&-1!==_n65&&(this.movedMap[YC(this.mirror.getId(e),_n65)]=!0);}else this.addedSet.add(e),this.droppedSet.delete(e);TC(e,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(e.childNodes.forEach(e=>this.genAdds(e)),MC(e)&&e.shadowRoot.childNodes.forEach(t=>{this.processedNodeManager.add(t,this),this.genAdds(t,e);}));}};}init(e){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(t=>{this[t]=e[t];});}freeze(){this.frozen=!0,this.canvasManager.freeze();}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit();}isFrozen(){return this.frozen;}lock(){this.locked=!0,this.canvasManager.lock();}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit();}reset(){this.shadowDomManager.reset(),this.canvasManager.reset();}}function XC(e,t){e.delete(t),t.childNodes.forEach(t=>XC(e,t));}function KC(e,t,n){return 0!==e.length&&function(e,t,n){var r=t.parentNode;var _loop2=function(){var t=n.getId(r);if(e.some(e=>e.id===t))return{v:!0};r=r.parentNode;},_ret;for(;r;){_ret=_loop2();if(_ret)return _ret.v;}return!1;}(e,t,n);}function ZC(e,t){return 0!==e.size&&QC(e,t);}function QC(e,t){var{parentNode:n}=t;return!!n&&(!!e.has(n)||QC(e,n));}var eT;var tT=e=>{if(!eT)return e;return(...t)=>{try{return e(...t);}catch(n){if(eT&&!0===eT(n))return()=>{};throw n;}};};function nT(e){var t,n=e[0],r=1;for(;r<e.length;){var _i37=e[r],_o27=e[r+1];if(r+=2,("optionalAccess"===_i37||"optionalCall"===_i37)&&null==n)return;"access"===_i37||"optionalAccess"===_i37?(t=n,n=_o27(n)):"call"!==_i37&&"optionalCall"!==_i37||(n=_o27((...e)=>n.call(t,...e)),t=void 0);}return n;}var rT=[];function iT(e){try{if("composedPath"in e){var _t78=e.composedPath();if(_t78.length)return _t78[0];}else if("path"in e&&e.path.length)return e.path[0];}catch(t){}return e&&e.target;}function oT(e,t){var n=new JC();rT.push(n),n.init(e);var r=window.MutationObserver||window.__rrMutationObserver;var i=nT([window,"optionalAccess",e=>e.Zone,"optionalAccess",e=>e.__symbol__,"optionalCall",e=>e("MutationObserver")]);i&&window[i]&&(r=window[i]);var o=new r(tT(t=>{e.onMutation&&!1===e.onMutation(t)||n.processMutations.bind(n)(t);}));return o.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),o;}function aT({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:a}){if(!1===a.mouseInteraction)return()=>{};var s=!0===a.mouseInteraction||void 0===a.mouseInteraction?{}:a.mouseInteraction,c=[];var u=null;return Object.keys(HC).filter(e=>Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==s[e]).forEach(a=>{var s=LE(a);var l=(t=>a=>{var s=iT(a);if(TC(s,r,i,o,!0))return;var c=null,l=t;if("pointerType"in a){switch(a.pointerType){case"mouse":c=qC.Mouse;break;case"touch":c=qC.Touch;break;case"pen":c=qC.Pen;}c===qC.Touch?HC[t]===HC.MouseDown?l="TouchStart":HC[t]===HC.MouseUp&&(l="TouchEnd"):qC.Pen;}else AC(a)&&(c=qC.Touch);null!==c?(u=c,(l.startsWith("Touch")&&c===qC.Touch||l.startsWith("Mouse")&&c===qC.Mouse)&&(c=null)):HC[t]===HC.Click&&(c=u,u=null);var d=AC(a)?a.changedTouches[0]:a;if(!d)return;var f=n.getId(s),{clientX:p,clientY:h}=d;tT(e)({type:HC[l],id:f,x:p,y:h,...(null!==c&&{pointerType:c})});})(a);if(window.PointerEvent)switch(HC[a]){case HC.MouseDown:case HC.MouseUp:s=s.replace("mouse","pointer");break;case HC.TouchStart:case HC.TouchEnd:return;}c.push(gC(s,l,t));}),tT(()=>{c.forEach(e=>e());});}function sT({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,sampling:a}){return gC("scroll",tT(bC(tT(a=>{var s=iT(a);if(!s||TC(s,r,i,o,!0))return;var c=n.getId(s);if(s===t&&t.defaultView){var _n66=SC(t.defaultView);e({id:c,x:_n66.left,y:_n66.top});}else e({id:c,x:s.scrollLeft,y:s.scrollTop});}),a.scroll||100)),t);}var cT=["INPUT","TEXTAREA","SELECT"],uT=new WeakMap();function lT({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,ignoreClass:a,ignoreSelector:s,maskInputOptions:c,maskInputFn:u,sampling:l,userTriggeredOnInput:d,maskTextClass:f,unmaskTextClass:p,maskTextSelector:h,unmaskTextSelector:m}){function g(e){var n=iT(e);var l=e.isTrusted,g=n&&NE(n.tagName);if("OPTION"===g&&(n=n.parentElement),!n||!g||cT.indexOf(g)<0||TC(n,r,i,o,!0))return;var v=n;if(v.classList.contains(a)||s&&v.matches(s))return;var b=BE(n);var _=FE(v,g,b),w=!1;var k=RE({maskInputOptions:c,tagName:g,type:b}),S=dC(n,f,h,p,m,k);"radio"!==b&&"checkbox"!==b||(w=n.checked),_=ME({isMasked:S,element:n,value:_,maskInputFn:u}),y(n,d?{text:_,isChecked:w,userTriggered:l}:{text:_,isChecked:w});var x=n.name;"radio"===b&&x&&w&&t.querySelectorAll(`input[type="radio"][name="${x}"]`).forEach(e=>{if(e!==n){var _t79=ME({isMasked:S,element:e,value:FE(e,g,b),maskInputFn:u});y(e,d?{text:_t79,isChecked:!w,userTriggered:!1}:{text:_t79,isChecked:!w});}});}function y(t,r){var i=uT.get(t);if(!i||i.text!==r.text||i.isChecked!==r.isChecked){uT.set(t,r);var _i38=n.getId(t);tT(e)({...r,id:_i38});}}var v=("last"===l.input?["change"]:["input","change"]).map(e=>gC(e,tT(g),t)),b=t.defaultView;if(!b)return()=>{v.forEach(e=>e());};var _=b.Object.getOwnPropertyDescriptor(b.HTMLInputElement.prototype,"value"),w=[[b.HTMLInputElement.prototype,"value"],[b.HTMLInputElement.prototype,"checked"],[b.HTMLSelectElement.prototype,"value"],[b.HTMLTextAreaElement.prototype,"value"],[b.HTMLSelectElement.prototype,"selectedIndex"],[b.HTMLOptionElement.prototype,"selected"]];return _&&_.set&&v.push(...w.map(e=>_C(e[0],e[1],{set(){tT(g)({target:this,isTrusted:!1});}},!1,b))),tT(()=>{v.forEach(e=>e());});}function dT(e){return function(e,t){if(mT("CSSGroupingRule")&&e.parentRule instanceof CSSGroupingRule||mT("CSSMediaRule")&&e.parentRule instanceof CSSMediaRule||mT("CSSSupportsRule")&&e.parentRule instanceof CSSSupportsRule||mT("CSSConditionRule")&&e.parentRule instanceof CSSConditionRule){var _n67=Array.from(e.parentRule.cssRules).indexOf(e);t.unshift(_n67);}else if(e.parentStyleSheet){var _n68=Array.from(e.parentStyleSheet.cssRules).indexOf(e);t.unshift(_n68);}return t;}(e,[]);}function fT(e,t,n){var r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{};}function pT({mirror:e,stylesheetManager:t},n){var r=null;r="#document"===n.nodeName?e.getId(n):e.getId(n.host);var i="#document"===n.nodeName?nT([n,"access",e=>e.defaultView,"optionalAccess",e=>e.Document]):nT([n,"access",e=>e.ownerDocument,"optionalAccess",e=>e.defaultView,"optionalAccess",e=>e.ShadowRoot]),o=nT([i,"optionalAccess",e=>e.prototype])?Object.getOwnPropertyDescriptor(nT([i,"optionalAccess",e=>e.prototype]),"adoptedStyleSheets"):void 0;return null!==r&&-1!==r&&i&&o?(Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get(){return nT([o,"access",e=>e.get,"optionalAccess",e=>e.call,"call",e=>e(this)]);},set(e){var n=nT([o,"access",e=>e.set,"optionalAccess",e=>e.call,"call",t=>t(this,e)]);if(null!==r&&-1!==r)try{t.adoptStyleSheets(e,r);}catch(i){}return n;}}),tT(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:o.configurable,enumerable:o.enumerable,get:o.get,set:o.set});})):()=>{};}function hT(e,t={}){var n=e.doc.defaultView;if(!n)return()=>{};var r;e.recordDOM&&(r=oT(e,e.doc));var i=function({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(!1===t.mousemove)return()=>{};var i="number"==typeof t.mousemove?t.mousemove:50,o="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500;var a,s=[];var c=bC(tT(t=>{var n=Date.now()-a;e(s.map(e=>(e.timeOffset-=n,e)),t),s=[],a=null;}),o),u=tT(bC(tT(e=>{var t=iT(e),{clientX:n,clientY:i}=AC(e)?e.changedTouches[0]:e;a||(a=kC()),s.push({x:n,y:i,id:r.getId(t),timeOffset:kC()-a}),c("undefined"!=typeof DragEvent&&e instanceof DragEvent?zC.Drag:e instanceof MouseEvent?zC.MouseMove:zC.TouchMove);}),i,{trailing:!1})),l=[gC("mousemove",u,n),gC("touchmove",u,n),gC("drag",u,n)];return tT(()=>{l.forEach(e=>e());});}(e),o=aT(e),a=sT(e),s=function({viewportResizeCb:e},{win:t}){var n=-1,r=-1;return gC("resize",tT(bC(tT(()=>{var t=xC(),i=EC();n===t&&r===i||(e({width:Number(i),height:Number(t)}),n=t,r=i);}),200)),t);}(e,{win:n}),c=lT(e),u=function({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:o,doc:a}){var s=tT(a=>bC(tT(o=>{var s=iT(o);if(!s||TC(s,t,n,r,!0))return;var{currentTime:c,volume:u,muted:l,playbackRate:d}=s;e({type:a,id:i.getId(s),currentTime:c,volume:u,muted:l,playbackRate:d});}),o.media||500)),c=[gC("play",s(0),a),gC("pause",s(1),a),gC("seeked",s(2),a),gC("volumechange",s(3),a),gC("ratechange",s(4),a)];return tT(()=>{c.forEach(e=>e());});}(e);var l=()=>{},d=()=>{},f=()=>{},p=()=>{};e.recordDOM&&(l=function({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};var i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:tT((r,i,o)=>{var[a,s]=o,{id:c,styleId:u}=fT(i,t,n.styleMirror);return(c&&-1!==c||u&&-1!==u)&&e({id:c,styleId:u,adds:[{rule:a,index:s}]}),r.apply(i,o);})});var o=r.CSSStyleSheet.prototype.deleteRule;var a,s;r.CSSStyleSheet.prototype.deleteRule=new Proxy(o,{apply:tT((r,i,o)=>{var[a]=o,{id:s,styleId:c}=fT(i,t,n.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,removes:[{index:a}]}),r.apply(i,o);})}),r.CSSStyleSheet.prototype.replace&&(a=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(a,{apply:tT((r,i,o)=>{var[a]=o,{id:s,styleId:c}=fT(i,t,n.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,replace:a}),r.apply(i,o);})})),r.CSSStyleSheet.prototype.replaceSync&&(s=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(s,{apply:tT((r,i,o)=>{var[a]=o,{id:s,styleId:c}=fT(i,t,n.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,replaceSync:a}),r.apply(i,o);})}));var c={};gT("CSSGroupingRule")?c.CSSGroupingRule=r.CSSGroupingRule:(gT("CSSMediaRule")&&(c.CSSMediaRule=r.CSSMediaRule),gT("CSSConditionRule")&&(c.CSSConditionRule=r.CSSConditionRule),gT("CSSSupportsRule")&&(c.CSSSupportsRule=r.CSSSupportsRule));var u={};return Object.entries(c).forEach(([r,i])=>{u[r]={insertRule:i.prototype.insertRule,deleteRule:i.prototype.deleteRule},i.prototype.insertRule=new Proxy(u[r].insertRule,{apply:tT((r,i,o)=>{var[a,s]=o,{id:c,styleId:u}=fT(i.parentStyleSheet,t,n.styleMirror);return(c&&-1!==c||u&&-1!==u)&&e({id:c,styleId:u,adds:[{rule:a,index:[...dT(i),s||0]}]}),r.apply(i,o);})}),i.prototype.deleteRule=new Proxy(u[r].deleteRule,{apply:tT((r,i,o)=>{var[a]=o,{id:s,styleId:c}=fT(i.parentStyleSheet,t,n.styleMirror);return(s&&-1!==s||c&&-1!==c)&&e({id:s,styleId:c,removes:[{index:[...dT(i),a]}]}),r.apply(i,o);})});}),tT(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=o,a&&(r.CSSStyleSheet.prototype.replace=a),s&&(r.CSSStyleSheet.prototype.replaceSync=s),Object.entries(c).forEach(([e,t])=>{t.prototype.insertRule=u[e].insertRule,t.prototype.deleteRule=u[e].deleteRule;});});}(e,{win:n}),d=pT(e,e.doc),f=function({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){var o=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(o,{apply:tT((i,a,s)=>{var[c,u,l]=s;if(n.has(c))return o.apply(a,[c,u,l]);var{id:d,styleId:f}=fT(nT([a,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(d&&-1!==d||f&&-1!==f)&&e({id:d,styleId:f,set:{property:c,value:u,priority:l},index:dT(a.parentRule)}),i.apply(a,s);})});var a=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(a,{apply:tT((i,o,s)=>{var[c]=s;if(n.has(c))return a.apply(o,[c]);var{id:u,styleId:l}=fT(nT([o,"access",e=>e.parentRule,"optionalAccess",e=>e.parentStyleSheet]),t,r.styleMirror);return(u&&-1!==u||l&&-1!==l)&&e({id:u,styleId:l,remove:{property:c},index:dT(o.parentRule)}),i.apply(o,s);})}),tT(()=>{i.CSSStyleDeclaration.prototype.setProperty=o,i.CSSStyleDeclaration.prototype.removeProperty=a;});}(e,{win:n}),e.collectFonts&&(p=function({fontCb:e,doc:t}){var n=t.defaultView;if(!n)return()=>{};var r=[],i=new WeakMap(),o=n.FontFace;n.FontFace=function(e,t,n){var r=new o(e,t,n);return i.set(r,{family:e,buffer:"string"!=typeof t,descriptors:n,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),r;};var a=wC(t.fonts,"add",function(t){return function(n){return UC(tT(()=>{var t=i.get(n);t&&(e(t),i.delete(n));}),0),t.apply(this,[n]);};});return r.push(()=>{n.FontFace=o;}),r.push(a),tT(()=>{r.forEach(e=>e());});}(e)));var h=function(e){var{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,selectionCb:a}=e;var s=!0;var c=tT(()=>{var e=t.getSelection();if(!e||s&&nT([e,"optionalAccess",e=>e.isCollapsed]))return;s=e.isCollapsed||!1;var c=[],u=e.rangeCount||0;for(var _t80=0;_t80<u;_t80++){var _a19=e.getRangeAt(_t80),{startContainer:_s15,startOffset:_u6,endContainer:_l4,endOffset:_d3}=_a19;TC(_s15,r,i,o,!0)||TC(_l4,r,i,o,!0)||c.push({start:n.getId(_s15),startOffset:_u6,end:n.getId(_l4),endOffset:_d3});}a({ranges:c});});return c(),gC("selectionchange",c);}(e),m=function({doc:e,customElementCb:t}){var n=e.defaultView;return n&&n.customElements?wC(n.customElements,"define",function(e){return function(n,r,i){try{t({define:{name:n}});}catch(o){}return e.apply(this,[n,r,i]);};}):()=>{};}(e),g=[];for(var _y2 of e.plugins)g.push(_y2.observer(_y2.callback,n,_y2.options));return tT(()=>{rT.forEach(e=>e.reset()),nT([r,"optionalAccess",e=>e.disconnect,"call",e=>e()]),i(),o(),a(),s(),c(),u(),l(),d(),f(),p(),h(),m(),g.forEach(e=>e());});}function mT(e){return void 0!==window[e];}function gT(e){return Boolean(void 0!==window[e]&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype);}class yT{constructor(e){this.generateIdFn=e,this.iframeIdToRemoteIdMap=new WeakMap(),this.iframeRemoteIdToIdMap=new WeakMap();}getId(e,t,n,r){var i=n||this.getIdToRemoteIdMap(e),o=r||this.getRemoteIdToIdMap(e);var a=i.get(t);return a||(a=this.generateIdFn(),i.set(t,a),o.set(a,t)),a;}getIds(e,t){var n=this.getIdToRemoteIdMap(e),r=this.getRemoteIdToIdMap(e);return t.map(t=>this.getId(e,t,n,r));}getRemoteId(e,t,n){var r=n||this.getRemoteIdToIdMap(e);if("number"!=typeof t)return t;var i=r.get(t);return i||-1;}getRemoteIds(e,t){var n=this.getRemoteIdToIdMap(e);return t.map(t=>this.getRemoteId(e,t,n));}reset(e){if(!e)return this.iframeIdToRemoteIdMap=new WeakMap(),void(this.iframeRemoteIdToIdMap=new WeakMap());this.iframeIdToRemoteIdMap.delete(e),this.iframeRemoteIdToIdMap.delete(e);}getIdToRemoteIdMap(e){var t=this.iframeIdToRemoteIdMap.get(e);return t||(t=new Map(),this.iframeIdToRemoteIdMap.set(e,t)),t;}getRemoteIdToIdMap(e){var t=this.iframeRemoteIdToIdMap.get(e);return t||(t=new Map(),this.iframeRemoteIdToIdMap.set(e,t)),t;}}function vT(e){var t,n=e[0],r=1;for(;r<e.length;){var _i39=e[r],_o28=e[r+1];if(r+=2,("optionalAccess"===_i39||"optionalCall"===_i39)&&null==n)return;"access"===_i39||"optionalAccess"===_i39?(t=n,n=_o28(n)):"call"!==_i39&&"optionalCall"!==_i39||(n=_o28((...e)=>n.call(t,...e)),t=void 0);}return n;}class bT{constructor(){this.crossOriginIframeMirror=new yT(GE),this.crossOriginIframeRootIdMap=new WeakMap();}addIframe(){}addLoadListener(){}attachIframe(){}}class _T{constructor(e){this.iframes=new WeakMap(),this.crossOriginIframeMap=new WeakMap(),this.crossOriginIframeMirror=new yT(GE),this.crossOriginIframeRootIdMap=new WeakMap(),this.mutationCb=e.mutationCb,this.wrappedEmit=e.wrappedEmit,this.stylesheetManager=e.stylesheetManager,this.recordCrossOriginIframes=e.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new yT(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=e.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this));}addIframe(e){this.iframes.set(e,!0),e.contentWindow&&this.crossOriginIframeMap.set(e.contentWindow,e);}addLoadListener(e){this.loadListener=e;}attachIframe(e,t){this.mutationCb({adds:[{parentId:this.mirror.getId(e),nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),vT([this,"access",e=>e.loadListener,"optionalCall",t=>t(e)]),e.contentDocument&&e.contentDocument.adoptedStyleSheets&&e.contentDocument.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(e.contentDocument.adoptedStyleSheets,this.mirror.getId(e.contentDocument));}handleMessage(e){var t=e;if("rrweb"!==t.data.type||t.origin!==t.data.origin)return;if(!e.source)return;var n=this.crossOriginIframeMap.get(e.source);if(!n)return;var r=this.transformCrossOriginEvent(n,t.data.event);r&&this.wrappedEmit(r,t.data.isCheckout);}transformCrossOriginEvent(e,t){switch(t.type){case $C.FullSnapshot:{this.crossOriginIframeMirror.reset(e),this.crossOriginIframeStyleMirror.reset(e),this.replaceIdOnNode(t.data.node,e);var _n69=t.data.node.id;return this.crossOriginIframeRootIdMap.set(e,_n69),this.patchRootIdOnNode(t.data.node,_n69),{timestamp:t.timestamp,type:$C.IncrementalSnapshot,data:{source:zC.Mutation,adds:[{parentId:this.mirror.getId(e),nextId:null,node:t.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}};}case $C.Meta:case $C.Load:case $C.DomContentLoaded:return!1;case $C.Plugin:return t;case $C.Custom:return this.replaceIds(t.data.payload,e,["id","parentId","previousId","nextId"]),t;case $C.IncrementalSnapshot:switch(t.data.source){case zC.Mutation:return t.data.adds.forEach(t=>{this.replaceIds(t,e,["parentId","nextId","previousId"]),this.replaceIdOnNode(t.node,e);var n=this.crossOriginIframeRootIdMap.get(e);n&&this.patchRootIdOnNode(t.node,n);}),t.data.removes.forEach(t=>{this.replaceIds(t,e,["parentId","id"]);}),t.data.attributes.forEach(t=>{this.replaceIds(t,e,["id"]);}),t.data.texts.forEach(t=>{this.replaceIds(t,e,["id"]);}),t;case zC.Drag:case zC.TouchMove:case zC.MouseMove:return t.data.positions.forEach(t=>{this.replaceIds(t,e,["id"]);}),t;case zC.ViewportResize:return!1;case zC.MediaInteraction:case zC.MouseInteraction:case zC.Scroll:case zC.CanvasMutation:case zC.Input:return this.replaceIds(t.data,e,["id"]),t;case zC.StyleSheetRule:case zC.StyleDeclaration:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleId"]),t;case zC.Font:return t;case zC.Selection:return t.data.ranges.forEach(t=>{this.replaceIds(t,e,["start","end"]);}),t;case zC.AdoptedStyleSheet:return this.replaceIds(t.data,e,["id"]),this.replaceStyleIds(t.data,e,["styleIds"]),vT([t,"access",e=>e.data,"access",e=>e.styles,"optionalAccess",e=>e.forEach,"call",t=>t(t=>{this.replaceStyleIds(t,e,["styleId"]);})]),t;}}return!1;}replace(e,t,n,r){for(var _i40 of r)(Array.isArray(t[_i40])||"number"==typeof t[_i40])&&(Array.isArray(t[_i40])?t[_i40]=e.getIds(n,t[_i40]):t[_i40]=e.getId(n,t[_i40]));return t;}replaceIds(e,t,n){return this.replace(this.crossOriginIframeMirror,e,t,n);}replaceStyleIds(e,t,n){return this.replace(this.crossOriginIframeStyleMirror,e,t,n);}replaceIdOnNode(e,t){this.replaceIds(e,t,["id","rootId"]),"childNodes"in e&&e.childNodes.forEach(e=>{this.replaceIdOnNode(e,t);});}patchRootIdOnNode(e,t){e.type===CE.Document||e.rootId||(e.rootId=t),"childNodes"in e&&e.childNodes.forEach(e=>{this.patchRootIdOnNode(e,t);});}}class wT{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class kT{constructor(e){this.shadowDoms=new WeakSet(),this.restoreHandlers=[],this.mutationCb=e.mutationCb,this.scrollCb=e.scrollCb,this.bypassOptions=e.bypassOptions,this.mirror=e.mirror,this.init();}init(){this.reset(),this.patchAttachShadow(Element,document);}addShadowRoot(e,t){if(!IE(e))return;if(this.shadowDoms.has(e))return;this.shadowDoms.add(e),this.bypassOptions.canvasManager.addShadowRoot(e);var n=oT({...this.bypassOptions,doc:t,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},e);this.restoreHandlers.push(()=>n.disconnect()),this.restoreHandlers.push(sT({...this.bypassOptions,scrollCb:this.scrollCb,doc:e,mirror:this.mirror})),UC(()=>{e.adoptedStyleSheets&&e.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(e.adoptedStyleSheets,this.mirror.getId(e.host)),this.restoreHandlers.push(pT({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},e));},0);}observeAttachShadow(e){e.contentWindow&&e.contentDocument&&this.patchAttachShadow(e.contentWindow.Element,e.contentDocument);}patchAttachShadow(e,t){var n=this;this.restoreHandlers.push(wC(e.prototype,"attachShadow",function(e){return function(r){var i=e.call(this,r);return this.shadowRoot&&BC(this)&&n.addShadowRoot(this.shadowRoot,t),i;};}));}reset(){this.restoreHandlers.forEach(e=>{try{e();}catch(t){}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet(),this.bypassOptions.canvasManager.resetShadowRoots();}}class ST{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class xT{constructor(e){this.trackedLinkElements=new WeakSet(),this.styleMirror=new LC(),this.mutationCb=e.mutationCb,this.adoptedStyleSheetCb=e.adoptedStyleSheetCb;}attachLinkElement(e,t){"_cssText"in t.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:t.id,attributes:t.attributes}]}),this.trackLinkElement(e);}trackLinkElement(e){this.trackedLinkElements.has(e)||(this.trackedLinkElements.add(e),this.trackStylesheetInLinkElement(e));}adoptStyleSheets(e,t){if(0===e.length)return;var n={id:t,styleIds:[]},r=[];for(var _i41 of e){var _e65=void 0;this.styleMirror.has(_i41)?_e65=this.styleMirror.getId(_i41):(_e65=this.styleMirror.add(_i41),r.push({styleId:_e65,rules:Array.from(_i41.rules||CSSRule,(e,t)=>({rule:AE(e),index:t}))})),n.styleIds.push(_e65);}r.length>0&&(n.styles=r),this.adoptedStyleSheetCb(n);}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet();}trackStylesheetInLinkElement(e){}}class ET{constructor(){this.nodeMap=new WeakMap(),this.active=!1;}inOtherBuffer(e,t){var n=this.nodeMap.get(e);return n&&Array.from(n).some(e=>e!==t);}add(e,t){this.active||(this.active=!0,function(...e){jC("requestAnimationFrame")(...e);}(()=>{this.nodeMap=new WeakMap(),this.active=!1;})),this.nodeMap.set(e,(this.nodeMap.get(e)||new Set()).add(t));}destroy(){}}var CT,TT;try{if(2!==Array.from([1],e=>2*e)[0]){var _e66=document.createElement("iframe");document.body.appendChild(_e66),Array.from=Vv([_e66,"access",e=>e.contentWindow,"optionalAccess",e=>e.Array,"access",e=>e.from])||Array.from,document.body.removeChild(_e66);}}catch(fM){console.debug("Unable to override Array.from",fM);}var IT=function(){return new OE();}();function PT(e={}){var{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:o=null,unblockSelector:a=null,ignoreClass:s="rr-ignore",ignoreSelector:c=null,maskAllText:u=!1,maskTextClass:l="rr-mask",unmaskTextClass:d=null,maskTextSelector:f=null,unmaskTextSelector:p=null,inlineStylesheet:h=!0,maskAllInputs:m,maskInputOptions:g,slimDOMOptions:y,maskAttributeFn:v,maskInputFn:b,maskTextFn:_,maxCanvasSize:w=null,packFn:k,sampling:S={},dataURLOptions:x={},mousemoveWait:E,recordDOM:C=!0,recordCanvas:T=!1,recordCrossOriginIframes:I=!1,recordAfter:P="DOMContentLoaded"===e.recordAfter?e.recordAfter:"load",userTriggeredOnInput:A=!1,collectFonts:O=!1,inlineImages:R=!1,plugins:M,keepIframeSrcFn:L=()=>!1,ignoreCSSAttributes:N=new Set([]),errorHandler:D,onMutation:B,getCanvasManager:F}=e;!function(e){eT=e;}(D);var j=!I||window.parent===window;var U=!1;if(!j)try{window.parent.document&&(U=!1);}catch(te){U=!0;}if(j&&!t)throw new Error("emit function is required");if(!j&&!U)return()=>{};void 0!==E&&void 0===S.mousemove&&(S.mousemove=E),IT.reset();var $=!0===m?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:void 0!==g?g:{},z=!0===y||"all"===y?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===y,headMetaDescKeywords:"all"===y}:y||{};var H;!function(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...e)=>{var t=e[0];if(!(0 in e))throw new TypeError("1 argument is required");do{if(this===t)return!0;}while(t=t&&t.parentNode);return!1;});}();var q=0;var W=e=>{for(var _t81 of M||[])_t81.eventProcessor&&(e=_t81.eventProcessor(e));return k&&!U&&(e=k(e)),e;};CT=(e,i)=>{var o=e;if(o.timestamp=kC(),!Vv([rT,"access",e=>e[0],"optionalAccess",e=>e.isFrozen,"call",e=>e()])||o.type===$C.FullSnapshot||o.type===$C.IncrementalSnapshot&&o.data.source===zC.Mutation||rT.forEach(e=>e.unfreeze()),j)Vv([t,"optionalCall",e=>e(W(o),i)]);else if(U){var _e67={type:"rrweb",event:W(o),origin:window.location.origin,isCheckout:i};window.parent.postMessage(_e67,"*");}if(o.type===$C.FullSnapshot)H=o,q=0;else if(o.type===$C.IncrementalSnapshot){if(o.data.source===zC.Mutation&&o.data.isAttachIframe)return;q++;var _e68=r&&q>=r,_t82=n&&H&&o.timestamp-H.timestamp>n;(_e68||_t82)&&ee(!0);}};var V=e=>{CT({type:$C.IncrementalSnapshot,data:{source:zC.Mutation,...e}});},G=e=>CT({type:$C.IncrementalSnapshot,data:{source:zC.Scroll,...e}}),Y=e=>CT({type:$C.IncrementalSnapshot,data:{source:zC.CanvasMutation,...e}}),J=new xT({mutationCb:V,adoptedStyleSheetCb:e=>CT({type:$C.IncrementalSnapshot,data:{source:zC.AdoptedStyleSheet,...e}})}),X="boolean"==typeof __RRWEB_EXCLUDE_IFRAME__&&__RRWEB_EXCLUDE_IFRAME__?new bT():new _T({mirror:IT,mutationCb:V,stylesheetManager:J,recordCrossOriginIframes:I,wrappedEmit:CT});for(var _re of M||[])_re.getMirror&&_re.getMirror({nodeMirror:IT,crossOriginIframeMirror:X.crossOriginIframeMirror,crossOriginIframeStyleMirror:X.crossOriginIframeStyleMirror});var K=new ET(),Z=function(e,t){try{return e?e(t):new ST();}catch(te){return console.warn("Unable to initialize CanvasManager"),new ST();}}(F,{mirror:IT,win:window,mutationCb:e=>CT({type:$C.IncrementalSnapshot,data:{source:zC.CanvasMutation,...e}}),recordCanvas:T,blockClass:i,blockSelector:o,unblockSelector:a,maxCanvasSize:w,sampling:S.canvas,dataURLOptions:x,errorHandler:D}),Q="boolean"==typeof __RRWEB_EXCLUDE_SHADOW_DOM__&&__RRWEB_EXCLUDE_SHADOW_DOM__?new wT():new kT({mutationCb:V,scrollCb:G,bypassOptions:{onMutation:B,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskInputOptions:$,dataURLOptions:x,maskAttributeFn:v,maskTextFn:_,maskInputFn:b,recordCanvas:T,inlineImages:R,sampling:S,slimDOMOptions:z,iframeManager:X,stylesheetManager:J,canvasManager:Z,keepIframeSrcFn:L,processedNodeManager:K},mirror:IT}),ee=(e=!1)=>{if(!C)return;CT({type:$C.Meta,data:{href:window.location.href,width:EC(),height:xC()}},e),J.reset(),Q.init(),rT.forEach(e=>e.lock());var t=function(e,t){var{mirror:n=new OE(),blockClass:r="rr-block",blockSelector:i=null,unblockSelector:o=null,maskAllText:a=!1,maskTextClass:s="rr-mask",unmaskTextClass:c=null,maskTextSelector:u=null,unmaskTextSelector:l=null,inlineStylesheet:d=!0,inlineImages:f=!1,recordCanvas:p=!1,maskAllInputs:h=!1,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOM:v=!1,dataURLOptions:b,preserveWhiteSpace:_,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:S,onStylesheetLoad:x,stylesheetLoadTimeout:E,keepIframeSrcFn:C=()=>!1}=t||{};return hC(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:o,maskAllText:a,maskTextClass:s,unmaskTextClass:c,maskTextSelector:u,unmaskTextSelector:l,skipChild:!1,inlineStylesheet:d,maskInputOptions:!0===h?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:!1===h?{}:h,maskAttributeFn:m,maskTextFn:g,maskInputFn:y,slimDOMOptions:!0===v||"all"===v?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===v,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===v?{}:v,dataURLOptions:b,inlineImages:f,recordCanvas:p,preserveWhiteSpace:_,onSerialize:w,onIframeLoad:k,iframeLoadTimeout:S,onStylesheetLoad:x,stylesheetLoadTimeout:E,keepIframeSrcFn:C,newlyAddedElement:!1});}(document,{mirror:IT,blockClass:i,blockSelector:o,unblockSelector:a,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,inlineStylesheet:h,maskAllInputs:$,maskAttributeFn:v,maskInputFn:b,maskTextFn:_,slimDOM:z,dataURLOptions:x,recordCanvas:T,inlineImages:R,onSerialize:e=>{OC(e,IT)&&X.addIframe(e),RC(e,IT)&&J.trackLinkElement(e),MC(e)&&Q.addShadowRoot(e.shadowRoot,document);},onIframeLoad:(e,t)=>{X.attachIframe(e,t),e.contentWindow&&Z.addWindow(e.contentWindow),Q.observeAttachShadow(e);},onStylesheetLoad:(e,t)=>{J.attachLinkElement(e,t);},keepIframeSrcFn:L});if(!t)return console.warn("Failed to snapshot the document");CT({type:$C.FullSnapshot,data:{node:t,initialOffset:SC(window)}}),rT.forEach(e=>e.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&J.adoptStyleSheets(document.adoptedStyleSheets,IT.getId(document));};TT=ee;try{var _e69=[],_t83=e=>tT(hT)({onMutation:B,mutationCb:V,mousemoveCb:(e,t)=>CT({type:$C.IncrementalSnapshot,data:{source:t,positions:e}}),mouseInteractionCb:e=>CT({type:$C.IncrementalSnapshot,data:{source:zC.MouseInteraction,...e}}),scrollCb:G,viewportResizeCb:e=>CT({type:$C.IncrementalSnapshot,data:{source:zC.ViewportResize,...e}}),inputCb:e=>CT({type:$C.IncrementalSnapshot,data:{source:zC.Input,...e}}),mediaInteractionCb:e=>CT({type:$C.IncrementalSnapshot,data:{source:zC.MediaInteraction,...e}}),styleSheetRuleCb:e=>CT({type:$C.IncrementalSnapshot,data:{source:zC.StyleSheetRule,...e}}),styleDeclarationCb:e=>CT({type:$C.IncrementalSnapshot,data:{source:zC.StyleDeclaration,...e}}),canvasMutationCb:Y,fontCb:e=>CT({type:$C.IncrementalSnapshot,data:{source:zC.Font,...e}}),selectionCb:e=>{CT({type:$C.IncrementalSnapshot,data:{source:zC.Selection,...e}});},customElementCb:e=>{CT({type:$C.IncrementalSnapshot,data:{source:zC.CustomElement,...e}});},blockClass:i,ignoreClass:s,ignoreSelector:c,maskAllText:u,maskTextClass:l,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:p,maskInputOptions:$,inlineStylesheet:h,sampling:S,recordDOM:C,recordCanvas:T,inlineImages:R,userTriggeredOnInput:A,collectFonts:O,doc:e,maskAttributeFn:v,maskInputFn:b,maskTextFn:_,keepIframeSrcFn:L,blockSelector:o,unblockSelector:a,slimDOMOptions:z,dataURLOptions:x,mirror:IT,iframeManager:X,stylesheetManager:J,shadowDomManager:Q,processedNodeManager:K,canvasManager:Z,ignoreCSSAttributes:N,plugins:Vv([M,"optionalAccess",e=>e.filter,"call",e=>e(e=>e.observer),"optionalAccess",e=>e.map,"call",e=>e(e=>({observer:e.observer,options:e.options,callback:t=>CT({type:$C.Plugin,data:{plugin:e.name,payload:t}})}))])||[]},{});X.addLoadListener(n=>{try{_e69.push(_t83(n.contentDocument));}catch(r){console.warn(r);}});var _n70=()=>{ee(),_e69.push(_t83(document));};return"interactive"===document.readyState||"complete"===document.readyState?_n70():(_e69.push(gC("DOMContentLoaded",()=>{CT({type:$C.DomContentLoaded,data:{}}),"DOMContentLoaded"===P&&_n70();})),_e69.push(gC("load",()=>{CT({type:$C.Load,data:{}}),"load"===P&&_n70();},window))),()=>{_e69.forEach(e=>e()),K.destroy(),TT=void 0,function(){eT=void 0;}();};}catch(ne){console.warn(ne);}}PT.mirror=IT,PT.takeFullSnapshot=function(e){if(!TT)throw new Error("please take full snapshot after start recording");TT(e);};var AT="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,OT=["info","warn","error","log"],RT="[Replay] ";function MT(e,t="info"){xw({category:"console",data:{logger:"replay"},level:t,message:`${RT}${e}`},{level:t});}var LT=function(){var e=!1,t=!1;var n={exception:()=>{},infoTick:()=>{},setConfig:n=>{e=n.captureExceptions,t=n.traceInternals;}};return AT?(OT.forEach(e=>{n[e]=(...n)=>{Xg[e](RT,...n),t&&MT(n.join(""),vv(e));};}),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),Xg.error(RT,r),e?B_(r):t&&MT(r,"error");},n.infoTick=(...e)=>{Xg.info(RT,...e),t&&setTimeout(()=>MT(e[0]),0);}):OT.forEach(e=>{n[e]=()=>{};}),n;}(),NT=3;function DT(e){return e>9999999999?e:1e3*e;}function BT(e){return e>9999999999?e/1e3:e;}function FT(e,t){"sentry.transaction"!==t.category&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:$C.Custom,timestamp:1e3*(t.timestamp||0),data:{tag:"breadcrumb",payload:rv(t,10,1e3)}}),"console"===t.category)));}var jT="button,a";function UT(e){return e.closest(jT)||e;}function $T(e){var t=zT(e);return t&&t instanceof Element?UT(t):t;}function zT(e){return function(e){return"object"==typeof e&&!!e&&"target"in e;}(e)?e.target:e;}var HT;function qT(e){return HT||(HT=[],function(){ry(gE,"open",function(e){return function(...t){if(HT)try{HT.forEach(e=>e());}catch(n){}return e.apply(gE,t);};});}()),HT.push(e),()=>{var t=HT?HT.indexOf(e):-1;t>-1&&HT.splice(t,1);};}var WT=new Set([zC.Mutation,zC.StyleSheetRule,zC.StyleDeclaration,zC.AdoptedStyleSheet,zC.CanvasMutation,zC.Selection,zC.MediaInteraction]);class VT{constructor(e,t,n=FT){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=t.timeout/1e3,this._threshold=t.threshold/1e3,this._scollTimeout=t.scrollTimeout/1e3,this._replay=e,this._ignoreSelector=t.ignoreSelector,this._addBreadcrumbEvent=n;}addListeners(){var e=qT(()=>{this._lastMutation=YT();});this._teardown=()=>{e(),this._clicks=[],this._lastMutation=0,this._lastScroll=0;};}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout);}handleClick(e,t){if(function(e,t){if(!GT.includes(e.tagName))return!0;if("INPUT"===e.tagName&&!["submit","button"].includes(e.getAttribute("type")||""))return!0;if("A"===e.tagName&&(e.hasAttribute("download")||e.hasAttribute("target")&&"_self"!==e.getAttribute("target")))return!0;if(t&&e.matches(t))return!0;return!1;}(t,this._ignoreSelector)||!function(e){return!(!e.data||"number"!=typeof e.data.nodeId||!e.timestamp);}(e))return;var n={timestamp:BT(e.timestamp),clickBreadcrumb:e,clickCount:0,node:t};this._clicks.some(e=>e.node===n.node&&Math.abs(e.timestamp-n.timestamp)<1)||(this._clicks.push(n),1===this._clicks.length&&this._scheduleCheckClicks());}registerMutation(e=Date.now()){this._lastMutation=BT(e);}registerScroll(e=Date.now()){this._lastScroll=BT(e);}registerClick(e){var t=UT(e);this._handleMultiClick(t);}_handleMultiClick(e){this._getClicks(e).forEach(e=>{e.clickCount++;});}_getClicks(e){return this._clicks.filter(t=>t.node===e);}_checkClicks(){var e=[],t=YT();this._clicks.forEach(n=>{!n.mutationAfter&&this._lastMutation&&(n.mutationAfter=n.timestamp<=this._lastMutation?this._lastMutation-n.timestamp:void 0),!n.scrollAfter&&this._lastScroll&&(n.scrollAfter=n.timestamp<=this._lastScroll?this._lastScroll-n.timestamp:void 0),n.timestamp+this._timeout<=t&&e.push(n);});for(var _n71 of e){var _e70=this._clicks.indexOf(_n71);_e70>-1&&(this._generateBreadcrumbs(_n71),this._clicks.splice(_e70,1));}this._clicks.length&&this._scheduleCheckClicks();}_generateBreadcrumbs(e){var t=this._replay,n=e.scrollAfter&&e.scrollAfter<=this._scollTimeout,r=e.mutationAfter&&e.mutationAfter<=this._threshold,i=!n&&!r,{clickCount:o,clickBreadcrumb:a}=e;if(i){var _n72=1e3*Math.min(e.mutationAfter||this._timeout,this._timeout),_r47=_n72<1e3*this._timeout?"mutation":"timeout",_i42={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:gE.location.href,route:t.getCurrentRoute(),timeAfterClickMs:_n72,endReason:_r47,clickCount:o||1}};this._addBreadcrumbEvent(t,_i42);}else if(o>1){var _e71={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:gE.location.href,route:t.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(t,_e71);}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=px(()=>this._checkClicks(),1e3);}}var GT=["A","BUTTON","INPUT"];function YT(){return Date.now()/1e3;}function JT(e,t){try{if(!function(e){return e.type===NT;}(t))return;var{source:_n73}=t.data;if(WT.has(_n73)&&e.registerMutation(t.timestamp),_n73===zC.Scroll&&e.registerScroll(t.timestamp),function(e){return e.data.source===zC.MouseInteraction;}(t)){var{type:_n74,id:_r48}=t.data,_i43=PT.mirror.getNode(_r48);_i43 instanceof HTMLElement&&_n74===HC.Click&&e.registerClick(_i43);}}catch(n){}}function XT(e){return{timestamp:Date.now()/1e3,type:"default",...e};}var KT;!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment";}(KT||(KT={}));var ZT=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function QT(e){var t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(var _n75 in e)if(ZT.has(_n75)){var _r49=_n75;"data-testid"!==_n75&&"data-test-id"!==_n75||(_r49="testId"),t[_r49]=e[_n75];}return t;}var eI=e=>t=>{if(!e.isEnabled())return;var n=function(e){var{target:t,message:n}=function(e){var t="click"===e.name;var n,r=null;try{r=t?$T(e.event):zT(e.event),n=zg(r,{maxStringLength:200})||"<unknown>";}catch(i){n="<unknown>";}return{target:r,message:n};}(e);return XT({category:`ui.${e.name}`,...tI(t,n)});}(t);if(!n)return;var r="click"===t.name,i=r?t.event:void 0;!(r&&e.clickDetector&&i&&i.target)||i.altKey||i.metaKey||i.ctrlKey||i.shiftKey||function(e,t,n){e.handleClick(t,n);}(e.clickDetector,n,$T(t.event)),FT(e,n);};function tI(e,t){var n=PT.mirror.getId(e),r=n&&PT.mirror.getNode(n),i=r&&PT.mirror.getMeta(r),o=i&&function(e){return e.type===KT.Element;}(i)?i:null;return{message:t,data:o?{nodeId:n,node:{id:n,tagName:o.tagName,textContent:Array.from(o.childNodes).map(e=>e.type===KT.Text&&e.textContent).filter(Boolean).map(e=>e.trim()).join(""),attributes:QT(o.attributes)}}:{}};}function nI(e,t){if(!e.isEnabled())return;e.updateUserActivity();var n=function(e){var{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o,target:a}=e;if(!a||function(e){return"INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable;}(a)||!o)return null;var s=t||r||i,c=1===o.length;if(!s&&c)return null;var u=zg(a,{maxStringLength:200})||"<unknown>",l=tI(a,u);return XT({category:"ui.keyDown",message:u,data:{...l.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:o}});}(t);n&&FT(e,n);}var rI={resource:function(e){var{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:o,decodedBodySize:a,encodedBodySize:s,responseStatus:c,transferSize:u}=e;if(["fetch","xmlhttprequest"].includes(n))return null;return{type:`${t}.${n}`,start:aI(o),end:aI(i),name:r,data:{size:u,statusCode:c,decodedBodySize:a,encodedBodySize:s}};},paint:function(e){var{duration:t,entryType:n,name:r,startTime:i}=e,o=aI(i);return{type:n,name:r,start:o,end:o+t,data:void 0};},navigation:function(e){var{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:o,encodedBodySize:a,domContentLoadedEventStart:s,domContentLoadedEventEnd:c,domInteractive:u,loadEventStart:l,loadEventEnd:d,redirectCount:f,startTime:p,transferSize:h,type:m}=e;if(0===i)return null;return{type:`${t}.${m}`,start:aI(p),end:aI(o),name:n,data:{size:h,decodedBodySize:r,encodedBodySize:a,duration:i,domInteractive:u,domContentLoadedEventStart:s,domContentLoadedEventEnd:c,loadEventStart:l,loadEventEnd:d,domComplete:o,redirectCount:f}};}};function iI(e,t){return({metric:n})=>{t.replayPerformanceEntries.push(e(n));};}function oI(e){var t=rI[e.entryType];return t?t(e):null;}function aI(e){return((Dy||gE.performance.timeOrigin)+e)/1e3;}function sI(e){var t=e.entries[e.entries.length-1];return fI(e,"largest-contentful-paint",t&&t.element?[t.element]:void 0);}function cI(e){return void 0!==e.sources;}function uI(e){var t=[],n=[];for(var _r50 of e.entries)if(cI(_r50)){var _e72=[];for(var _t84 of _r50.sources)if(_t84.node){n.push(_t84.node);var _r51=PT.mirror.getId(_t84.node);_r51&&_e72.push(_r51);}t.push({value:_r50.value,nodeIds:_e72.length?_e72:void 0});}return fI(e,"cumulative-layout-shift",n,t);}function lI(e){var t=e.entries[e.entries.length-1];return fI(e,"first-input-delay",t&&t.target?[t.target]:void 0);}function dI(e){var t=e.entries[e.entries.length-1];return fI(e,"interaction-to-next-paint",t&&t.target?[t.target]:void 0);}function fI(e,t,n,r){var i=e.value,o=e.rating,a=aI(i);return{type:"web-vital",name:t,start:a,end:a,data:{value:i,size:i,rating:o,nodeIds:n?n.map(e=>PT.mirror.getId(e)):void 0,attributions:r}};}var pI='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(t,e){for(var i=new n(31),a=0;a<31;++a)i[a]=e+=1<<t[a-1];var s=new r(i[30]);for(a=1;a<30;++a)for(var o=i[a];o<i[a+1];++o)s[o]=o-i[a]<<5|a;return{b:i,r:s}},o=s(e,2),f=o.b,h=o.r;f[28]=258,h[258]=28;for(var l=s(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,a=0,s=new n(r);a<i;++a)t[a]&&++s[t[a]-1];var o,f=new n(r);for(a=1;a<r;++a)f[a]=f[a-1]+s[a-1]<<1;if(e){o=new n(1<<r);var h=15-r;for(a=0;a<i;++a)if(t[a])for(var l=a<<4|t[a],c=r-t[a],v=f[t[a]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>h]=l}else for(o=new n(i),a=0;a<i;++a)t[a]&&(o[a]=u[f[t[a]-1]++]>>15-t[a]);return o},g=new t(288);for(c=0;c<144;++c)g[c]=8;for(c=144;c<256;++c)g[c]=9;for(c=256;c<280;++c)g[c]=7;for(c=280;c<288;++c)g[c]=8;var w=new t(32);for(c=0;c<32;++c)w[c]=5;var p=d(g,9,0),y=d(w,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==r||r<0)&&(r=0),(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},A=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},_=function(r,e){for(var i=[],a=0;a<r.length;++a)r[a]&&i.push({s:a,f:r[a]});var s=i.length,o=i.slice();if(!s)return{t:F,l:0};if(1==s){var f=new t(i[0].s+1);return f[i[0].s]=1,{t:f,l:1}}i.sort((function(t,n){return t.f-n.f})),i.push({s:-1,f:25001});var h=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:h.f+l.f,l:h,r:l};c!=s-1;)h=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:h.f+l.f,l:h,r:l};var d=o[0].s;for(a=1;a<s;++a)o[a].s>d&&(d=o[a].s);var g=new n(d+1),w=x(i[c-1],g,0);if(w>e){a=0;var p=0,y=w-e,m=1<<y;for(o.sort((function(t,n){return g[n.s]-g[t.s]||t.f-n.f}));a<s;++a){var b=o[a].s;if(!(g[b]>e))break;p+=m-(1<<w-g[b]),g[b]=e}for(p>>=y;p>0;){var M=o[a].s;g[M]<e?p-=1<<e-g[M]++-1:++a}for(;a>=0&&p;--a){var E=o[a].s;g[E]==e&&(--g[E],++p)}w=e}return{t:new t(g),l:w}},x=function(t,n,r){return-1==t.s?Math.max(x(t.l,n,r+1),x(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,a=t[0],s=1,o=function(t){e[i++]=t},f=1;f<=r;++f)if(t[f]==a&&f!=r)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[f]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var a=0;a<e;++a)t[i+a+4]=r[a];return 8*(i+4+e)},C=function(t,r,s,o,f,h,l,u,c,v,m){z(r,m++,s),++f[256];for(var b=_(f,15),M=b.t,E=b.l,x=_(h,15),C=x.t,U=x.l,F=D(M),I=F.c,S=F.n,L=D(C),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=_(q,7),H=G.t,J=G.l,K=19;K>4&&!H[a[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(f,g)+T(h,w)+l,X=T(f,M)+T(h,C)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(C,U,0),R=C;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[a[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=p,P=g,Q=y,R=w;for(B=0;B<u;++B){var rt=o[B];if(rt>255){A(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;A(r,m,Q[et]),m+=R[et],et>3&&(A(r,m,rt>>5&8191),m+=i[et])}else A(r,m,N[rt]),m+=P[rt]}return A(r,m,N[256]),m+P[256]},U=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}},L=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,a=0|r.length,s=0;s!=a;){for(var o=Math.min(s+2655,a);s<o;++s)i+=e+=r[s];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},O=function(a,s,o,f,u){if(!u&&(u={l:1},s.dictionary)){var c=s.dictionary.subarray(-32768),v=new t(c.length+a.length);v.set(c),v.set(a,c.length),a=v,u.w=c.length}return function(a,s,o,f,u,c){var v=c.z||a.length,d=new t(f+v+5*(1+Math.ceil(v/7e3))+u),g=d.subarray(f,d.length-u),w=c.l,p=7&(c.r||0);if(s){p&&(g[0]=c.r>>3);for(var y=U[s-1],M=y>>13,E=8191&y,z=(1<<o)-1,A=c.p||new n(32768),_=c.h||new n(z+1),x=Math.ceil(o/3),D=2*x,T=function(t){return(a[t]^a[t+1]<<x^a[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=_[H];if(A[J]=K,_[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!w)){p=C(a,g,0,F,I,S,O,q,G,j-G,p),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(a[j+Q]==a[j+Q-W]){for(var $=0;$<Z&&a[j+$]==a[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-A[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=A[J])&32767}if(R){F[q++]=268435456|h[Q]<<18|l[R];var it=31&h[Q],at=31&l[R];O+=e[it]+i[at],++I[257+it],++S[at],B=j+Q,++L}else F[q++]=a[j],++I[a[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=a[j],++I[a[j]];p=C(a,g,w,F,I,S,O,q,G,j-G,p),w||(c.r=7&p|g[p/8|0]<<3,p-=7,c.h=_,c.p=A,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+w;j+=65535){var st=j+65535;st>=v&&(g[p/8|0]=w,st=v),p=k(g,p+1,a.subarray(j,st))}c.i=v}return b(d,0,f+m(p)+u)}(a,null==s.level?6:s.level,null==s.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(a.length)))):12+s.mem,o,f,u)},j=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},q=function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&j(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}},B=function(t){return 10+(t.filename?t.filename.length+1:0)},G=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(O(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var a=this.b.length-this.s.z;a&&(this.b.set(n.subarray(0,a),this.s.z),this.s.z=this.b.length,this.p(this.b,!1)),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(a),32768),this.s.z=n.length-a+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n}();var H=function(){function t(t,n){this.c=L(),this.v=1,G.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),G.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=O(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=L();i.p(n.dictionary),j(t,2,i.d())}}(r,this.o),this.v=0),n&&j(r,r.length-4,this.c.d()),this.ondata(r,n)},t}(),J="undefined"!=typeof TextEncoder&&new TextEncoder,K="undefined"!=typeof TextDecoder&&new TextDecoder;try{K.decode(F,{stream:!0})}catch(t){}var N=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(P(t),this.d=n||!1)},t}();function P(n,r){if(r){for(var e=new t(n.length),i=0;i<n.length;++i)e[i]=n.charCodeAt(i);return e}if(J)return J.encode(n);var a=n.length,s=new t(n.length+(n.length>>1)),o=0,f=function(t){s[o++]=t};for(i=0;i<a;++i){if(o+5>s.length){var h=new t(o+8+(a-i<<1));h.set(s),s=h}var l=n.charCodeAt(i);l<128||r?f(l):l<2048?(f(192|l>>6),f(128|63&l)):l>55295&&l<57344?(f(240|(l=65536+(1047552&l)|1023&n.charCodeAt(++i))>>18),f(128|l>>12&63),f(128|l>>6&63),f(128|63&l)):(f(224|l>>12),f(128|l>>6&63),f(128|63&l))}return b(s,0,o)}function Q(t){return function(t,n){n||(n={});var r=S(),e=t.length;r.p(t);var i=O(t,n,B(n),8),a=i.length;return q(i,n),j(i,a-8,r.d()),j(i,a-4,e),i}(P(t))}const R=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new H,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new N(((t,n)=>{this.deflate.push(t,n)})),this.stream.push("[")}},V={clear:()=>{R.clear()},addEvent:t=>R.addEvent(t),finish:()=>R.finish(),compress:t=>Q(t)};addEventListener("message",(function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in V&&"function"==typeof V[n])try{const t=V[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}})),postMessage({id:void 0,method:"init",success:!0,response:void 0});';class hI extends Error{constructor(){super("Event buffer exceeded maximum size of 20000000.");}}class mI{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1;}get hasEvents(){return this.events.length>0;}get type(){return"sync";}destroy(){this.events=[];}async addEvent(e){var t=JSON.stringify(e).length;if(this._totalSize+=t,this._totalSize>kE)throw new hI();this.events.push(e);}finish(){return new Promise(e=>{var t=this.events;this.clear(),e(JSON.stringify(t));});}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1;}getEarliestTimestamp(){var e=this.events.map(e=>e.timestamp).sort()[0];return e?DT(e):null;}}class gI{constructor(e){this._worker=e,this._id=0;}ensureReady(){return this._ensureReadyPromise||(this._ensureReadyPromise=new Promise((e,t)=>{this._worker.addEventListener("message",({data:n})=>{n.success?e():t();},{once:!0}),this._worker.addEventListener("error",e=>{t(e);},{once:!0});})),this._ensureReadyPromise;}destroy(){AT&&LT.info("Destroying compression worker"),this._worker.terminate();}postMessage(e,t){var n=this._getAndIncrementId();return new Promise((r,i)=>{var o=({data:t})=>{var a=t;if(a.method===e&&a.id===n){if(this._worker.removeEventListener("message",o),!a.success)return AT&&LT.error("Error in compression worker: ",a.response),void i(new Error("Error in compression worker"));r(a.response);}};this._worker.addEventListener("message",o),this._worker.postMessage({id:n,method:e,arg:t});});}_getAndIncrementId(){return this._id++;}}class yI{constructor(e){this._worker=new gI(e),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1;}get hasEvents(){return!!this._earliestTimestamp;}get type(){return"worker";}ensureReady(){return this._worker.ensureReady();}destroy(){this._worker.destroy();}addEvent(e){var t=DT(e.timestamp);(!this._earliestTimestamp||t<this._earliestTimestamp)&&(this._earliestTimestamp=t);var n=JSON.stringify(e);return this._totalSize+=n.length,this._totalSize>kE?Promise.reject(new hI()):this._sendEventToWorker(n);}finish(){return this._finishRequest();}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,e=>{AT&&LT.exception(e,'Sending "clear" message to worker failed',e);});}getEarliestTimestamp(){return this._earliestTimestamp;}_sendEventToWorker(e){return this._worker.postMessage("addEvent",e);}async _finishRequest(){var e=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,e;}}class vI{constructor(e){this._fallback=new mI(),this._compression=new yI(e),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded();}get type(){return this._used.type;}get hasEvents(){return this._used.hasEvents;}get hasCheckout(){return this._used.hasCheckout;}set hasCheckout(e){this._used.hasCheckout=e;}destroy(){this._fallback.destroy(),this._compression.destroy();}clear(){return this._used.clear();}getEarliestTimestamp(){return this._used.getEarliestTimestamp();}addEvent(e){return this._used.addEvent(e);}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish();}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise;}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady();}catch(e){return void(AT&&LT.exception(e,"Failed to load the compression worker, falling back to simple buffer"));}await this._switchToCompressionWorker();}async _switchToCompressionWorker(){var{events:e,hasCheckout:t}=this._fallback,n=[];for(var _i44 of e)n.push(this._compression.addEvent(_i44));this._compression.hasCheckout=t,this._used=this._compression;try{await Promise.all(n),this._fallback.clear();}catch(r){AT&&LT.exception(r,"Failed to add events when switching buffers.");}}}function bI({useCompression:e,workerUrl:t}){if(e&&window.Worker){var _e73=function(e){try{var _t85=e||function(){if("undefined"==typeof __SENTRY_EXCLUDE_REPLAY_WORKER__||!__SENTRY_EXCLUDE_REPLAY_WORKER__)return function(){var e=new Blob([pI]);return URL.createObjectURL(e);}();return"";}();if(!_t85)return;AT&&LT.info("Using compression worker"+(e?` from ${e}`:""));var _n76=new Worker(_t85);return new vI(_n76);}catch(t){AT&&LT.exception(t,"Failed to create compression worker");}}(t);if(_e73)return _e73;}return AT&&LT.info("Using simple buffer"),new mI();}function _I(){try{return"sessionStorage"in gE&&!!gE.sessionStorage;}catch(e){return!1;}}function wI(e){!function(){if(!_I())return;try{gE.sessionStorage.removeItem(yE);}catch(e){}}(),e.session=void 0;}function kI(e){return void 0!==e&&Math.random()<e;}function SI(e){var t=Date.now();return{id:e.id||Xy(),started:e.started||t,lastActivity:e.lastActivity||t,segmentId:e.segmentId||0,sampled:e.sampled,previousSessionId:e.previousSessionId};}function xI(e){if(_I())try{gE.sessionStorage.setItem(yE,JSON.stringify(e));}catch(t){}}function EI({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){var i=function(e,t){return kI(e)?"session":!!t&&"buffer";}(e,t),o=SI({sampled:i,previousSessionId:r});return n&&xI(o),o;}function CI(e,t,n=+new Date()){return null===e||void 0===t||t<0||0!==t&&e+t<=n;}function TI(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return CI(e.started,t,r)||CI(e.lastActivity,n,r);}function II(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!!TI(e,{sessionIdleExpire:t,maxReplayDuration:n})&&("buffer"!==e.sampled||0!==e.segmentId);}function PI({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){var i=r.stickySession&&function(){if(!_I())return null;try{var _e74=gE.sessionStorage.getItem(yE);if(!_e74)return null;var _t86=JSON.parse(_e74);return AT&&LT.infoTick("Loading existing session"),SI(_t86);}catch(e){return null;}}();return i?II(i,{sessionIdleExpire:e,maxReplayDuration:t})?(AT&&LT.infoTick("Session in sessionStorage is expired, creating new one..."),EI(r,{previousSessionId:i.id})):i:(AT&&LT.infoTick("Creating new session"),EI(r,{previousSessionId:n}));}function AI(e,t,n){return!!RI(e,t)&&(OI(e,t,n),!0);}async function OI(e,t,n){if(!e.eventBuffer)return null;try{n&&"buffer"===e.recordingMode&&e.eventBuffer.clear(),n&&(e.eventBuffer.hasCheckout=!0);var _r52=function(e,t){try{if("function"==typeof t&&function(e){return e.type===$C.Custom;}(e))return t(e);}catch(n){return AT&&LT.exception(n,"An error occured in the `beforeAddRecordingEvent` callback, skipping the event..."),null;}return e;}(t,e.getOptions().beforeAddRecordingEvent);if(!_r52)return;return await e.eventBuffer.addEvent(_r52);}catch(r){var _t87=r&&r instanceof hI?"addEventSizeExceeded":"addEvent";e.handleException(r),await e.stop({reason:_t87});var _n77=mb();_n77&&_n77.recordDroppedEvent("internal_sdk_error","replay");}}function RI(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;var n=DT(t.timestamp);return!(n+e.timeouts.sessionIdlePause<Date.now())&&(!(n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration)||(AT&&LT.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1));}function MI(e){return!e.type;}function LI(e){return"transaction"===e.type;}function NI(e){return"feedback"===e.type;}function DI(e){return(t,n)=>{if(!e.isEnabled()||!MI(t)&&!LI(t))return;var r=n&&n.statusCode;!r||r<200||r>=300||(LI(t)?function(e,t){var n=e.getContext();t.contexts&&t.contexts.trace&&t.contexts.trace.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id);}(e,t):function(e,t){var n=e.getContext();t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id);if("buffer"!==e.recordingMode||!t.tags||!t.tags.replayId)return;var{beforeErrorSampling:r}=e.getOptions();if("function"==typeof r&&!r(t))return;px(async()=>{try{await e.sendBufferedReplayOrFlush();}catch(fM){e.handleException(fM);}});}(e,t));};}function BI(e){return t=>{e.isEnabled()&&MI(t)&&function(e,t){var n=t.exception&&t.exception.values&&t.exception.values[0]&&t.exception.values[0].value;if("string"!=typeof n)return;if(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i)){FT(e,XT({category:"replay.hydrate-error",data:{url:qg()}}));}}(e,t);};}function FI(e){var t=mb();t&&t.on("beforeAddBreadcrumb",t=>function(e,t){if(!e.isEnabled()||!jI(t))return;var n=function(e){if(!jI(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui."))return null;if("console"===e.category)return function(e){var t=e.data&&e.data.arguments;if(!Array.isArray(t)||0===t.length)return XT(e);var n=!1;var r=t.map(e=>{if(!e)return e;if("string"==typeof e)return e.length>wE?(n=!0,`${e.slice(0,wE)}â¦`):e;if("object"==typeof e)try{var _t88=rv(e,7);return JSON.stringify(_t88).length>wE?(n=!0,`${JSON.stringify(_t88,null,2).slice(0,wE)}â¦`):_t88;}catch(t){}return e;});return XT({...e,data:{...e.data,arguments:r,...(n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{})}});}(e);return XT(e);}(t);n&&FT(e,n);}(e,t));}function jI(e){return!!e.category;}function UI(e){return Object.assign((t,n)=>{if(!e.isEnabled()||e.isPaused())return t;if(function(e){return"replay_event"===e.type;}(t))return delete t.breadcrumbs,t;if(!MI(t)&&!LI(t)&&!NI(t))return t;if(!e.checkAndHandleExpiredSession())return t;if(NI(t))return e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),function(e,t){e.triggerUserActivity(),e.addUpdate(()=>!t.timestamp||(e.throttledAddEvent({type:$C.Custom,timestamp:1e3*t.timestamp,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1));}(e,t),t;if(function(e,t){return!(e.type||!e.exception||!e.exception.values||!e.exception.values.length||!t.originalException||!t.originalException.__rrweb__);}(t,n)&&!e.getOptions()._experiments.captureExceptions)return AT&&LT.log("Ignoring error from rrweb internals",t),null;var r=function(e,t){return"buffer"===e.recordingMode&&t.message!==bE&&!(!t.exception||t.type)&&kI(e.getOptions().errorSampleRate);}(e,t);return(r||"session"===e.recordingMode)&&(t.tags={...t.tags,replayId:e.getSessionId()}),t;},{id:"Replay"});}function $I(e,t){return t.map(({type:t,start:n,end:r,name:i,data:o})=>{var a=e.throttledAddEvent({type:$C.Custom,timestamp:n,data:{tag:"performanceSpan",payload:{op:t,description:i,startTimestamp:n,endTimestamp:r,data:o}}});return"string"==typeof a?Promise.resolve(null):a;});}function zI(e){return t=>{if(!e.isEnabled())return;var n=function(e){var{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}};}(t);null!==n&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>($I(e,[n]),!1)));};}function HI(e,t){e.isEnabled()&&null!==t&&(function(e,t){return(!AT||!e.getOptions()._experiments.traceInternals)&&_w(t,mb());}(e,t.name)||e.addUpdate(()=>($I(e,[t]),!0)));}function qI(e){if(!e)return;var t=new TextEncoder();try{if("string"==typeof e)return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){var _n78=ZI(e);return t.encode(_n78).length;}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength;}catch(n){}}function WI(e){if(!e)return;var t=parseInt(e,10);return isNaN(t)?void 0:t;}function VI(e){try{if("string"==typeof e)return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[ZI(e)];if(!e)return[void 0];}catch(t){return AT&&LT.exception(t,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"];}return AT&&LT.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"];}function GI(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};var n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e;}function YI(e,t){if(!t)return null;var{startTimestamp:n,endTimestamp:r,url:i,method:o,statusCode:a,request:s,response:c}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:ly({method:o,statusCode:a,request:s,response:c})};}function JI(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}};}function XI(e,t,n){if(!t&&0===Object.keys(e).length)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};var r={headers:e,size:t},{body:i,warnings:o}=function(e){if(!e||"string"!=typeof e)return{body:e};var t=e.length>_E,n=function(e){var t=e[0],n=e[e.length-1];return"["===t&&"]"===n||"{"===t&&"}"===n;}(e);if(t){var _t89=e.slice(0,_E);return n?{body:_t89,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${_t89}â¦`,warnings:["TEXT_TRUNCATED"]};}if(n)try{return{body:JSON.parse(e)};}catch(r){}return{body:e};}(n);return r.body=i,o&&o.length>0&&(r._meta={warnings:o}),r;}function KI(e,t){return Object.entries(e).reduce((n,[r,i])=>{var o=r.toLowerCase();return t.includes(o)&&e[r]&&(n[o]=i),n;},{});}function ZI(e){return new URLSearchParams(e).toString();}function QI(e,t){var n=function(e,t=gE.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(gE.location.origin))return e;var n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;var r=n.href;if(!e.endsWith("/")&&r.endsWith("/"))return r.slice(0,-1);return r;}(e);return Og(n,t);}async function eP(e,t,n){try{var _r53=await async function(e,t,n){var r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r}=t,{url:a,method:s,status_code:c=0,request_body_size:u,response_body_size:l}=e.data,d=QI(a,n.networkDetailAllowUrls)&&!QI(a,n.networkDetailDenyUrls),f=d?function({networkCaptureBodies:e,networkRequestHeaders:t},n,r){var i=n?function(e,t){if(1===e.length&&"string"!=typeof e[0])return rP(e[0],t);if(2===e.length)return rP(e[1],t);return{};}(n,t):{};if(!e)return XI(i,r,void 0);var o=tP(n),[a,s]=VI(o),c=XI(i,r,a);if(s)return GI(c,s);return c;}(n,t.input,u):JI(u),p=await async function(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,i){if(!e&&void 0!==i)return JI(i);var o=r?nP(r.headers,n):{};if(!r||!t&&void 0!==i)return XI(o,i,void 0);var[a,s]=await async function(e){var t=function(e){try{return e.clone();}catch(t){AT&&LT.exception(t,"Failed to clone response body");}}(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{var _e75=await function(e){return new Promise((t,n)=>{var r=px(()=>n(new Error("Timeout while trying to read response body")),500);(async function(e){return await e.text();})(e).then(e=>t(e),e=>n(e)).finally(()=>clearTimeout(r));});}(t);return[_e75];}catch(n){return AT&&LT.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"];}}(r),c=function(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:i}){try{var _o29=e&&e.length&&void 0===n?qI(e):n;return r?XI(i,_o29,t?e:void 0):JI(_o29);}catch(o){return AT&&LT.exception(o,"Failed to serialize response body"),XI(i,n,void 0);}}(a,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:o});if(s)return GI(c,s);return c;}(d,n,t.response,l);return{startTimestamp:i,endTimestamp:o,url:a,method:s,statusCode:c,request:f,response:p};}(e,t,n),_i45=YI("resource.fetch",_r53);HI(n.replay,_i45);}catch(r){AT&&LT.exception(r,"Failed to capture fetch breadcrumb");}}function tP(e=[]){if(2===e.length&&"object"==typeof e[1])return e[1].body;}function nP(e,t){var n={};return t.forEach(t=>{e.get(t)&&(n[t]=e.get(t));}),n;}function rP(e,t){if(!e)return{};var n=e.headers;return n?n instanceof Headers?nP(n,t):Array.isArray(n)?{}:KI(n,t):{};}async function iP(e,t,n){try{var _r54=function(e,t,n){var r=Date.now(),{startTimestamp:i=r,endTimestamp:o=r,input:a,xhr:s}=t,{url:c,method:u,status_code:l=0,request_body_size:d,response_body_size:f}=e.data;if(!c)return null;if(!s||!QI(c,n.networkDetailAllowUrls)||QI(c,n.networkDetailDenyUrls)){return{startTimestamp:i,endTimestamp:o,url:c,method:u,statusCode:l,request:JI(d),response:JI(f)};}var p=s[hx],h=p?KI(p.request_headers,n.networkRequestHeaders):{},m=KI(function(e){var t=e.getAllResponseHeaders();if(!t)return{};return t.split("\r\n").reduce((e,t)=>{var[n,r]=t.split(": ");return r&&(e[n.toLowerCase()]=r),e;},{});}(s),n.networkResponseHeaders),[g,y]=n.networkCaptureBodies?VI(a):[void 0],[v,b]=n.networkCaptureBodies?function(e){var t=[];try{return[e.responseText];}catch(n){t.push(n);}try{return function(e,t){try{if("string"==typeof e)return[e];if(e instanceof Document)return[e.body.outerHTML];if("json"===t&&e&&"object"==typeof e)return[JSON.stringify(e)];if(!e)return[void 0];}catch(n){return AT&&LT.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"];}return AT&&LT.info("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"];}(e.response,e.responseType);}catch(n){t.push(n);}return AT&&LT.warn("Failed to get xhr response body",...t),[void 0];}(s):[void 0],_=XI(h,d,g),w=XI(m,f,v);return{startTimestamp:i,endTimestamp:o,url:c,method:u,statusCode:l,request:y?GI(_,y):_,response:b?GI(w,b):w};}(e,t,n),_i46=YI("resource.xhr",_r54);HI(n.replay,_i46);}catch(r){AT&&LT.exception(r,"Failed to capture xhr breadcrumb");}}function oP(e,t){var{xhr:n,input:r}=t;if(!n)return;var i=qI(r),o=n.getResponseHeader("content-length")?WI(n.getResponseHeader("content-length")):function(e,t){try{return qI("json"===t&&e&&"object"==typeof e?JSON.stringify(e):e);}catch(n){return;}}(n.response,n.responseType);void 0!==i&&(e.data.request_body_size=i),void 0!==o&&(e.data.response_body_size=o);}function aP(e){var t=mb();try{var{networkDetailAllowUrls:_n79,networkDetailDenyUrls:_r55,networkCaptureBodies:_i47,networkRequestHeaders:_o30,networkResponseHeaders:_a20}=e.getOptions(),_s16={replay:e,networkDetailAllowUrls:_n79,networkDetailDenyUrls:_r55,networkCaptureBodies:_i47,networkRequestHeaders:_o30,networkResponseHeaders:_a20};t&&t.on("beforeAddBreadcrumb",(e,t)=>function(e,t,n){if(!t.data)return;try{(function(e){return"xhr"===e.category;})(t)&&function(e){return e&&e.xhr;}(n)&&(oP(t,n),iP(t,n,e)),function(e){return"fetch"===e.category;}(t)&&function(e){return e&&e.response;}(n)&&(!function(e,t){var{input:n,response:r}=t,i=qI(n?tP(n):void 0),o=r?WI(r.headers.get("content-length")):void 0;void 0!==i&&(e.data.request_body_size=i),void 0!==o&&(e.data.response_body_size=o);}(t,n),eP(t,n,e));}catch(r){AT&&LT.exception(r,"Error when enriching network breadcrumb");}}(_s16,e,t));}catch(n){}}function sP(e){var{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}};}function cP(e){var t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession())return void(AT&&LT.warn("Received replay event after session expired."));var i=r||!t;t=!0,e.clickDetector&&JT(e.clickDetector,n),e.addUpdate(()=>{if("buffer"===e.recordingMode&&i&&e.setInitialState(),!AI(e,n,i))return!0;if(!i)return!1;var t=e.session;if(function(e,t){if(!t||!e.session||0!==e.session.segmentId)return;AI(e,function(e){var t=e.getOptions();return{type:$C.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:!!e.eventBuffer&&"worker"===e.eventBuffer.type,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}};}(e),!1);}(e,i),t&&t.previousSessionId)return!0;if("buffer"===e.recordingMode&&t&&e.eventBuffer){var _n80=e.eventBuffer.getEarliestTimestamp();_n80&&(AT&&LT.info(`Updating session start time to earliest event in buffer to ${new Date(_n80)}`),t.started=_n80,e.getOptions().stickySession&&xI(t));}return"session"===e.recordingMode&&e.flush(),!0;});};}async function uP({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:o}){var a=function({recordingData:e,headers:t}){var n;var r=`${JSON.stringify(t)}\n`;if("string"==typeof e)n=`${r}${e}`;else{var _t90=new TextEncoder().encode(r);n=new Uint8Array(_t90.length+e.length),n.set(_t90),n.set(e,_t90.length);}return n;}({recordingData:e,headers:{segment_id:n}}),{urls:s,errorIds:c,traceIds:u,initialTimestamp:l}=r,d=mb(),f=db(),p=d&&d.getTransport(),h=d&&d.getDsn();if(!(d&&p&&h&&o.sampled))return dv({});var m={type:vE,replay_start_timestamp:l/1e3,timestamp:i/1e3,error_ids:c,trace_ids:u,urls:s,replay_id:t,segment_id:n,replay_type:o.sampled},g=await async function({client:e,scope:t,replayId:n,event:r}){var i={event_id:n,integrations:"object"!=typeof e._integrations||null===e._integrations||Array.isArray(e._integrations)?void 0:Object.keys(e._integrations)};e.emit("preprocessEvent",r,i);var o=await M_(e.getOptions(),r,i,t,e,fb());if(!o)return null;o.platform=o.platform||"javascript";var a=e.getSdkMetadata(),{name:s,version:c}=a&&a.sdk||{};return o.sdk={...o.sdk,name:s||"sentry.javascript.unknown",version:c||"0.0.0"},o;}({scope:f,client:d,replayId:t,event:m});if(!g)return d.recordDroppedEvent("event_processor","replay",m),AT&&LT.info("An event processor returned `null`, will not send event."),dv({});delete g.sdkProcessingMetadata;var y=function(e,t,n,r){return Pv($v(e,Uv(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:"string"==typeof t?new TextEncoder().encode(t).length:t.length},t]]);}(g,a,h,d.getOptions().tunnel);var v;try{v=await p.send(y);}catch(fM){var _t91=new Error(bE);try{_t91.cause=fM;}catch(_){}throw _t91;}if("number"==typeof v.statusCode&&(v.statusCode<200||v.statusCode>=300))throw new lP(v.statusCode);var b=Wv({},v);if(qv(b,"replay"))throw new dP(b);return v;}class lP extends Error{constructor(e){super(`Transport returned status code ${e}`);}}class dP extends Error{constructor(e){super("Rate limit hit"),this.rateLimits=e;}}async function fP(e,t={count:0,interval:5e3}){var{recordingData:n,onError:r}=e;if(n.length)try{return await uP(e),!0;}catch(fM){if(fM instanceof lP||fM instanceof dP)throw fM;if(U_("Replays",{_retryCount:t.count}),r&&r(fM),t.count>=3){var _e76=new Error(`${bE} - max retries exceeded`);try{_e76.cause=fM;}catch(i){}throw _e76;}return t.interval*=++t.count,new Promise((n,r)=>{px(async()=>{try{await fP(e,t),n(!0);}catch(i){r(i);}},t.interval);});}}var pP="__THROTTLED";function hP(e,t,n){var r=new Map();var i=!1;return(...o)=>{var a=Math.floor(Date.now()/1e3);if((e=>{var t=e-n;r.forEach((e,n)=>{n<t&&r.delete(n);});})(a),(()=>[...r.values()].reduce((e,t)=>e+t,0))()>=t){var _e77=i;return i=!0,_e77?"__SKIPPED":pP;}i=!1;var s=r.get(a)||0;return r.set(a,s+1),e(...o);};}class mP{constructor({options:e,recordingOptions:t}){mP.prototype.__init.call(this),mP.prototype.__init2.call(this),mP.prototype.__init3.call(this),mP.prototype.__init4.call(this),mP.prototype.__init5.call(this),mP.prototype.__init6.call(this),this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:3e5,sessionIdleExpire:9e5},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set(),traceIds:new Set(),urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=t,this._options=e,this._debouncedFlush=function(e,t,n){var r,i,o;var a=n&&n.maxWait?Math.max(n.maxWait,t):0;function s(){return c(),r=e(),r;}function c(){void 0!==i&&clearTimeout(i),void 0!==o&&clearTimeout(o),i=o=void 0;}function u(){return i&&clearTimeout(i),i=px(s,t),a&&void 0===o&&(o=px(s,a)),r;}return u.cancel=c,u.flush=function(){return void 0!==i||void 0!==o?s():r;},u;}(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=hP((e,t)=>function(e,t,n){return RI(e,t)?OI(e,t,n):Promise.resolve(null);}(this,e,t),300,5);var{slowClickTimeout:n,slowClickIgnoreSelectors:r}=this.getOptions(),i=n?{threshold:Math.min(3e3,n),timeout:n,scrollTimeout:300,ignoreSelector:r?r.join(","):""}:void 0;if(i&&(this.clickDetector=new VT(this,i)),AT){var _t92=e._experiments;LT.setConfig({captureExceptions:!!_t92.captureExceptions,traceInternals:!!_t92.traceInternals});}}getContext(){return this._context;}isEnabled(){return this._isEnabled;}isPaused(){return this._isPaused;}isRecordingCanvas(){return Boolean(this._canvas);}getOptions(){return this._options;}handleException(e){AT&&LT.exception(e),this._options.onError&&this._options.onError(e);}initializeSampling(e){var{errorSampleRate:t,sessionSampleRate:n}=this._options,r=t<=0&&n<=0;this._requiresManualStart=r,r||(this._initializeSessionForSampling(e),this.session?!1!==this.session.sampled&&(this.recordingMode="buffer"===this.session.sampled&&0===this.session.segmentId?"buffer":"session",AT&&LT.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording()):AT&&LT.exception(new Error("Unable to initialize and create session")));}start(){if(this._isEnabled&&"session"===this.recordingMode)return void(AT&&LT.info("Recording is already in progress"));if(this._isEnabled&&"buffer"===this.recordingMode)return void(AT&&LT.info("Buffering is in progress, call `flush()` to save the replay"));AT&&LT.infoTick("Starting replay in session mode"),this._updateUserActivity();var e=PI({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=e,this._initializeRecording();}startBuffering(){if(this._isEnabled)return void(AT&&LT.info("Buffering is in progress, call `flush()` to save the replay"));AT&&LT.infoTick("Starting replay in buffer mode");var e=PI({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=e,this.recordingMode="buffer",this._initializeRecording();}startRecording(){try{var _e78=this._canvas;this._stopRecording=PT({...this._recordingOptions,...("buffer"===this.recordingMode?{checkoutEveryNms:6e4}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)}),emit:cP(this),onMutation:this._onMutationHandler,...(_e78?{recordCanvas:_e78.recordCanvas,getCanvasManager:_e78.getCanvasManager,sampling:_e78.sampling,dataURLOptions:_e78.dataURLOptions}:{})});}catch(fM){this.handleException(fM);}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0;}catch(fM){return this.handleException(fM),!1;}}async stop({forceFlush:e=!1,reason:t}={}){if(this._isEnabled){this._isEnabled=!1;try{AT&&LT.info("Stopping Replay"+(t?` triggered by ${t}`:"")),function(){var e=db().getPropagationContext().dsc;e&&delete e.replay_id;var t=Wb();t&&delete a_(t).replay_id;}(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),e&&(await this._flush({force:!0})),this.eventBuffer&&this.eventBuffer.destroy(),this.eventBuffer=null,wI(this);}catch(fM){this.handleException(fM);}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),AT&&LT.info("Pausing replay"));}resume(){this._isPaused&&this._checkSession()&&(this._isPaused=!1,this.startRecording(),AT&&LT.info("Resuming replay"));}async sendBufferedReplayOrFlush({continueRecording:e=!0}={}){if("session"===this.recordingMode)return this.flushImmediate();var t=Date.now();AT&&LT.info("Converting buffer to session"),await this.flushImmediate();var n=this.stopRecording();e&&n&&"session"!==this.recordingMode&&(this.recordingMode="session",this.session&&(this._updateUserActivity(t),this._updateSessionActivity(t),this._maybeSaveSession()),this.startRecording());}addUpdate(e){var t=e();"buffer"!==this.recordingMode&&!0!==t&&this._debouncedFlush();}triggerUserActivity(){if(this._updateUserActivity(),this._stopRecording)this.checkAndHandleExpiredSession(),this._updateSessionActivity();else{if(!this._checkSession())return;this.resume();}}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity();}conditionalFlush(){return"buffer"===this.recordingMode?Promise.resolve():this.flushImmediate();}flush(){return this._debouncedFlush();}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush();}cancelFlush(){this._debouncedFlush.cancel();}getSessionId(){return this.session&&this.session.id;}checkAndHandleExpiredSession(){if(!(this._lastActivity&&CI(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&"session"===this.session.sampled))return!!this._checkSession();this.pause();}setInitialState(){var e=`${gE.location.pathname}${gE.location.hash}${gE.location.search}`,t=`${gE.location.origin}${e}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=t,this._context.initialTimestamp=Date.now(),this._context.urls.push(t);}throttledAddEvent(e,t){var n=this._throttledAddEvent(e,t);if(n===pP){var _e79=XT({category:"replay.throttled"});this.addUpdate(()=>!AI(this,{type:5,timestamp:_e79.timestamp||0,data:{tag:"breadcrumb",payload:_e79,metric:!0}}));}return n;}getCurrentRoute(){var e=this.lastActiveSpan||Wb(),t=e&&qb(e),n=(t&&Bb(t).data||{})[vb];if(t&&n&&["route","custom"].includes(n))return Bb(t).description;}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=bI({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording();}_initializeSessionForSampling(e){var t=this._options.errorSampleRate>0,n=PI({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:e},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:t});this.session=n;}_checkSession(){if(!this.session)return!1;var e=this.session;return!II(e,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})||(this._refreshSession(e),!1);}async _refreshSession(e){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(e.id));}_addListeners(){try{gE.document.addEventListener("visibilitychange",this._handleVisibilityChange),gE.addEventListener("blur",this._handleWindowBlur),gE.addEventListener("focus",this._handleWindowFocus),gE.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(!function(e){var t=mb();ox(eI(e)),cx(zI(e)),FI(e),aP(e),G_(UI(e)),t&&(t.on("beforeSendEvent",BI(e)),t.on("afterSendEvent",DI(e)),t.on("createDsc",t=>{var n=e.getSessionId();n&&e.isEnabled()&&"session"===e.recordingMode&&e.checkAndHandleExpiredSession()&&(t.replay_id=n);}),t.on("spanStart",t=>{e.lastActiveSpan=t;}),t.on("spanEnd",t=>{e.lastActiveSpan=t;}),t.on("beforeSendFeedback",(t,n)=>{var r=e.getSessionId();n&&n.includeReplay&&e.isEnabled()&&r&&t.contexts&&t.contexts.feedback&&(t.contexts.feedback.replay_id=r);}));}(this),this._hasInitializedCoreListeners=!0);}catch(fM){this.handleException(fM);}this._performanceCleanupCallback=function(e){function t(t){e.performanceEntries.includes(t)||e.performanceEntries.push(t);}function n({entries:e}){e.forEach(t);}var r=[];return["navigation","paint","resource"].forEach(e=>{r.push(PS(e,n));}),r.push(CS(iI(sI,e)),ES(iI(uI,e)),TS(iI(lI,e)),IS(iI(dI,e))),()=>{r.forEach(e=>e());};}(this);}_removeListeners(){try{gE.document.removeEventListener("visibilitychange",this._handleVisibilityChange),gE.removeEventListener("blur",this._handleWindowBlur),gE.removeEventListener("focus",this._handleWindowFocus),gE.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback();}catch(fM){this.handleException(fM);}}__init(){this._handleVisibilityChange=()=>{"visible"===gE.document.visibilityState?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks();};}__init2(){this._handleWindowBlur=()=>{var e=XT({category:"ui.blur"});this._doChangeToBackgroundTasks(e);};}__init3(){this._handleWindowFocus=()=>{var e=XT({category:"ui.focus"});this._doChangeToForegroundTasks(e);};}__init4(){this._handleKeyboardEvent=e=>{nI(this,e);};}_doChangeToBackgroundTasks(e){if(!this.session)return;TI(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(e&&this._createCustomBreadcrumb(e),this.conditionalFlush());}_doChangeToForegroundTasks(e){if(!this.session)return;this.checkAndHandleExpiredSession()?e&&this._createCustomBreadcrumb(e):AT&&LT.info("Document has become active, but session has expired");}_updateUserActivity(e=Date.now()){this._lastActivity=e;}_updateSessionActivity(e=Date.now()){this.session&&(this.session.lastActivity=e,this._maybeSaveSession());}_createCustomBreadcrumb(e){this.addUpdate(()=>{this.throttledAddEvent({type:$C.Custom,timestamp:e.timestamp||0,data:{tag:"breadcrumb",payload:e}});});}_addPerformanceEntries(){var e=function(e){return e.map(oI).filter(Boolean);}(this.performanceEntries).concat(this.replayPerformanceEntries);return this.performanceEntries=[],this.replayPerformanceEntries=[],Promise.all($I(this,e));}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[];}_updateInitialTimestampFromEventBuffer(){var{session:e,eventBuffer:t}=this;if(!e||!t||this._requiresManualStart)return;if(e.segmentId)return;var n=t.getEarliestTimestamp();n&&n<this._context.initialTimestamp&&(this._context.initialTimestamp=n);}_popEventContext(){var e={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),e;}async _runFlush(){var e=this.getSessionId();if(this.session&&this.eventBuffer&&e){if(await this._addPerformanceEntries(),this.eventBuffer&&this.eventBuffer.hasEvents&&(await async function(e){try{return Promise.all($I(e,[sP(gE.performance.memory)]));}catch(t){return[];}}(this),this.eventBuffer&&e===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();var _t93=Date.now();if(_t93-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");var _n81=this._popEventContext(),_r56=this.session.segmentId++;this._maybeSaveSession();var _i48=await this.eventBuffer.finish();await fP({replayId:e,recordingData:_i48,segmentId:_r56,eventContext:_n81,session:this.session,timestamp:_t93,onError:e=>this.handleException(e)});}catch(fM){this.handleException(fM),this.stop({reason:"sendReplay"});var _t94=mb();if(_t94){var _n82=fM instanceof dP?"ratelimit_backoff":"send_error";_t94.recordDroppedEvent(_n82,"replay");}}}else AT&&LT.error("No session or eventBuffer found to flush.");}__init5(){this._flush=async({force:e=!1}={})=>{if(!this._isEnabled&&!e)return;if(!this.checkAndHandleExpiredSession())return void(AT&&LT.error("Attempting to finish replay event after session expired."));if(!this.session)return;var t=this.session.started,n=Date.now()-t;this._debouncedFlush.cancel();var r=n<this._options.minReplayDuration,i=n>this._options.maxReplayDuration+5e3;if(r||i)return AT&&LT.info(`Session duration (${Math.floor(n/1e3)}s) is too ${r?"short":"long"}, not sending replay.`),void(r&&this._debouncedFlush());var o=this.eventBuffer;o&&0===this.session.segmentId&&!o.hasCheckout&&AT&&LT.info("Flushing initial segment without checkout.");var a=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock;}catch(fM){this.handleException(fM);}finally{this._flushLock=void 0,a&&this._debouncedFlush();}};}_maybeSaveSession(){this.session&&this._options.stickySession&&xI(this.session);}__init6(){this._onMutationHandler=e=>{var t=e.length,n=this._options.mutationLimit,r=n&&t>n;if(t>this._options.mutationBreadcrumbLimit||r){var _e80=XT({category:"replay.mutations",data:{count:t,limit:r}});this._createCustomBreadcrumb(_e80);}return!r||(this.stop({reason:"mutationLimit",forceFlush:"session"===this.recordingMode}),!1);};}}function gP(e,t){return[...e,...t].join(",");}var yP='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',vP=["content-length","content-type","accept"];var bP=!1;class _P{static __initStatic(){this.id="Replay";}constructor({flushMinDelay:e=5e3,flushMaxDelay:t=5500,minReplayDuration:n=4999,maxReplayDuration:r=36e5,stickySession:i=!0,useCompression:o=!0,workerUrl:a,_experiments:s={},maskAllText:c=!0,maskAllInputs:u=!0,blockAllMedia:l=!0,mutationBreadcrumbLimit:d=750,mutationLimit:f=1e4,slowClickTimeout:p=7e3,slowClickIgnoreSelectors:h=[],networkDetailAllowUrls:m=[],networkDetailDenyUrls:g=[],networkCaptureBodies:y=!0,networkRequestHeaders:v=[],networkResponseHeaders:b=[],mask:_=[],maskAttributes:w=["title","placeholder"],unmask:k=[],block:S=[],unblock:x=[],ignore:E=[],maskFn:C,beforeAddRecordingEvent:T,beforeErrorSampling:I}={}){this.name=_P.id;var P=function({mask:e,unmask:t,block:n,unblock:r,ignore:i}){return{maskTextSelector:gP(e,[".sentry-mask","[data-sentry-mask]"]),unmaskTextSelector:gP(t,[]),blockSelector:gP(n,[".sentry-block","[data-sentry-block]",'base[href="/"]']),unblockSelector:gP(r,[]),ignoreSelector:gP(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])};}({mask:_,unmask:k,block:S,unblock:x,ignore:E});if(this._recordingOptions={maskAllInputs:u,maskAllText:c,maskInputOptions:{password:!0},maskTextFn:C,maskInputFn:C,maskAttributeFn:(e,t,n)=>function({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:o}){return r?i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?o:n.includes(t)||"value"===t&&"INPUT"===e.tagName&&["submit","button"].includes(e.getAttribute("type")||"")?o.replace(/[\S]/g,"*"):o:o;}({maskAttributes:w,maskAllText:c,privacyOptions:P,key:e,value:t,el:n}),...P,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:e=>{try{e.__rrweb__=!0;}catch(t){}}},this._initialOptions={flushMinDelay:e,flushMaxDelay:t,minReplayDuration:Math.min(n,15e3),maxReplayDuration:Math.min(r,SE),stickySession:i,useCompression:o,workerUrl:a,blockAllMedia:l,maskAllInputs:u,maskAllText:c,mutationBreadcrumbLimit:d,mutationLimit:f,slowClickTimeout:p,slowClickIgnoreSelectors:h,networkDetailAllowUrls:m,networkDetailDenyUrls:g,networkCaptureBodies:y,networkRequestHeaders:wP(v),networkResponseHeaders:wP(b),beforeAddRecordingEvent:T,beforeErrorSampling:I,_experiments:s},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${yP}`:yP),this._isInitialized&&Jy())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0;}get _isInitialized(){return bP;}set _isInitialized(e){bP=e;}afterAllSetup(e){Jy()&&!this._replay&&(this._setup(e),this._initialize(e));}start(){this._replay&&this._replay.start();}startBuffering(){this._replay&&this._replay.startBuffering();}stop(){return this._replay?this._replay.stop({forceFlush:"session"===this._replay.recordingMode}):Promise.resolve();}flush(e){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(e):(this._replay.start(),Promise.resolve()):Promise.resolve();}getReplayId(){if(this._replay&&this._replay.isEnabled())return this._replay.getSessionId();}_initialize(e){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(e),this._replay.initializeSampling());}_setup(e){var t=function(e,t){var n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...ly(e)},i=s_(n.replaysSessionSampleRate),o=s_(n.replaysOnErrorSampleRate);null==i&&null==o&&Jg(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.");});null!=i&&(r.sessionSampleRate=i);null!=o&&(r.errorSampleRate=o);return r;}(this._initialOptions,e);this._replay=new mP({options:t,recordingOptions:this._recordingOptions});}_maybeLoadFromReplayCanvasIntegration(e){try{var _t95=e.getIntegrationByName("ReplayCanvas");if(!_t95)return;this._replay._canvas=_t95.getOptions();}catch(t){}}}function wP(e){return[...vP,...e.map(e=>e.toLowerCase())];}var kP;function SP(e,t,n=1/0,r=0){return e?e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:SP(e.parentNode,t,n,r+1):-1;}function xP(e,t){return n=>{var r=n;if(null===r)return!1;try{if(e)if("string"==typeof e){if(r.matches(`.${e}`))return!0;}else if(function(e,t){for(var _n83=e.classList.length;_n83--;){var _r57=e.classList[_n83];if(t.test(_r57))return!0;}return!1;}(r,e))return!0;return!(!t||!r.matches(t));}catch(i){return!1;}};}_P.__initStatic(),function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment";}(kP||(kP={}));var EP="Please stop import mirror directly. Instead of that,\r\nnow you can use replayer.getMirror() to access the mirror instance of a replayer,\r\nor you can use record.mirror to access the mirror instance during recording.";var CP={map:{},getId:()=>(console.error(EP),-1),getNode:()=>(console.error(EP),null),removeNodeFromMap(){console.error(EP);},has:()=>(console.error(EP),!1),reset(){console.error(EP);}};function TP(e,t,n,r,i=window){var o=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(e){MP(()=>{n.set.call(this,e);},0),o&&o.set&&o.set.call(this,e);}}),()=>TP(e,t,o||{},!0);}function IP(e,t,n){try{if(!(t in e))return()=>{};var _r58=e[t],_i49=n(_r58);return"function"==typeof _i49&&(_i49.prototype=_i49.prototype||{},Object.defineProperties(_i49,{__rrweb_original__:{enumerable:!1,value:_r58}})),e[t]=_i49,()=>{e[t]=_r58;};}catch(r){return()=>{};}}function PP(e,t,n,r,i){if(!e)return!1;var o=function(e){return e?e.nodeType===e.ELEMENT_NODE?e:e.parentElement:null;}(e);if(!o)return!1;var a=SP(o,xP(t,n));var s=-1;return!(a<0)&&(r&&(s=SP(o,xP(null,r))),a>-1&&s<0||a<s);}"undefined"!=typeof window&&window.Proxy&&window.Reflect&&(CP=new Proxy(CP,{get:(e,t,n)=>("map"===t&&console.error(EP),Reflect.get(e,t,n))})),/[1-9][0-9]{12}/.test(Date.now().toString());var AP={};function OP(e){var t=AP[e];if(t)return t;var n=window.document;var r=window[e];if(n&&"function"==typeof n.createElement)try{var _t96=n.createElement("iframe");_t96.hidden=!0,n.head.appendChild(_t96);var _i50=_t96.contentWindow;_i50&&_i50[e]&&(r=_i50[e]),n.head.removeChild(_t96);}catch(i){}return AP[e]=r.bind(window);}function RP(...e){return OP("requestAnimationFrame")(...e);}function MP(...e){return OP("setTimeout")(...e);}var LP=(e=>(e[e["2D"]=0]="2D",e[e.WebGL=1]="WebGL",e[e.WebGL2=2]="WebGL2",e))(LP||{});var NP;var DP=e=>{if(!NP)return e;return(...t)=>{try{return e(...t);}catch(n){if(NP&&!0===NP(n))return()=>{};throw n;}};};for(var BP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",FP="undefined"==typeof Uint8Array?[]:new Uint8Array(256),jP=0;jP<64;jP++)FP[BP.charCodeAt(jP)]=jP;var UP=new Map();var $P=(e,t,n)=>{if(!e||!qP(e,t)&&"object"!=typeof e)return;var r=function(e,t){var n=UP.get(e);return n||(n=new Map(),UP.set(e,n)),n.has(t)||n.set(t,[]),n.get(t);}(n,e.constructor.name);var i=r.indexOf(e);return-1===i&&(i=r.length,r.push(e)),i;};function zP(e,t,n){if(e instanceof Array)return e.map(e=>zP(e,t,n));if(null===e)return e;if(e instanceof Float32Array||e instanceof Float64Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Int16Array||e instanceof Int8Array||e instanceof Uint8ClampedArray){return{rr_type:e.constructor.name,args:[Object.values(e)]};}if(e instanceof ArrayBuffer){return{rr_type:e.constructor.name,base64:function(e){var t,n=new Uint8Array(e),r=n.length,i="";for(t=0;t<r;t+=3)i+=BP[n[t]>>2],i+=BP[(3&n[t])<<4|n[t+1]>>4],i+=BP[(15&n[t+1])<<2|n[t+2]>>6],i+=BP[63&n[t+2]];return r%3==2?i=i.substring(0,i.length-1)+"=":r%3==1&&(i=i.substring(0,i.length-2)+"=="),i;}(e)};}if(e instanceof DataView){return{rr_type:e.constructor.name,args:[zP(e.buffer,t,n),e.byteOffset,e.byteLength]};}if(e instanceof HTMLImageElement){var _t97=e.constructor.name,{src:_n84}=e;return{rr_type:_t97,src:_n84};}if(e instanceof HTMLCanvasElement){return{rr_type:"HTMLImageElement",src:e.toDataURL()};}if(e instanceof ImageData){return{rr_type:e.constructor.name,args:[zP(e.data,t,n),e.width,e.height]};}if(qP(e,t)||"object"==typeof e){return{rr_type:e.constructor.name,index:$P(e,t,n)};}return e;}var HP=(e,t,n)=>e.map(e=>zP(e,t,n)),qP=(e,t)=>{var n=["WebGLActiveInfo","WebGLBuffer","WebGLFramebuffer","WebGLProgram","WebGLRenderbuffer","WebGLShader","WebGLShaderPrecisionFormat","WebGLTexture","WebGLUniformLocation","WebGLVertexArrayObject","WebGLVertexArrayObjectOES"].filter(e=>"function"==typeof t[e]);return Boolean(n.find(n=>e instanceof t[n]));};function WP(e,t,n,r,i){var o=[];try{var _a21=IP(e.HTMLCanvasElement.prototype,"getContext",function(e){return function(o,...a){if(!PP(this,t,n,r)){var _e81=function(e){return"experimental-webgl"===e?"webgl":e;}(o);if("__context"in this||(this.__context=_e81),i&&["webgl","webgl2"].includes(_e81))if(a[0]&&"object"==typeof a[0]){var _e82=a[0];_e82.preserveDrawingBuffer||(_e82.preserveDrawingBuffer=!0);}else a.splice(0,1,{preserveDrawingBuffer:!0});}return e.apply(this,[o,...a]);};});o.push(_a21);}catch(a){console.error("failed to patch HTMLCanvasElement.prototype.getContext");}return()=>{o.forEach(e=>e());};}function VP(e,t,n,r,i,o,a,s){var c=[],u=Object.getOwnPropertyNames(e);var _loop3=function(_d4){if(!["isContextLost","canvas","drawingBufferWidth","drawingBufferHeight"].includes(_d4))try{if("function"!=typeof e[_d4])return 1;// continue
var _a22=IP(e,_d4,function(e){return function(...a){var c=e.apply(this,a);if($P(c,s,this),"tagName"in this.canvas&&!PP(this.canvas,r,i,o)){var _e83=HP(a,s,this),_r59={type:t,property:_d4,args:_e83};n(this.canvas,_r59);}return c;};});c.push(_a22);}catch(l){var _r60=TP(e,_d4,{set(e){n(this.canvas,{type:t,property:_d4,args:[e],setter:!0});}});c.push(_r60);}};for(var _d4 of u){if(_loop3(_d4))continue;}return c;}class GP{reset(){this.pendingCanvasMutations.clear(),this.restoreHandlers.forEach(e=>{try{e();}catch(t){}}),this.restoreHandlers=[],this.windowsSet=new WeakSet(),this.windows=[],this.shadowDoms=new Set(),Vv([this,"access",e=>e.worker,"optionalAccess",e=>e.terminate,"call",e=>e()]),this.worker=null,this.snapshotInProgressMap=new Map(),(this.options.recordCanvas&&"number"==typeof this.options.sampling||this.options.enableManualSnapshot)&&(this.worker=this.initFPSWorker());}freeze(){this.frozen=!0;}unfreeze(){this.frozen=!1;}lock(){this.locked=!0;}unlock(){this.locked=!1;}constructor(e){this.pendingCanvasMutations=new Map(),this.rafStamps={latestId:0,invokeId:null},this.shadowDoms=new Set(),this.windowsSet=new WeakSet(),this.windows=[],this.restoreHandlers=[],this.frozen=!1,this.locked=!1,this.snapshotInProgressMap=new Map(),this.worker=null,this.processMutation=(e,t)=>{!(this.rafStamps.invokeId&&this.rafStamps.latestId!==this.rafStamps.invokeId)&&this.rafStamps.invokeId||(this.rafStamps.invokeId=this.rafStamps.latestId),this.pendingCanvasMutations.has(e)||this.pendingCanvasMutations.set(e,[]),this.pendingCanvasMutations.get(e).push(t);};var{sampling:t="all",win:n,blockClass:r,blockSelector:i,unblockSelector:o,maxCanvasSize:a,recordCanvas:s,dataURLOptions:c,errorHandler:u}=e;this.mutationCb=e.mutationCb,this.mirror=e.mirror,this.options=e,u&&function(e){NP=e;}(u),(s&&"number"==typeof t||e.enableManualSnapshot)&&(this.worker=this.initFPSWorker()),this.addWindow(n),e.enableManualSnapshot||DP(()=>{s&&"all"===t&&(this.startRAFTimestamping(),this.startPendingCanvasMutationFlusher()),s&&"number"==typeof t&&this.initCanvasFPSObserver(t,r,i,o,a,{dataURLOptions:c});})();}addWindow(e){var{sampling:t="all",blockClass:n,blockSelector:r,unblockSelector:i,recordCanvas:o,enableManualSnapshot:a}=this.options;if(!this.windowsSet.has(e)){if(a)return this.windowsSet.add(e),void this.windows.push(new WeakRef(e));DP(()=>{if(o&&"all"===t&&this.initCanvasMutationObserver(e,n,r,i),o&&"number"==typeof t){var _t98=WP(e,n,r,i,!0);this.restoreHandlers.push(()=>{_t98();});}})(),this.windowsSet.add(e),this.windows.push(new WeakRef(e));}}addShadowRoot(e){this.shadowDoms.add(new WeakRef(e));}resetShadowRoots(){this.shadowDoms=new Set();}initFPSWorker(){var e=new Worker(function(){var e=new Blob(['for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="undefined"==typeof Uint8Array?[]:new Uint8Array(256),a=0;a<64;a++)t[e.charCodeAt(a)]=a;var n=function(t){var a,n=new Uint8Array(t),r=n.length,s="";for(a=0;a<r;a+=3)s+=e[n[a]>>2],s+=e[(3&n[a])<<4|n[a+1]>>4],s+=e[(15&n[a+1])<<2|n[a+2]>>6],s+=e[63&n[a+2]];return r%3==2?s=s.substring(0,s.length-1)+"=":r%3==1&&(s=s.substring(0,s.length-2)+"=="),s};const r=new Map,s=new Map;const i=self;i.onmessage=async function(e){if(!("OffscreenCanvas"in globalThis))return i.postMessage({id:e.data.id});{const{id:t,bitmap:a,width:o,height:f,maxCanvasSize:c,dataURLOptions:g}=e.data,u=async function(e,t,a){const r=e+"-"+t;if("OffscreenCanvas"in globalThis){if(s.has(r))return s.get(r);const i=new OffscreenCanvas(e,t);i.getContext("2d");const o=await i.convertToBlob(a),f=await o.arrayBuffer(),c=n(f);return s.set(r,c),c}return""}(o,f,g),[h,d]=function(e,t,a){if(!a)return[e,t];const[n,r]=a;if(e<=n&&t<=r)return[e,t];let s=e,i=t;return s>n&&(i=Math.floor(n*t/e),s=n),i>r&&(s=Math.floor(r*e/t),i=r),[s,i]}(o,f,c),l=new OffscreenCanvas(h,d),w=l.getContext("bitmaprenderer"),p=h===o&&d===f?a:await createImageBitmap(a,{resizeWidth:h,resizeHeight:d,resizeQuality:"low"});w.transferFromImageBitmap(p),a.close();const y=await l.convertToBlob(g),v=y.type,b=await y.arrayBuffer(),m=n(b);if(p.close(),!r.has(t)&&await u===m)return r.set(t,m),i.postMessage({id:t});if(r.get(t)===m)return i.postMessage({id:t});i.postMessage({id:t,type:v,base64:m,width:o,height:f}),r.set(t,m)}};']);return URL.createObjectURL(e);}());return e.onmessage=e=>{var t=e.data,{id:n}=t;if(this.snapshotInProgressMap.set(n,!1),!("base64"in t))return;var{base64:r,type:i,width:o,height:a}=t;this.mutationCb({id:n,type:LP["2D"],commands:[{property:"clearRect",args:[0,0,o,a]},{property:"drawImage",args:[{rr_type:"ImageBitmap",args:[{rr_type:"Blob",data:[{rr_type:"ArrayBuffer",base64:r}],type:i}]},0,0,o,a]}]});},e;}initCanvasFPSObserver(e,t,n,r,i,o){var a=this.takeSnapshot(!1,e,t,n,r,i,o.dataURLOptions);this.restoreHandlers.push(()=>{cancelAnimationFrame(a);});}initCanvasMutationObserver(e,t,n,r){var i=WP(e,t,n,r,!1),o=function(e,t,n,r,i){var o=[],a=Object.getOwnPropertyNames(t.CanvasRenderingContext2D.prototype);var _loop4=function(_c5){try{if("function"!=typeof t.CanvasRenderingContext2D.prototype[_c5])return 1;// continue
var _a23=IP(t.CanvasRenderingContext2D.prototype,_c5,function(o){return function(...a){return PP(this.canvas,n,r,i)||MP(()=>{var n=HP(a,t,this);e(this.canvas,{type:LP["2D"],property:_c5,args:n});},0),o.apply(this,a);};});o.push(_a23);}catch(s){var _n85=TP(t.CanvasRenderingContext2D.prototype,_c5,{set(t){e(this.canvas,{type:LP["2D"],property:_c5,args:[t],setter:!0});}});o.push(_n85);}};for(var _c5 of a){if(_loop4(_c5))continue;}return()=>{o.forEach(e=>e());};}(this.processMutation.bind(this),e,t,n,r),a=function(e,t,n,r,i,o){var a=[];return a.push(...VP(t.WebGLRenderingContext.prototype,LP.WebGL,e,n,r,i,0,t)),void 0!==t.WebGL2RenderingContext&&a.push(...VP(t.WebGL2RenderingContext.prototype,LP.WebGL2,e,n,r,i,0,t)),()=>{a.forEach(e=>e());};}(this.processMutation.bind(this),e,t,n,r,this.mirror);this.restoreHandlers.push(()=>{i(),o(),a();});}snapshot(e){var{options:t}=this,n=this.takeSnapshot(!0,"all"===t.sampling?2:t.sampling||2,t.blockClass,t.blockSelector,t.unblockSelector,t.maxCanvasSize,t.dataURLOptions,e);this.restoreHandlers.push(()=>{cancelAnimationFrame(n);});}takeSnapshot(e,t,n,r,i,o,a,s){var c=1e3/t;var u,l=0;var d=e=>{if(e)return[e];var t=[],o=e=>{e.querySelectorAll("canvas").forEach(e=>{PP(e,n,r,i)||t.push(e);});};for(var _n86 of this.windows){var _e84=_n86.deref();_e84&&o(_e84.document);}for(var _n87 of this.shadowDoms){var _e85=_n87.deref();_e85&&o(_e85);}return t;},f=t=>{this.windows.length&&(l&&t-l<c?u=RP(f):(l=t,d(s).forEach(t=>{if(!this.mirror.hasNode(t))return;var n=this.mirror.getId(t);if(!this.snapshotInProgressMap.get(n)&&t.width&&t.height){if(this.snapshotInProgressMap.set(n,!0),!e&&["webgl","webgl2"].includes(t.__context)){var _e86=t.getContext(t.__context);!1===Vv([_e86,"optionalAccess",e=>e.getContextAttributes,"call",e=>e(),"optionalAccess",e=>e.preserveDrawingBuffer])&&_e86.clear(_e86.COLOR_BUFFER_BIT);}createImageBitmap(t).then(e=>{Vv([this,"access",e=>e.worker,"optionalAccess",e=>e.postMessage,"call",r=>r({id:n,bitmap:e,width:t.width,height:t.height,dataURLOptions:a,maxCanvasSize:o},[e])]);}).catch(e=>{DP(()=>{throw e;})();});}}),e||(u=RP(f))));};return u=RP(f),u;}startPendingCanvasMutationFlusher(){RP(()=>this.flushPendingCanvasMutations());}startRAFTimestamping(){var e=t=>{this.rafStamps.latestId=t,RP(e);};RP(e);}flushPendingCanvasMutations(){this.pendingCanvasMutations.forEach((e,t)=>{var n=this.mirror.getId(t);this.flushPendingCanvasMutationFor(t,n);}),RP(()=>this.flushPendingCanvasMutations());}flushPendingCanvasMutationFor(e,t){if(this.frozen||this.locked)return;var n=this.pendingCanvasMutations.get(e);if(!n||-1===t)return;var r=n.map(e=>{var{type:t,...n}=e;return n;}),{type:i}=n[0];this.mutationCb({id:t,type:i,commands:r}),this.pendingCanvasMutations.delete(e);}}var YP={low:{sampling:{canvas:1},dataURLOptions:{type:"image/webp",quality:.25}},medium:{sampling:{canvas:2},dataURLOptions:{type:"image/webp",quality:.4}},high:{sampling:{canvas:4},dataURLOptions:{type:"image/webp",quality:.5}}},JP=1280,XP=aw((e={})=>{var[t,n]=e.maxCanvasSize||[],r={quality:e.quality||"medium",enableManualSnapshot:e.enableManualSnapshot,maxCanvasSize:[t?Math.min(t,JP):JP,n?Math.min(n,JP):JP]};var i;var o=new Promise(e=>i=e);return{name:"ReplayCanvas",getOptions(){var{quality:e,enableManualSnapshot:t,maxCanvasSize:n}=r;return{enableManualSnapshot:t,recordCanvas:!0,getCanvasManager:e=>{var r=new GP({...e,enableManualSnapshot:t,maxCanvasSize:n,errorHandler:e=>{try{"object"==typeof e&&(e.__rrweb__=!0);}catch(t){}}});return i(r),r;},...(YP[e||"medium"]||YP.medium)};},async snapshot(e){(await o).snapshot(e);}};}),KP=Fg,ZP=KP.document,QP=KP.navigator,eA="Report a Bug",tA="widget",nA=(e,t={includeReplay:!0})=>{if(!e.message)throw new Error("Unable to submit feedback with empty message");var n=mb();if(!n)throw new Error("No client setup, cannot send feedback.");e.tags&&Object.keys(e.tags).length&&db().setTags(e.tags);var r=hk({source:"api",url:qg(),...e},t);return new Promise((e,t)=>{var i=setTimeout(()=>t("Unable to determine if Feedback was correctly sent."),5e3),o=n.on("afterSendEvent",(n,a)=>{if(n.event_id===r)return clearTimeout(i),o(),a&&"number"==typeof a.statusCode&&a.statusCode>=200&&a.statusCode<300&&e(r),a&&"number"==typeof a.statusCode&&0===a.statusCode?t("Unable to send Feedback. This is because of network issues, or because you are using an ad-blocker."):a&&"number"==typeof a.statusCode&&403===a.statusCode?t("Unable to send Feedback. This could be because this domain is not in your list of allowed domains."):t("Unable to send Feedback. This could be because of network issues, or because you are using an ad-blocker");});});},rA="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function iA(e,t){return{...e,...t,tags:{...e.tags,...t.tags},onFormOpen:()=>{t.onFormOpen&&t.onFormOpen(),e.onFormOpen&&e.onFormOpen();},onFormClose:()=>{t.onFormClose&&t.onFormClose(),e.onFormClose&&e.onFormClose();},onSubmitSuccess:n=>{t.onSubmitSuccess&&t.onSubmitSuccess(n),e.onSubmitSuccess&&e.onSubmitSuccess(n);},onSubmitError:n=>{t.onSubmitError&&t.onSubmitError(n),e.onSubmitError&&e.onSubmitError(n);},onFormSubmitted:()=>{t.onFormSubmitted&&t.onFormSubmitted(),e.onFormSubmitted&&e.onFormSubmitted();},themeDark:{...e.themeDark,...t.themeDark},themeLight:{...e.themeLight,...t.themeLight}};}function oA(e,t){return Object.entries(t).forEach(([t,n])=>{e.setAttributeNS(null,t,n);}),e;}var aA=20,sA="http://www.w3.org/2000/svg";function cA({triggerLabel:e,triggerAriaLabel:t,shadow:n,styleNonce:r}){var i=ZP.createElement("button");if(i.type="button",i.className="widget__actor",i.ariaHidden="false",i.ariaLabel=t||e||eA,i.appendChild(function(){var e=e=>KP.document.createElementNS(sA,e),t=oA(e("svg"),{width:`${aA}`,height:`${aA}`,viewBox:`0 0 ${aA} ${aA}`,fill:"var(--actor-color, var(--foreground))"}),n=oA(e("g"),{clipPath:"url(#clip0_57_80)"}),r=oA(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M15.6622 15H12.3997C12.2129 14.9959 12.031 14.9396 11.8747 14.8375L8.04965 12.2H7.49956V19.1C7.4875 19.3348 7.3888 19.5568 7.22256 19.723C7.05632 19.8892 6.83435 19.9879 6.59956 20H2.04956C1.80193 19.9968 1.56535 19.8969 1.39023 19.7218C1.21511 19.5467 1.1153 19.3101 1.11206 19.0625V12.2H0.949652C0.824431 12.2017 0.700142 12.1783 0.584123 12.1311C0.468104 12.084 0.362708 12.014 0.274155 11.9255C0.185602 11.8369 0.115689 11.7315 0.0685419 11.6155C0.0213952 11.4995 -0.00202913 11.3752 -0.00034808 11.25V3.75C-0.00900498 3.62067 0.0092504 3.49095 0.0532651 3.36904C0.0972798 3.24712 0.166097 3.13566 0.255372 3.04168C0.344646 2.94771 0.452437 2.87327 0.571937 2.82307C0.691437 2.77286 0.82005 2.74798 0.949652 2.75H8.04965L11.8747 0.1625C12.031 0.0603649 12.2129 0.00407221 12.3997 0H15.6622C15.9098 0.00323746 16.1464 0.103049 16.3215 0.278167C16.4966 0.453286 16.5964 0.689866 16.5997 0.9375V3.25269C17.3969 3.42959 18.1345 3.83026 18.7211 4.41679C19.5322 5.22788 19.9878 6.32796 19.9878 7.47502C19.9878 8.62209 19.5322 9.72217 18.7211 10.5333C18.1345 11.1198 17.3969 11.5205 16.5997 11.6974V14.0125C16.6047 14.1393 16.5842 14.2659 16.5395 14.3847C16.4948 14.5035 16.4268 14.6121 16.3394 14.7042C16.252 14.7962 16.147 14.8698 16.0307 14.9206C15.9144 14.9714 15.7891 14.9984 15.6622 15ZM1.89695 10.325H1.88715V4.625H8.33715C8.52423 4.62301 8.70666 4.56654 8.86215 4.4625L12.6872 1.875H14.7247V13.125H12.6872L8.86215 10.4875C8.70666 10.3835 8.52423 10.327 8.33715 10.325H2.20217C2.15205 10.3167 2.10102 10.3125 2.04956 10.3125C1.9981 10.3125 1.94708 10.3167 1.89695 10.325ZM2.98706 12.2V18.1625H5.66206V12.2H2.98706ZM16.5997 9.93612V5.01393C16.6536 5.02355 16.7072 5.03495 16.7605 5.04814C17.1202 5.13709 17.4556 5.30487 17.7425 5.53934C18.0293 5.77381 18.2605 6.06912 18.4192 6.40389C18.578 6.73866 18.6603 7.10452 18.6603 7.47502C18.6603 7.84552 18.578 8.21139 18.4192 8.54616C18.2605 8.88093 18.0293 9.17624 17.7425 9.41071C17.4556 9.64518 17.1202 9.81296 16.7605 9.90191C16.7072 9.91509 16.6536 9.9265 16.5997 9.93612Z"});t.appendChild(n).appendChild(r);var i=e("defs"),o=oA(e("clipPath"),{id:"clip0_57_80"}),a=oA(e("rect"),{width:`${aA}`,height:`${aA}`,fill:"white"});return o.appendChild(a),i.appendChild(o),t.appendChild(i).appendChild(o).appendChild(a),t;}()),e){var _t99=ZP.createElement("span");_t99.appendChild(ZP.createTextNode(e)),i.appendChild(_t99);}var o=function(e){var t=ZP.createElement("style");return t.textContent='\n.widget__actor {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: var(--page-margin);\n  inset: var(--actor-inset);\n\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 16px;\n\n  font-family: inherit;\n  font-size: var(--font-size);\n  font-weight: 600;\n  line-height: 1.14em;\n  text-decoration: none;\n\n  background: var(--actor-background, var(--background));\n  border-radius: var(--actor-border-radius, 1.7em/50%);\n  border: var(--actor-border, var(--border));\n  box-shadow: var(--actor-box-shadow, var(--box-shadow));\n  color: var(--actor-color, var(--foreground));\n  fill: var(--actor-color, var(--foreground));\n  cursor: pointer;\n  opacity: 1;\n  transition: transform 0.2s ease-in-out;\n  transform: translate(0, 0) scale(1);\n}\n.widget__actor[aria-hidden="true"] {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n  transform: translate(0, 16px) scale(0.98);\n}\n\n.widget__actor:hover {\n  background: var(--actor-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n\n.widget__actor svg {\n  width: 1.14em;\n  height: 1.14em;\n}\n\n@media (max-width: 600px) {\n  .widget__actor span {\n    display: none;\n  }\n}\n',e&&t.setAttribute("nonce",e),t;}(r);return{el:i,appendToDom(){n.appendChild(o),n.appendChild(i);},removeFromDom(){n.removeChild(i),n.removeChild(o);},show(){i.ariaHidden="false";},hide(){i.ariaHidden="true";}};}var uA="rgba(88, 74, 192, 1)",lA={foreground:"#2b2233",background:"#ffffff",accentForeground:"white",accentBackground:uA,successColor:"#268d75",errorColor:"#df3338",border:"1.5px solid rgba(41, 35, 47, 0.13)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(95%)"},dA={foreground:"#ebe6ef",background:"#29232f",accentForeground:"white",accentBackground:uA,successColor:"#2da98c",errorColor:"#f55459",border:"1.5px solid rgba(235, 230, 239, 0.15)",boxShadow:"0px 4px 24px 0px rgba(43, 34, 51, 0.12)",outline:"1px auto var(--accent-background)",interactiveFilter:"brightness(150%)"};function fA(e){return`\n  --foreground: ${e.foreground};\n  --background: ${e.background};\n  --accent-foreground: ${e.accentForeground};\n  --accent-background: ${e.accentBackground};\n  --success-color: ${e.successColor};\n  --error-color: ${e.errorColor};\n  --border: ${e.border};\n  --box-shadow: ${e.boxShadow};\n  --outline: ${e.outline};\n  --interactive-filter: ${e.interactiveFilter};\n  `;}var pA=({lazyLoadIntegration:e,getModalIntegration:t,getScreenshotIntegration:n})=>({id:r="sentry-feedback",autoInject:i=!0,showBranding:o=!0,isEmailRequired:a=!1,isNameRequired:s=!1,showEmail:c=!0,showName:u=!0,enableScreenshot:l=!0,useSentryUser:d={email:"email",name:"username"},tags:f,styleNonce:p,scriptNonce:h,colorScheme:m="system",themeLight:g={},themeDark:y={},addScreenshotButtonLabel:v="Add a screenshot",cancelButtonLabel:b="Cancel",confirmButtonLabel:_="Confirm",emailLabel:w="Email",emailPlaceholder:k="your.email@example.org",formTitle:S="Report a Bug",isRequiredLabel:x="(required)",messageLabel:E="Description",messagePlaceholder:C="What's the bug? What did you expect?",nameLabel:T="Name",namePlaceholder:I="Your Name",removeScreenshotButtonLabel:P="Remove screenshot",submitButtonLabel:A="Send Bug Report",successMessageText:O="Thank you for your report!",triggerLabel:R=eA,triggerAriaLabel:M="",onFormOpen:L,onFormClose:N,onSubmitSuccess:D,onSubmitError:B,onFormSubmitted:F}={})=>{var j={id:r,autoInject:i,showBranding:o,isEmailRequired:a,isNameRequired:s,showEmail:c,showName:u,enableScreenshot:l,useSentryUser:d,tags:f,styleNonce:p,scriptNonce:h,colorScheme:m,themeDark:y,themeLight:g,triggerLabel:R,triggerAriaLabel:M,cancelButtonLabel:b,submitButtonLabel:A,confirmButtonLabel:_,formTitle:S,emailLabel:w,emailPlaceholder:k,messageLabel:E,messagePlaceholder:C,nameLabel:T,namePlaceholder:I,successMessageText:O,isRequiredLabel:x,addScreenshotButtonLabel:v,removeScreenshotButtonLabel:P,onFormClose:N,onFormOpen:L,onSubmitError:B,onSubmitSuccess:D,onFormSubmitted:F};var U=null,$=[];var z=e=>{if(!U){var _t100=ZP.createElement("div");_t100.id=String(e.id),ZP.body.appendChild(_t100),U=_t100.attachShadow({mode:"open"}),U.appendChild(function({colorScheme:e,themeDark:t,themeLight:n,styleNonce:r}){var i=ZP.createElement("style");return i.textContent=`\n:host {\n  --font-family: system-ui, 'Helvetica Neue', Arial, sans-serif;\n  --font-size: 14px;\n  --z-index: 100000;\n\n  --page-margin: 16px;\n  --inset: auto 0 0 auto;\n  --actor-inset: var(--inset);\n\n  font-family: var(--font-family);\n  font-size: var(--font-size);\n\n  ${"system"!==e?"color-scheme: only light;":""}\n\n  ${fA("dark"===e?{...dA,...t}:{...lA,...n})}\n}\n\n${"system"===e?`\n@media (prefers-color-scheme: dark) {\n  :host {\n    ${fA({...dA,...t})}\n  }\n}`:""}\n}\n`,r&&i.setAttribute("nonce",r),i;}(e));}return U;},H=async(t,n,r)=>{var i=mb(),o=i&&i.getIntegrationByName(t);if(o)return o;var a=(n&&n()||(await e(r,h)))();return i&&i.addIntegration(a),a;},q=async e=>{var r=e.enableScreenshot&&function(){return!(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(QP.userAgent)||/Macintosh/i.test(QP.userAgent)&&QP.maxTouchPoints&&QP.maxTouchPoints>1||!isSecureContext);}(),[i,o]=await Promise.all([H("FeedbackModal",t,"feedbackModalIntegration"),r?H("FeedbackScreenshot",n,"feedbackScreenshotIntegration"):void 0]);if(!i)throw rA&&Xg.error("[Feedback] Missing feedback modal integration. Try using `feedbackSyncIntegration` in your `Sentry.init`."),new Error("[Feedback] Missing feedback modal integration!");r&&!o&&rA&&Xg.error("[Feedback] Missing feedback screenshot integration. Proceeding without screenshots.");var a=i.createDialog({options:{...e,onFormClose:()=>{a&&a.close(),e.onFormClose&&e.onFormClose();},onFormSubmitted:()=>{a&&a.close(),e.onFormSubmitted&&e.onFormSubmitted();}},screenshotIntegration:r?o:void 0,sendFeedback:nA,shadow:z(e)});return a;},W=(e,t={})=>{var n=iA(j,t),r="string"==typeof e?ZP.querySelector(e):"function"==typeof e.addEventListener?e:null;if(!r)throw rA&&Xg.error("[Feedback] Unable to attach to target element"),new Error("Unable to attach to target element");var i=null;var o=async()=>{i||(i=await q({...n,onFormSubmitted:()=>{i&&i.removeFromDom(),n.onFormSubmitted&&n.onFormSubmitted();}})),i.appendToDom(),i.open();};r.addEventListener("click",o);var a=()=>{$=$.filter(e=>e!==a),i&&i.removeFromDom(),i=null,r.removeEventListener("click",o);};return $.push(a),a;},V=(e={})=>{var t=iA(j,e),n=z(t),r=cA({triggerLabel:t.triggerLabel,triggerAriaLabel:t.triggerAriaLabel,shadow:n,styleNonce:p});return W(r.el,{...t,onFormOpen(){r.hide();},onFormClose(){r.show();},onFormSubmitted(){r.show();}}),r;};return{name:"Feedback",setupOnce(){Jy()&&j.autoInject&&("loading"===ZP.readyState?ZP.addEventListener("DOMContentLoaded",()=>V().appendToDom()):V().appendToDom());},attachTo:W,createWidget(e={}){var t=V(iA(j,e));return t.appendToDom(),t;},createForm:async(e={})=>q(iA(j,e)),remove(){U&&(U.parentElement&&U.parentElement.remove(),U=null),$.forEach(e=>e()),$=[];}};};var hA,mA,gA,yA,vA,bA,_A,wA={},kA=[],SA=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,xA=Array.isArray;function EA(e,t){for(var n in t)e[n]=t[n];return e;}function CA(e){var t=e.parentNode;t&&t.removeChild(e);}function TA(e,t,n){var r,i,o,a={};for(o in t)"key"==o?r=t[o]:"ref"==o?i=t[o]:a[o]=t[o];if(arguments.length>2&&(a.children=arguments.length>3?hA.call(arguments,2):n),"function"==typeof e&&null!=e.defaultProps)for(o in e.defaultProps)void 0===a[o]&&(a[o]=e.defaultProps[o]);return IA(e,a,r,i,null);}function IA(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==i?++gA:i,__i:-1,__u:0};return null==i&&null!=mA.vnode&&mA.vnode(o),o;}function PA(e){return e.children;}function AA(e,t){this.props=e,this.context=t;}function OA(e,t){if(null==t)return e.__?OA(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?OA(e):null;}function RA(e,t,n){var r,i=e.__v,o=i.__e,a=e.__P;if(a)return(r=EA({},i)).__v=i.__v+1,mA.vnode&&mA.vnode(r),HA(a,r,i,e.__n,void 0!==a.ownerSVGElement,32&i.__u?[o]:null,t,null==o?OA(i):o,!!(32&i.__u),n),r.__.__k[r.__i]=r,r.__d=void 0,r.__e!=o&&MA(r),r;}function MA(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break;}return MA(e);}}function LA(e){(!e.__d&&(e.__d=!0)&&yA.push(e)&&!NA.__r++||vA!==mA.debounceRendering)&&((vA=mA.debounceRendering)||bA)(NA);}function NA(){var e,t,n,r=[],i=[];for(yA.sort(_A);e=yA.shift();)e.__d&&(n=yA.length,t=RA(e,r,i)||t,0===n||yA.length>n?(qA(r,t,i),i.length=r.length=0,t=void 0,yA.sort(_A)):t&&mA.__c&&mA.__c(t,kA));t&&qA(r,t,i),NA.__r=0;}function DA(e,t,n,r,i,o,a,s,c,u,l){var d,f,p,h,m,g=r&&r.__k||kA,y=t.length;for(n.__d=c,function(e,t,n){var r,i,o,a,s,c=t.length,u=n.length,l=u,d=0;for(e.__k=[],r=0;r<c;r++)null!=(i=e.__k[r]=null==(i=t[r])||"boolean"==typeof i||"function"==typeof i?null:"string"==typeof i||"number"==typeof i||"bigint"==typeof i||i.constructor==String?IA(null,i,null,null,i):xA(i)?IA(PA,{children:i},null,null,null):void 0===i.constructor&&i.__b>0?IA(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)?(i.__=e,i.__b=e.__b+1,s=FA(i,n,a=r+d,l),i.__i=s,o=null,-1!==s&&(l--,(o=n[s])&&(o.__u|=131072)),null==o||null===o.__v?(-1==s&&d--,"function"!=typeof i.type&&(i.__u|=65536)):s!==a&&(s===a+1?d++:s>a?l>c-a?d+=s-a:d--:d=s<a&&s==a-1?s-a:0,s!==r+d&&(i.__u|=65536))):(o=n[r])&&null==o.key&&o.__e&&(o.__e==e.__d&&(e.__d=OA(o)),VA(o,o,!1),n[r]=null,l--);if(l)for(r=0;r<u;r++)null!=(o=n[r])&&!(131072&o.__u)&&(o.__e==e.__d&&(e.__d=OA(o)),VA(o,o));}(n,t,g),c=n.__d,d=0;d<y;d++)null!=(p=n.__k[d])&&"boolean"!=typeof p&&"function"!=typeof p&&(f=-1===p.__i?wA:g[p.__i]||wA,p.__i=d,HA(e,p,f,i,o,a,s,c,u,l),h=p.__e,p.ref&&f.ref!=p.ref&&(f.ref&&WA(f.ref,null,p),l.push(p.ref,p.__c||h,p)),null==m&&null!=h&&(m=h),65536&p.__u||f.__k===p.__k?c=BA(p,c,e):"function"==typeof p.type&&void 0!==p.__d?c=p.__d:h&&(c=h.nextSibling),p.__d=void 0,p.__u&=-196609);n.__d=c,n.__e=m;}function BA(e,t,n){var r,i;if("function"==typeof e.type){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=BA(r[i],t,n));return t;}e.__e!=t&&(n.insertBefore(e.__e,t||null),t=e.__e);do{t=t&&t.nextSibling;}while(null!=t&&8===t.nodeType);return t;}function FA(e,t,n,r){var i=e.key,o=e.type,a=n-1,s=n+1,c=t[n];if(null===c||c&&i==c.key&&o===c.type)return n;if(r>(null==c||131072&c.__u?0:1))for(;a>=0||s<t.length;){if(a>=0){if((c=t[a])&&!(131072&c.__u)&&i==c.key&&o===c.type)return a;a--;}if(s<t.length){if((c=t[s])&&!(131072&c.__u)&&i==c.key&&o===c.type)return s;s++;}}return-1;}function jA(e,t,n){"-"===t[0]?e.setProperty(t,null==n?"":n):e[t]=null==n?"":"number"!=typeof n||SA.test(t)?n:n+"px";}function UA(e,t,n,r,i){var o;e:if("style"===t){if("string"==typeof n)e.style.cssText=n;else{if("string"==typeof r&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||jA(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||jA(e.style,t,n[t]);}}else if("o"===t[0]&&"n"===t[1])o=t!==(t=t.replace(/(PointerCapture)$|Capture$/i,"$1")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=Date.now(),e.addEventListener(t,o?zA:$A,o)):e.removeEventListener(t,o?zA:$A,o);else{if(i)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if("width"!==t&&"height"!==t&&"href"!==t&&"list"!==t&&"form"!==t&&"tabIndex"!==t&&"download"!==t&&"rowSpan"!==t&&"colSpan"!==t&&"role"!==t&&t in e)try{e[t]=null==n?"":n;break e;}catch(a){}"function"==typeof n||(null==n||!1===n&&"-"!==t[4]?e.removeAttribute(t):e.setAttribute(t,n));}}function $A(e){if(this.l){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return;}else e.t=Date.now();return t(mA.event?mA.event(e):e);}}function zA(e){if(this.l)return this.l[e.type+!0](mA.event?mA.event(e):e);}function HA(e,t,n,r,i,o,a,s,c,u){var l,d,f,p,h,m,g,y,v,b,_,w,k,S,x,E=t.type;if(void 0!==t.constructor)return null;128&n.__u&&(c=!!(32&n.__u),o=[s=t.__e=n.__e]),(l=mA.__b)&&l(t);e:if("function"==typeof E)try{if(y=t.props,v=(l=E.contextType)&&r[l.__c],b=l?v?v.props.value:l.__:r,n.__c?g=(d=t.__c=n.__c).__=d.__E:("prototype"in E&&E.prototype.render?t.__c=d=new E(y,b):(t.__c=d=new AA(y,b),d.constructor=E,d.render=GA),v&&v.sub(d),d.props=y,d.state||(d.state={}),d.context=b,d.__n=r,f=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=E.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=EA({},d.__s)),EA(d.__s,E.getDerivedStateFromProps(y,d.__s))),p=d.props,h=d.state,d.__v=t,f)null==E.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==E.getDerivedStateFromProps&&y!==p&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(y,b),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(y,d.__s,b)||t.__v===n.__v)){for(t.__v!==n.__v&&(d.props=y,d.state=d.__s,d.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(e){e&&(e.__=t);}),_=0;_<d._sb.length;_++)d.__h.push(d._sb[_]);d._sb=[],d.__h.length&&a.push(d);break e;}null!=d.componentWillUpdate&&d.componentWillUpdate(y,d.__s,b),null!=d.componentDidUpdate&&d.__h.push(function(){d.componentDidUpdate(p,h,m);});}if(d.context=b,d.props=y,d.__P=e,d.__e=!1,w=mA.__r,k=0,"prototype"in E&&E.prototype.render){for(d.state=d.__s,d.__d=!1,w&&w(t),l=d.render(d.props,d.state,d.context),S=0;S<d._sb.length;S++)d.__h.push(d._sb[S]);d._sb=[];}else do{d.__d=!1,w&&w(t),l=d.render(d.props,d.state,d.context),d.state=d.__s;}while(d.__d&&++k<25);d.state=d.__s,null!=d.getChildContext&&(r=EA(EA({},r),d.getChildContext())),f||null==d.getSnapshotBeforeUpdate||(m=d.getSnapshotBeforeUpdate(p,h)),DA(e,xA(x=null!=l&&l.type===PA&&null==l.key?l.props.children:l)?x:[x],t,n,r,i,o,a,s,c,u),d.base=t.__e,t.__u&=-161,d.__h.length&&a.push(d),g&&(d.__E=d.__=null);}catch(C){t.__v=null,c||null!=o?(t.__e=s,t.__u|=c?160:32,o[o.indexOf(s)]=null):(t.__e=n.__e,t.__k=n.__k),mA.__e(C,t,n);}else null==o&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=function(e,t,n,r,i,o,a,s,c){var u,l,d,f,p,h,m,g=n.props,y=t.props,v=t.type;if("svg"===v&&(i=!0),null!=o)for(u=0;u<o.length;u++)if((p=o[u])&&"setAttribute"in p==!!v&&(v?p.localName===v:3===p.nodeType)){e=p,o[u]=null;break;}if(null==e){if(null===v)return document.createTextNode(y);e=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,y.is&&y),o=null,s=!1;}if(null===v)g===y||s&&e.data===y||(e.data=y);else{if(o=o&&hA.call(e.childNodes),g=n.props||wA,!s&&null!=o)for(g={},u=0;u<e.attributes.length;u++)g[(p=e.attributes[u]).name]=p.value;for(u in g)p=g[u],"children"==u||("dangerouslySetInnerHTML"==u?d=p:"key"===u||u in y||UA(e,u,null,p,i));for(u in y)p=y[u],"children"==u?f=p:"dangerouslySetInnerHTML"==u?l=p:"value"==u?h=p:"checked"==u?m=p:"key"===u||s&&"function"!=typeof p||g[u]===p||UA(e,u,p,g[u],i);if(l)s||d&&(l.__html===d.__html||l.__html===e.innerHTML)||(e.innerHTML=l.__html),t.__k=[];else if(d&&(e.innerHTML=""),DA(e,xA(f)?f:[f],t,n,r,i&&"foreignObject"!==v,o,a,o?o[0]:n.__k&&OA(n,0),s,c),null!=o)for(u=o.length;u--;)null!=o[u]&&CA(o[u]);s||(u="value",void 0!==h&&(h!==e[u]||"progress"===v&&!h||"option"===v&&h!==g[u])&&UA(e,u,h,g[u],!1),u="checked",void 0!==m&&m!==e[u]&&UA(e,u,m,g[u],!1));}return e;}(n.__e,t,n,r,i,o,a,c,u);(l=mA.diffed)&&l(t);}function qA(e,t,n){for(var r=0;r<n.length;r++)WA(n[r],n[++r],n[++r]);mA.__c&&mA.__c(t,e),e.some(function(t){try{e=t.__h,t.__h=[],e.some(function(e){e.call(t);});}catch(n){mA.__e(n,t.__v);}});}function WA(e,t,n){try{"function"==typeof e?e(t):e.current=t;}catch(r){mA.__e(r,n);}}function VA(e,t,n){var r,i;if(mA.unmount&&mA.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||WA(r,null,t)),null!=(r=e.__c)){if(r.componentWillUnmount)try{r.componentWillUnmount();}catch(o){mA.__e(o,t);}r.base=r.__P=null,e.__c=void 0;}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&VA(r[i],t,n||"function"!=typeof e.type);n||null==e.__e||CA(e.__e),e.__=e.__e=e.__d=void 0;}function GA(e,t,n){return this.constructor(e,n);}hA=kA.slice,mA={__e:function(e,t,n,r){for(var i,o,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&null!=o.getDerivedStateFromError&&(i.setState(o.getDerivedStateFromError(e)),a=i.__d),null!=i.componentDidCatch&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i;}catch(s){e=s;}throw e;}},gA=0,AA.prototype.setState=function(e,t){var n;n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=EA({},this.state),"function"==typeof e&&(e=e(EA({},n),this.props)),e&&EA(n,e),null!=e&&this.__v&&(t&&this._sb.push(t),LA(this));},AA.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),LA(this));},AA.prototype.render=PA,yA=[],bA="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,_A=function(e,t){return e.__v.__b-t.__v.__b;},NA.__r=0;var YA,JA,XA,KA,ZA=0,QA=[],eO=[],tO=mA,nO=tO.__b,rO=tO.__r,iO=tO.diffed,oO=tO.__c,aO=tO.unmount,sO=tO.__;function cO(e,t){tO.__h&&tO.__h(JA,e,ZA||t),ZA=0;var n=JA.__H||(JA.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:eO}),n.__[e];}function uO(e){return ZA=1,lO(_O,e);}function lO(e,t,n){var r=cO(YA++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):_O(void 0,t),function(e){var t=r.__N?r.__N[0]:r.__[0],n=r.t(t,e);t!==n&&(r.__N=[n,r.__[1]],r.__c.setState({}));}],r.__c=JA,!JA.u)){var i=function(e,t,n){if(!r.__c.__H)return!0;var i=r.__c.__H.__.filter(function(e){return!!e.__c;});if(i.every(function(e){return!e.__N;}))return!o||o.call(this,e,t,n);var a=!1;return i.forEach(function(e){if(e.__N){var t=e.__[0];e.__=e.__N,e.__N=void 0,t!==e.__[0]&&(a=!0);}}),!(!a&&r.__c.props===e)&&(!o||o.call(this,e,t,n));};JA.u=!0;var o=JA.shouldComponentUpdate,a=JA.componentWillUpdate;JA.componentWillUpdate=function(e,t,n){if(this.__e){var r=o;o=void 0,i(e,t,n),o=r;}a&&a.call(this,e,t,n);},JA.shouldComponentUpdate=i;}return r.__N||r.__;}function dO(e,t){var n=cO(YA++,4);!tO.__s&&bO(n.__H,t)&&(n.__=e,n.i=t,JA.__h.push(n));}function fO(e,t){var n=cO(YA++,7);return bO(n.__H,t)?(n.__V=e(),n.i=t,n.__h=e,n.__V):n.__;}function pO(e,t){return ZA=8,fO(function(){return e;},t);}function hO(){for(var e;e=QA.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(yO),e.__H.__h.forEach(vO),e.__H.__h=[];}catch(t){e.__H.__h=[],tO.__e(t,e.__v);}}tO.__b=function(e){JA=null,nO&&nO(e);},tO.__=function(e,t){t.__k&&t.__k.__m&&(e.__m=t.__k.__m),sO&&sO(e,t);},tO.__r=function(e){rO&&rO(e),YA=0;var t=(JA=e.__c).__H;t&&(XA===JA?(t.__h=[],JA.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.__V=eO,e.__N=e.i=void 0;})):(t.__h.forEach(yO),t.__h.forEach(vO),t.__h=[],YA=0)),XA=JA;},tO.diffed=function(e){iO&&iO(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(1!==QA.push(t)&&KA===tO.requestAnimationFrame||((KA=tO.requestAnimationFrame)||gO)(hO)),t.__H.__.forEach(function(e){e.i&&(e.__H=e.i),e.__V!==eO&&(e.__=e.__V),e.i=void 0,e.__V=eO;})),XA=JA=null;},tO.__c=function(e,t){t.some(function(e){try{e.__h.forEach(yO),e.__h=e.__h.filter(function(e){return!e.__||vO(e);});}catch(n){t.some(function(e){e.__h&&(e.__h=[]);}),t=[],tO.__e(n,e.__v);}}),oO&&oO(e,t);},tO.unmount=function(e){aO&&aO(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(e){try{yO(e);}catch(n){t=n;}}),n.__H=void 0,t&&tO.__e(t,n.__v));};var mO="function"==typeof requestAnimationFrame;function gO(e){var t,n=function(){clearTimeout(r),mO&&cancelAnimationFrame(t),setTimeout(e);},r=setTimeout(n,100);mO&&(t=requestAnimationFrame(n));}function yO(e){var t=JA,n=e.__c;"function"==typeof n&&(e.__c=void 0,n()),JA=t;}function vO(e){var t=JA;e.__c=e.__(),JA=t;}function bO(e,t){return!e||e.length!==t.length||t.some(function(t,n){return t!==e[n];});}function _O(e,t){return"function"==typeof t?t(e):t;}var wO={__proto__:null,useCallback:pO,useContext:function(e){var t=JA.context[e.__c],n=cO(YA++,9);return n.c=e,t?(null==n.__&&(n.__=!0,t.sub(JA)),t.props.value):e.__;},useDebugValue:function(e,t){tO.useDebugValue&&tO.useDebugValue(t?t(e):e);},useEffect:function(e,t){var n=cO(YA++,3);!tO.__s&&bO(n.__H,t)&&(n.__=e,n.i=t,JA.__H.__h.push(n));},useErrorBoundary:function(e){var t=cO(YA++,10),n=uO();return t.__=e,JA.componentDidCatch||(JA.componentDidCatch=function(e,r){t.__&&t.__(e,r),n[1](e);}),[n[0],function(){n[1](void 0);}];},useId:function(){var e=cO(YA++,11);if(!e.__){for(var t=JA.__v;null!==t&&!t.__m&&null!==t.__;)t=t.__;var n=t.__m||(t.__m=[0,0]);e.__="P"+n[0]+"-"+n[1]++;}return e.__;},useImperativeHandle:function(e,t,n){ZA=6,dO(function(){return"function"==typeof e?(e(t()),function(){return e(null);}):e?(e.current=t(),function(){return e.current=null;}):void 0;},null==n?n:n.concat(e));},useLayoutEffect:dO,useMemo:fO,useReducer:lO,useRef:function(e){return ZA=5,fO(function(){return{current:e};},[]);},useState:uO},kO="http://www.w3.org/2000/svg";function SO(){var e=e=>ZP.createElementNS(kO,e),t=oA(e("svg"),{width:"32",height:"30",viewBox:"0 0 72 66",fill:"inherit"}),n=oA(e("path"),{transform:"translate(11, 11)",d:"M29,2.26a4.67,4.67,0,0,0-8,0L14.42,13.53A32.21,32.21,0,0,1,32.17,40.19H27.55A27.68,27.68,0,0,0,12.09,17.47L6,28a15.92,15.92,0,0,1,9.23,12.17H4.62A.76.76,0,0,1,4,39.06l2.94-5a10.74,10.74,0,0,0-3.36-1.9l-2.91,5a4.54,4.54,0,0,0,1.69,6.24A4.66,4.66,0,0,0,4.62,44H19.15a19.4,19.4,0,0,0-8-17.31l2.31-4A23.87,23.87,0,0,1,23.76,44H36.07a35.88,35.88,0,0,0-16.41-31.8l4.67-8a.77.77,0,0,1,1.05-.27c.53.29,20.29,34.77,20.66,35.17a.76.76,0,0,1-.68,1.13H40.6q.09,1.91,0,3.81h4.78A4.59,4.59,0,0,0,50,39.43a4.49,4.49,0,0,0-.62-2.28Z"});return t.appendChild(n),t;}var xO="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/DialogHeader.tsx";function EO({options:e}){var t=fO(()=>({__html:SO().outerHTML}),[]);return TA("h2",{class:"dialog__header",__self:this,__source:{fileName:xO,lineNumber:16}},e.formTitle,e.showBranding?TA("a",{class:"brand-link",target:"_blank",href:"https://sentry.io/welcome/",title:"Powered by Sentry",rel:"noopener noreferrer",dangerouslySetInnerHTML:t,__self:this,__source:{fileName:xO,lineNumber:19}}):null);}var CO="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Form.tsx";function TO(e,t){var n=e.get(t);return"string"==typeof n?n.trim():"";}function IO({options:e,defaultEmail:t,defaultName:n,onFormClose:r,onSubmit:i,onSubmitSuccess:o,onSubmitError:a,showEmail:s,showName:c,screenshotInput:u}){var{tags:l,addScreenshotButtonLabel:d,removeScreenshotButtonLabel:f,cancelButtonLabel:p,emailLabel:h,emailPlaceholder:m,isEmailRequired:g,isNameRequired:y,messageLabel:v,messagePlaceholder:b,nameLabel:_,namePlaceholder:w,submitButtonLabel:k,isRequiredLabel:S}=e,[x,E]=uO(null),[C,T]=uO(!1),I=u&&u.input,[P,A]=uO(null),O=pO(e=>{A(e),T(!1);},[]),R=pO(e=>{var t=function(e,t){var n=[];return t.isNameRequired&&!e.name&&n.push(t.nameLabel),t.isEmailRequired&&!e.email&&n.push(t.emailLabel),e.message||n.push(t.messageLabel),n;}(e,{emailLabel:h,isEmailRequired:g,isNameRequired:y,messageLabel:v,nameLabel:_});return t.length>0?E(`Please enter in the following required fields: ${t.join(", ")}`):E(null),0===t.length;},[h,g,y,v,_]);return TA("form",{class:"form",onSubmit:pO(async e=>{try{if(e.preventDefault(),!(e.target instanceof HTMLFormElement))return;var _n88=new FormData(e.target),_r61=await(u&&C?u.value():void 0),_s17={name:TO(_n88,"name"),email:TO(_n88,"email"),message:TO(_n88,"message"),attachments:_r61?[_r61]:void 0};if(!R(_s17))return;try{await i({name:_s17.name,email:_s17.email,message:_s17.message,source:tA,tags:l},{attachments:_s17.attachments}),o(_s17);}catch(t){rA&&Xg.error(t),E(t),a(t);}}catch(n){}},[u&&C,o,a]),__self:this,__source:{fileName:CO,lineNumber:144}},I&&C?TA(I,{onError:O,__self:this,__source:{fileName:CO,lineNumber:146}}):null,TA("div",{class:"form__right","data-sentry-feedback":!0,__self:this,__source:{fileName:CO,lineNumber:149}},TA("div",{class:"form__top",__self:this,__source:{fileName:CO,lineNumber:150}},x?TA("div",{class:"form__error-container",__self:this,__source:{fileName:CO,lineNumber:151}},x):null,c?TA("label",{for:"name",class:"form__label",__self:this,__source:{fileName:CO,lineNumber:154}},TA(PO,{label:_,isRequiredLabel:S,isRequired:y,__self:this,__source:{fileName:CO,lineNumber:155}}),TA("input",{class:"form__input",defaultValue:n,id:"name",name:"name",placeholder:w,required:y,type:"text",__self:this,__source:{fileName:CO,lineNumber:156}})):TA("input",{"aria-hidden":!0,value:n,name:"name",type:"hidden",__self:this,__source:{fileName:CO,lineNumber:167}}),s?TA("label",{for:"email",class:"form__label",__self:this,__source:{fileName:CO,lineNumber:171}},TA(PO,{label:h,isRequiredLabel:S,isRequired:g,__self:this,__source:{fileName:CO,lineNumber:172}}),TA("input",{class:"form__input",defaultValue:t,id:"email",name:"email",placeholder:m,required:g,type:"email",__self:this,__source:{fileName:CO,lineNumber:173}})):TA("input",{"aria-hidden":!0,value:t,name:"email",type:"hidden",__self:this,__source:{fileName:CO,lineNumber:184}}),TA("label",{for:"message",class:"form__label",__self:this,__source:{fileName:CO,lineNumber:187}},TA(PO,{label:v,isRequiredLabel:S,isRequired:!0,__self:this,__source:{fileName:CO,lineNumber:188}}),TA("textarea",{autoFocus:!0,class:"form__input form__input--textarea",id:"message",name:"message",placeholder:b,required:!0,rows:5,__self:this,__source:{fileName:CO,lineNumber:189}})),I?TA("label",{for:"screenshot",class:"form__label",__self:this,__source:{fileName:CO,lineNumber:201}},TA("button",{class:"btn btn--default",type:"button",onClick:()=>{A(null),T(e=>!e);},__self:this,__source:{fileName:CO,lineNumber:202}},C?f:d),P?TA("div",{class:"form__error-container",__self:this,__source:{fileName:CO,lineNumber:212}},P.message):null):null),TA("div",{class:"btn-group",__self:this,__source:{fileName:CO,lineNumber:216}},TA("button",{class:"btn btn--primary",type:"submit",__self:this,__source:{fileName:CO,lineNumber:217}},k),TA("button",{class:"btn btn--default",type:"button",onClick:r,__self:this,__source:{fileName:CO,lineNumber:220}},p))));}function PO({label:e,isRequired:t,isRequiredLabel:n}){return TA("span",{class:"form__label__text",__self:this,__source:{fileName:CO,lineNumber:239}},e,t&&TA("span",{class:"form__label__text--required",__self:this,__source:{fileName:CO,lineNumber:241}},n));}var AO=16,OO=17,RO="http://www.w3.org/2000/svg";function MO(){var e=e=>KP.document.createElementNS(RO,e),t=oA(e("svg"),{width:`${AO}`,height:`${OO}`,viewBox:`0 0 ${AO} ${OO}`,fill:"inherit"}),n=oA(e("g"),{clipPath:"url(#clip0_57_156)"}),r=oA(e("path"),{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.55544 15.1518C4.87103 16.0308 6.41775 16.5 8 16.5C10.1217 16.5 12.1566 15.6571 13.6569 14.1569C15.1571 12.6566 16 10.6217 16 8.5C16 6.91775 15.5308 5.37103 14.6518 4.05544C13.7727 2.73985 12.5233 1.71447 11.0615 1.10897C9.59966 0.503466 7.99113 0.34504 6.43928 0.653721C4.88743 0.962403 3.46197 1.72433 2.34315 2.84315C1.22433 3.96197 0.462403 5.38743 0.153721 6.93928C-0.15496 8.49113 0.00346625 10.0997 0.608967 11.5615C1.21447 13.0233 2.23985 14.2727 3.55544 15.1518ZM4.40546 3.1204C5.46945 2.40946 6.72036 2.03 8 2.03C9.71595 2.03 11.3616 2.71166 12.575 3.92502C13.7883 5.13838 14.47 6.78405 14.47 8.5C14.47 9.77965 14.0905 11.0306 13.3796 12.0945C12.6687 13.1585 11.6582 13.9878 10.476 14.4775C9.29373 14.9672 7.99283 15.0953 6.73777 14.8457C5.48271 14.596 4.32987 13.9798 3.42502 13.075C2.52018 12.1701 1.90397 11.0173 1.65432 9.76224C1.40468 8.50718 1.5328 7.20628 2.0225 6.02404C2.5122 4.8418 3.34148 3.83133 4.40546 3.1204Z"}),i=oA(e("path"),{d:"M6.68775 12.4297C6.78586 12.4745 6.89218 12.4984 7 12.5C7.11275 12.4955 7.22315 12.4664 7.32337 12.4145C7.4236 12.3627 7.51121 12.2894 7.58 12.2L12 5.63999C12.0848 5.47724 12.1071 5.28902 12.0625 5.11098C12.0178 4.93294 11.9095 4.77744 11.7579 4.67392C11.6064 4.57041 11.4221 4.52608 11.24 4.54931C11.0579 4.57254 10.8907 4.66173 10.77 4.79999L6.88 10.57L5.13 8.56999C5.06508 8.49566 4.98613 8.43488 4.89768 8.39111C4.80922 8.34735 4.713 8.32148 4.61453 8.31498C4.51605 8.30847 4.41727 8.32147 4.32382 8.35322C4.23038 8.38497 4.14413 8.43484 4.07 8.49999C3.92511 8.63217 3.83692 8.81523 3.82387 9.01092C3.81083 9.2066 3.87393 9.39976 4 9.54999L6.43 12.24C6.50187 12.3204 6.58964 12.385 6.68775 12.4297Z"});t.appendChild(n).append(i,r);var o=e("defs"),a=oA(e("clipPath"),{id:"clip0_57_156"}),s=oA(e("rect"),{width:`${AO}`,height:`${AO}`,fill:"white",transform:"translate(0 0.5)"});return a.appendChild(s),o.appendChild(a),t.appendChild(o).appendChild(a).appendChild(s),t;}var LO="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/components/Dialog.tsx";function NO({open:e,onFormSubmitted:t,...n}){var r=n.options,i=fO(()=>({__html:MO().outerHTML}),[]),[o,a]=uO(null),s=pO(()=>{o&&(clearTimeout(o),a(null)),t();},[o]),c=pO(e=>{n.onSubmitSuccess(e),a(setTimeout(()=>{t(),a(null);},5e3));},[t]);return TA(PA,{__self:this,__source:{fileName:LO,lineNumber:48}},o?TA("div",{class:"success__position",onClick:s,__self:this,__source:{fileName:LO,lineNumber:50}},TA("div",{class:"success__content",__self:this,__source:{fileName:LO,lineNumber:51}},r.successMessageText,TA("span",{class:"success__icon",dangerouslySetInnerHTML:i,__self:this,__source:{fileName:LO,lineNumber:53}}))):TA("dialog",{class:"dialog",onClick:r.onFormClose,open:e,__self:this,__source:{fileName:LO,lineNumber:57}},TA("div",{class:"dialog__position",__self:this,__source:{fileName:LO,lineNumber:58}},TA("div",{class:"dialog__content",onClick:e=>{e.stopPropagation();},__self:this,__source:{fileName:LO,lineNumber:59}},TA(EO,{options:r,__self:this,__source:{fileName:LO,lineNumber:66}}),TA(IO,{...n,onSubmitSuccess:c,__self:this,__source:{fileName:LO,lineNumber:67}})))));}var DO=()=>({name:"FeedbackModal",setupOnce(){},createDialog:({options:e,screenshotIntegration:t,sendFeedback:n,shadow:r})=>{var i=r,o=e.useSentryUser,a=function(){var e=db().getUser(),t=fb().getUser(),n=pb().getUser();return e&&Object.keys(e).length?e:t&&Object.keys(t).length?t:n;}(),s=ZP.createElement("div"),c=function(e){var t=ZP.createElement("style");return t.textContent="\n:host {\n  --dialog-inset: var(--inset);\n}\n\n\n.dialog {\n  position: fixed;\n  z-index: var(--z-index);\n  margin: 0;\n  inset: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 0;\n  height: 100vh;\n  width: 100vw;\n\n  color: var(--dialog-color, var(--foreground));\n  fill: var(--dialog-color, var(--foreground));\n  line-height: 1.75em;\n\n  background-color: rgba(0, 0, 0, 0.05);\n  border: none;\n  inset: 0;\n  opacity: 1;\n  transition: opacity 0.2s ease-in-out;\n}\n\n.dialog__position {\n  position: fixed;\n  z-index: var(--z-index);\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  display: flex;\n  max-height: calc(100vh - (2 * var(--page-margin)));\n}\n@media (max-width: 600px) {\n  .dialog__position {\n    inset: var(--page-margin);\n    padding: 0;\n  }\n}\n\n.dialog__position:has(.editor) {\n  inset: var(--page-margin);\n  padding: 0;\n}\n\n.dialog:not([open]) {\n  opacity: 0;\n  pointer-events: none;\n  visibility: hidden;\n}\n.dialog:not([open]) .dialog__content {\n  transform: translate(0, -16px) scale(0.98);\n}\n\n.dialog__content {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding: var(--dialog-padding, 24px);\n  max-width: 100%;\n  width: 100%;\n  max-height: 100%;\n  overflow: auto;\n\n  background: var(--dialog-background, var(--background));\n  border-radius: var(--dialog-border-radius, 20px);\n  border: var(--dialog-border, var(--border));\n  box-shadow: var(--dialog-box-shadow, var(--box-shadow));\n  transform: translate(0, 0) scale(1);\n  transition: transform 0.2s ease-in-out;\n}\n\n\n.dialog__header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  font-weight: var(--dialog-header-weight, 600);\n  margin: 0;\n}\n\n.brand-link {\n  display: inline-flex;\n}\n.brand-link:focus-visible {\n  outline: var(--outline);\n}\n\n\n.form {\n  display: flex;\n  overflow: auto;\n  flex-direction: row;\n  gap: 16px;\n  flex: 1 0;\n}\n\n.form__right {\n  flex: 0 0 auto;\n  width: var(--form-width, 272px);\n  display: flex;\n  overflow: auto;\n  flex-direction: column;\n  justify-content: space-between;\n  gap: 20px;\n}\n\n@media (max-width: 600px) {\n  .form__right {\n    width: var(--form-width, 100%);\n  }\n}\n\n.form__top {\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n}\n\n.form__error-container {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n.form__label {\n  display: flex;\n  flex-direction: column;\n  gap: 4px;\n  margin: 0px;\n}\n\n.form__label__text {\n  display: flex;\n  gap: 4px;\n  align-items: center;\n}\n\n.form__label__text--required {\n  font-size: 0.85em;\n}\n\n.form__input {\n  font-family: inherit;\n  line-height: inherit;\n  background: transparent;\n  box-sizing: border-box;\n  border: var(--input-border, var(--border));\n  border-radius: var(--input-border-radius, 6px);\n  color: var(--input-color, inherit);\n  fill: var(--input-color, inherit);\n  font-size: var(--input-font-size, inherit);\n  font-weight: var(--input-font-weight, 500);\n  padding: 6px 12px;\n}\n\n.form__input::placeholder {\n  opacity: 0.65;\n  color: var(--input-placeholder-color, inherit);\n  filter: var(--interactive-filter);\n}\n\n.form__input:focus-visible {\n  outline: var(--input-focus-outline, var(--outline));\n}\n\n.form__input--textarea {\n  font-family: inherit;\n  resize: vertical;\n}\n\n.error {\n  color: var(--error-color);\n  fill: var(--error-color);\n}\n\n\n.btn-group {\n  display: grid;\n  gap: 8px;\n}\n\n.btn {\n  line-height: inherit;\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  cursor: pointer;\n  font-family: inherit;\n  font-size: var(--button-font-size, inherit);\n  font-weight: var(--button-font-weight, 600);\n  padding: var(--button-padding, 6px 16px);\n}\n.btn[disabled] {\n  opacity: 0.6;\n  pointer-events: none;\n}\n\n.btn--primary {\n  color: var(--button-primary-color, var(--accent-foreground));\n  fill: var(--button-primary-color, var(--accent-foreground));\n  background: var(--button-primary-background, var(--accent-background));\n  border: var(--button-primary-border, var(--border));\n  border-radius: var(--button-primary-border-radius, 6px);\n  font-weight: var(--button-primary-font-weight, 500);\n}\n.btn--primary:hover {\n  color: var(--button-primary-hover-color, var(--accent-foreground));\n  fill: var(--button-primary-hover-color, var(--accent-foreground));\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n}\n.btn--primary:focus-visible {\n  background: var(--button-primary-hover-background, var(--accent-background));\n  filter: var(--interactive-filter);\n  outline: var(--button-primary-focus-outline, var(--outline));\n}\n\n.btn--default {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-background, var(--background));\n  border: var(--button-border, var(--border));\n  border-radius: var(--button-border-radius, 6px);\n  font-weight: var(--button-font-weight, 500);\n}\n.btn--default:hover {\n  color: var(--button-color, var(--foreground));\n  fill: var(--button-color, var(--foreground));\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n}\n.btn--default:focus-visible {\n  background: var(--button-hover-background, var(--background));\n  filter: var(--interactive-filter);\n  outline: var(--button-focus-outline, var(--outline));\n}\n\n\n.success__position {\n  position: fixed;\n  inset: var(--dialog-inset);\n  padding: var(--page-margin);\n  z-index: var(--z-index);\n}\n.success__content {\n  background: var(--success-background, var(--background));\n  border: var(--success-border, var(--border));\n  border-radius: var(--success-border-radius, 1.7em/50%);\n  box-shadow: var(--success-box-shadow, var(--box-shadow));\n  font-weight: var(--success-font-weight, 600);\n  color: var(--success-color);\n  fill: var(--success-color);\n  padding: 12px 24px;\n  line-height: 1.75em;\n\n  display: grid;\n  align-items: center;\n  grid-auto-flow: column;\n  gap: 6px;\n  cursor: default;\n}\n\n.success__icon {\n  display: flex;\n}\n\n",e&&t.setAttribute("nonce",e),t;}(e.styleNonce);var u="";var l={get el(){return s;},appendToDom(){i.contains(c)||i.contains(s)||(i.appendChild(c),i.appendChild(s));},removeFromDom(){i.removeChild(s),i.removeChild(c),ZP.body.style.overflow=u;},open(){f(!0),e.onFormOpen&&e.onFormOpen(),u=ZP.body.style.overflow,ZP.body.style.overflow="hidden";},close(){f(!1),ZP.body.style.overflow=u;}},d=t&&t.createInput({h:TA,hooks:wO,dialog:l,options:e}),f=t=>{!function(e,t,n){var r,i,o,a;mA.__&&mA.__(e,t),i=(r="function"==typeof n)?null:t.__k,o=[],a=[],HA(t,e=(!r&&n||t).__k=TA(PA,null,[e]),i||wA,wA,void 0!==t.ownerSVGElement,!r&&n?[n]:i?null:t.firstChild?hA.call(t.childNodes):null,o,!r&&n?n:i?i.__e:t.firstChild,r,a),e.__d=void 0,qA(o,e,a);}(TA(NO,{options:e,screenshotInput:d,showName:e.showName||e.isNameRequired,showEmail:e.showEmail||e.isEmailRequired,defaultName:o&&a&&a[o.name]||"",defaultEmail:o&&a&&a[o.email]||"",onFormClose:()=>{f(!1),e.onFormClose&&e.onFormClose();},onSubmit:n,onSubmitSuccess:t=>{f(!1),e.onSubmitSuccess&&e.onSubmitSuccess(t);},onSubmitError:t=>{e.onSubmitError&&e.onSubmitError(t);},onFormSubmitted:()=>{e.onFormSubmitted&&e.onFormSubmitted();},open:t,__self:void 0,__source:{fileName:"/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/modal/integration.tsx",lineNumber:67}}),s);};return l;}}),BO="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/CropCorner.tsx";function FO(e){var t=ZP.createElement("style"),n="#1A141F",r="#302735";return t.textContent=`\n.editor {\n  padding: 10px;\n  padding-top: 65px;\n  padding-bottom: 65px;\n  flex-grow: 1;\n\n  background-color: ${n};\n  background-image: repeating-linear-gradient(\n      -145deg,\n      transparent,\n      transparent 8px,\n      ${n} 8px,\n      ${n} 11px\n    ),\n    repeating-linear-gradient(\n      -45deg,\n      transparent,\n      transparent 15px,\n      ${r} 15px,\n      ${r} 16px\n    );\n}\n\n.editor__canvas-container {\n  width: 100%;\n  height: 100%;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.editor__canvas-container canvas {\n  object-fit: contain;\n  position: relative;\n}\n\n.editor__crop-btn-group {\n  padding: 8px;\n  gap: 8px;\n  border-radius: var(--menu-border-radius, 6px);\n  background: var(--button-primary-background, var(--background));\n  width: 175px;\n  position: absolute;\n}\n\n.editor__crop-corner {\n  width: 30px;\n  height: 30px;\n  position: absolute;\n  background: none;\n  border: 3px solid #ffffff;\n}\n\n.editor__crop-corner--top-left {\n  cursor: nwse-resize;\n  border-right: none;\n  border-bottom: none;\n}\n.editor__crop-corner--top-right {\n  cursor: nesw-resize;\n  border-left: none;\n  border-bottom: none;\n}\n.editor__crop-corner--bottom-left {\n  cursor: nesw-resize;\n  border-right: none;\n  border-top: none;\n}\n.editor__crop-corner--bottom-right {\n  cursor: nwse-resize;\n  border-left: none;\n  border-top: none;\n}\n`,e&&t.setAttribute("nonce",e),t;}var jO="/home/runner/work/sentry-javascript/sentry-javascript/packages/feedback/src/screenshot/components/ScreenshotEditor.tsx",UO=33,$O=KP.devicePixelRatio,zO=e=>({x:Math.min(e.startX,e.endX),y:Math.min(e.startY,e.endY),width:Math.abs(e.startX-e.endX),height:Math.abs(e.startY-e.endY)}),HO=e=>{var t=e.clientHeight,n=e.clientWidth,r=e.width/e.height;var i=t*r,o=t;i>n&&(i=n,o=n/r);var a=(n-i)/2,s=(t-o)/2;return{startX:a,startY:s,endX:i+a,endY:o+s};};function qO({h:e,hooks:t,imageBuffer:n,dialog:r,options:i}){var o=function({hooks:e}){return function({onBeforeScreenshot:t,onScreenshot:n,onAfterScreenshot:r,onError:i}){e.useEffect(()=>{(async()=>{t();var e=await QP.mediaDevices.getDisplayMedia({video:{width:KP.innerWidth*KP.devicePixelRatio,height:KP.innerHeight*KP.devicePixelRatio},audio:!1,monitorTypeSurfaces:"exclude",preferCurrentTab:!0,selfBrowserSurface:"include",surfaceSwitching:"exclude"}),i=ZP.createElement("video");await new Promise((t,r)=>{i.srcObject=e,i.onloadedmetadata=()=>{n(i),e.getTracks().forEach(e=>e.stop()),t();},i.play().catch(r);}),r();})().catch(i);},[]);};}({hooks:t});return function({onError:a}){var s=t.useMemo(()=>({__html:FO(i.styleNonce).innerText}),[]),c=function({h:e}){return function({top:t,left:n,corner:r,onGrabButton:i}){return e("button",{class:`editor__crop-corner editor__crop-corner--${r} `,style:{top:t,left:n},onMouseDown:e=>{e.preventDefault(),i(e,r);},onClick:e=>{e.preventDefault();},__self:this,__source:{fileName:BO,lineNumber:22}});};}({h:e}),u=t.useRef(null),l=t.useRef(null),d=t.useRef(null),[f,p]=t.useState({startX:0,startY:0,endX:0,endY:0}),[h,m]=t.useState(!1),[g,y]=t.useState(!1);function v(){var e=d.current,t=zO(HO(n));if(e){e.width=t.width*$O,e.height=t.height*$O,e.style.width=`${t.width}px`,e.style.height=`${t.height}px`;var _n89=e.getContext("2d");_n89&&_n89.scale($O,$O);}var r=l.current;r&&(r.style.width=`${t.width}px`,r.style.height=`${t.height}px`),p({startX:0,startY:0,endX:t.width,endY:t.height});}function b(e,t){m(!1),y(!0);var n=_(t),r=()=>{ZP.removeEventListener("mousemove",n),ZP.removeEventListener("mouseup",r),m(!0),y(!1);};ZP.addEventListener("mouseup",r),ZP.addEventListener("mousemove",n);}t.useEffect(()=>{KP.addEventListener("resize",v,!1);},[]),t.useEffect(()=>{var e=d.current;if(!e)return;var t=e.getContext("2d");if(!t)return;var r=zO(HO(n)),i=zO(f);t.clearRect(0,0,r.width,r.height),t.fillStyle="rgba(0, 0, 0, 0.5)",t.fillRect(0,0,r.width,r.height),t.clearRect(i.x,i.y,i.width,i.height),t.strokeStyle="#ffffff",t.lineWidth=3,t.strokeRect(i.x+1,i.y+1,i.width-2,i.height-2),t.strokeStyle="#000000",t.lineWidth=1,t.strokeRect(i.x+3,i.y+3,i.width-6,i.height-6);},[f]);var _=t.useCallback(e=>function(t){if(!d.current)return;var n=d.current,r=n.getBoundingClientRect(),i=t.clientX-r.x,o=t.clientY-r.y;switch(e){case"top-left":p(e=>({...e,startX:Math.min(Math.max(0,i),e.endX-UO),startY:Math.min(Math.max(0,o),e.endY-UO)}));break;case"top-right":p(e=>({...e,endX:Math.max(Math.min(i,n.width/$O),e.startX+UO),startY:Math.min(Math.max(0,o),e.endY-UO)}));break;case"bottom-left":p(e=>({...e,startX:Math.min(Math.max(0,i),e.endX-UO),endY:Math.max(Math.min(o,n.height/$O),e.startY+UO)}));break;case"bottom-right":p(e=>({...e,endX:Math.max(Math.min(i,n.width/$O),e.startX+UO),endY:Math.max(Math.min(o,n.height/$O),e.startY+UO)}));}},[]),w=t.useRef({initialX:0,initialY:0});return o({onBeforeScreenshot:t.useCallback(()=>{r.el.style.display="none";},[]),onScreenshot:t.useCallback(e=>{var t=n.getContext("2d");if(!t)throw new Error("Could not get canvas context");n.width=e.videoWidth,n.height=e.videoHeight,n.style.width="100%",n.style.height="100%",t.drawImage(e,0,0);},[n]),onAfterScreenshot:t.useCallback(()=>{r.el.style.display="block";var e=u.current;e&&e.appendChild(n),v();},[]),onError:t.useCallback(e=>{r.el.style.display="block",a(e);},[])}),e("div",{class:"editor",__self:this,__source:{fileName:jO,lineNumber:315}},e("style",{nonce:i.styleNonce,dangerouslySetInnerHTML:s,__self:this,__source:{fileName:jO,lineNumber:316}}),e("div",{class:"editor__canvas-container",ref:u,__self:this,__source:{fileName:jO,lineNumber:317}},e("div",{class:"editor__crop-container",style:{position:"absolute",zIndex:1},ref:l,__self:this,__source:{fileName:jO,lineNumber:318}},e("canvas",{onMouseDown:function(e){if(g)return;w.current={initialX:e.clientX,initialY:e.clientY};var t=e=>{var t=d.current;if(!t)return;var n=e.clientX-w.current.initialX,r=e.clientY-w.current.initialY;p(i=>{var o=Math.max(0,Math.min(i.startX+n,t.width/$O-(i.endX-i.startX))),a=Math.max(0,Math.min(i.startY+r,t.height/$O-(i.endY-i.startY))),s=o+(i.endX-i.startX),c=a+(i.endY-i.startY);return w.current.initialX=e.clientX,w.current.initialY=e.clientY,{startX:o,startY:a,endX:s,endY:c};});},n=()=>{ZP.removeEventListener("mousemove",t),ZP.removeEventListener("mouseup",n);};ZP.addEventListener("mousemove",t),ZP.addEventListener("mouseup",n);},style:{position:"absolute",cursor:h?"move":"auto"},ref:d,__self:this,__source:{fileName:jO,lineNumber:319}}),e(c,{left:f.startX-3,top:f.startY-3,onGrabButton:b,corner:"top-left",__self:this,__source:{fileName:jO,lineNumber:324}}),e(c,{left:f.endX-30+3,top:f.startY-3,onGrabButton:b,corner:"top-right",__self:this,__source:{fileName:jO,lineNumber:330}}),e(c,{left:f.startX-3,top:f.endY-30+3,onGrabButton:b,corner:"bottom-left",__self:this,__source:{fileName:jO,lineNumber:336}}),e(c,{left:f.endX-30+3,top:f.endY-30+3,onGrabButton:b,corner:"bottom-right",__self:this,__source:{fileName:jO,lineNumber:342}}),e("div",{style:{left:Math.max(0,f.endX-191),top:Math.max(0,f.endY+8),display:h?"flex":"none"},class:"editor__crop-btn-group",__self:this,__source:{fileName:jO,lineNumber:348}},e("button",{onClick:e=>{e.preventDefault(),d.current&&p({startX:0,startY:0,endX:d.current.width/$O,endY:d.current.height/$O}),m(!1);},class:"btn btn--default",__self:this,__source:{fileName:jO,lineNumber:356}},i.cancelButtonLabel),e("button",{onClick:e=>{e.preventDefault(),function(){var e=ZP.createElement("canvas"),t=zO(HO(n)),r=zO(f);e.width=r.width*$O,e.height=r.height*$O;var i=e.getContext("2d");i&&n&&i.drawImage(n,r.x/t.width*n.width,r.y/t.height*n.height,r.width/t.width*n.width,r.height/t.height*n.height,0,0,e.width,e.height);var o=n.getContext("2d");o&&(o.clearRect(0,0,n.width,n.height),n.width=e.width,n.height=e.height,n.style.width=`${r.width}px`,n.style.height=`${r.height}px`,o.drawImage(e,0,0),v());}(),m(!1);},class:"btn btn--primary",__self:this,__source:{fileName:jO,lineNumber:373}},i.confirmButtonLabel)))));};}var WO=()=>({name:"FeedbackScreenshot",setupOnce(){},createInput:({h:e,hooks:t,dialog:n,options:r})=>{var i=ZP.createElement("canvas");return{input:qO({h:e,hooks:t,imageBuffer:i,dialog:n,options:r}),value:async()=>{var e=await new Promise(e=>{i.toBlob(e,"image/png");});if(e){return{data:new Uint8Array(await e.arrayBuffer()),filename:"screenshot.png",contentType:"application/png"};}}};}}),VO=pA({lazyLoadIntegration:rE}),GO=pA({lazyLoadIntegration:rE,getModalIntegration:()=>DO,getScreenshotIntegration:()=>WO});var YO={increment:function(e,t=1,n){ok.increment(fk,e,t,n);},distribution:function(e,t,n){ok.distribution(fk,e,t,n);},set:function(e,t,n){ok.set(fk,e,t,n);},gauge:function(e,t,n){ok.gauge(fk,e,t,n);},timing:function(e,t,n="second",r){return ok.timing(fk,e,t,n,r);}},JO=new WeakMap(),XO=new Map(),KO={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0};function ZO(e,t){var{traceFetch:n,traceXHR:r,shouldCreateSpanForRequest:i,enableHTTPTimings:o,tracePropagationTargets:a}={traceFetch:KO.traceFetch,traceXHR:KO.traceXHR,...t},s="function"==typeof i?i:e=>!0,c=e=>function(e,t){var n=gk.location&&gk.location.href;if(n){var _i51,_o31;try{_i51=new URL(e,n),_o31=new URL(n).origin;}catch(r){return!1;}var _a24=_i51.origin===_o31;return t?Og(_i51.toString(),t)||_a24&&Og(_i51.pathname,t):_a24;}{var _n90=!!e.match(/^\/(?!\/)/);return t?Og(e,t):_n90;}}(e,a),u={};n&&(e.addEventProcessor(e=>("transaction"===e.type&&e.spans&&e.spans.forEach(e=>{if("http.client"===e.op){var _t101=XO.get(e.span_id);_t101&&(e.timestamp=_t101/1e3,XO.delete(e.span_id));}}),e)),function(e){var t="fetch-body-resolved";xy(t,e),Ey(t,()=>Fy(jy));}(e=>{if(e.response){var _t102=JO.get(e.response);_t102&&e.endTimestamp&&XO.set(_t102,e.endTimestamp);}}),By(e=>{var t=pk(e,s,c,u);if(e.response&&e.fetchData.__span&&JO.set(e.response,e.fetchData.__span),t){var _n91=tR(e.fetchData.url),_r62=_n91?mv(_n91).host:void 0;t.setAttributes({"http.url":_n91,"server.address":_r62});}o&&t&&QO(t);})),r&&mx(e=>{var t=function(e,t,n,r){var i=e.xhr,o=i&&i[hx];if(!i||i.__sentry_own_request__||!o)return;var a=Qb()&&t(o.url);if(e.endTimestamp&&a){var _e87=i.__sentry_xhr_span_id__;if(!_e87)return;var _t103=r[_e87];return void(_t103&&void 0!==o.status_code&&(Ab(_t103,o.status_code),_t103.end(),delete r[_e87]));}var s=tR(o.url),c=s?mv(s).host:void 0,u=!!Wb(),l=a&&u?m_({name:`${o.method} ${o.url}`,attributes:{type:"xhr","http.method":o.method,"http.url":s,url:o.url,"server.address":c,[wb]:"auto.http.browser",[_b]:"http.client"}}):new e_();i.__sentry_xhr_span_id__=l.spanContext().spanId,r[i.__sentry_xhr_span_id__]=l;var d=mb();i.setRequestHeader&&n(o.url)&&d&&function(e,t,n){var r=db(),i=fb(),{traceId:o,spanId:a,sampled:s,dsc:c}={...i.getPropagationContext(),...r.getPropagationContext()},u=n&&Qb()?Lb(n):Iv(o,a,s),l=xv(c||(n?a_(n):o_(o,t)));!function(e,t,n){try{e.setRequestHeader("sentry-trace",t),n&&e.setRequestHeader(bv,n);}catch(r){}}(e,u,l);}(i,d,Qb()&&u?l:void 0);return l;}(e,s,c,u);o&&t&&QO(t);});}function QO(e){var{url:t}=Bb(e).data||{};if(!t||"string"!=typeof t)return;var n=PS("resource",({entries:r})=>{r.forEach(r=>{if(function(e){return"resource"===e.entryType&&"initiatorType"in e&&"string"==typeof e.nextHopProtocol&&("fetch"===e.initiatorType||"xmlhttprequest"===e.initiatorType);}(r)&&r.name.endsWith(t)){(function(e){var{name:t,version:n}=function(e){var t="unknown",n="unknown",r="";for(var _i52 of e){if("/"===_i52){[t,n]=e.split("/");break;}if(!isNaN(Number(_i52))){t="h"===r?"http":r,n=e.split(r)[1];break;}r+=_i52;}r===e&&(t=r);return{name:t,version:n};}(e.nextHopProtocol),r=[];if(r.push(["network.protocol.version",n],["network.protocol.name",t]),!Dy)return r;return[...r,["http.request.redirect_start",eR(e.redirectStart)],["http.request.fetch_start",eR(e.fetchStart)],["http.request.domain_lookup_start",eR(e.domainLookupStart)],["http.request.domain_lookup_end",eR(e.domainLookupEnd)],["http.request.connect_start",eR(e.connectStart)],["http.request.secure_connection_start",eR(e.secureConnectionStart)],["http.request.connection_end",eR(e.connectEnd)],["http.request.request_start",eR(e.requestStart)],["http.request.response_start",eR(e.responseStart)],["http.request.response_end",eR(e.responseEnd)]];})(r).forEach(t=>e.setAttribute(...t)),setTimeout(n);}});});}function eR(e=0){return((Dy||performance.timeOrigin)+e)/1e3;}function tR(e){try{return new URL(e,gk.location.origin).href;}catch(t){return;}}var nR={...S_,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,_experiments:{},...KO},rR=(e={})=>{Yb();var{enableInp:t,enableLongTask:n,enableLongAnimationFrame:r,_experiments:{enableInteractions:i,enableStandaloneClsSpans:o},beforeStartSpan:a,idleTimeout:s,finalTimeout:c,childSpanTimeout:u,markBackgroundSpan:l,traceFetch:d,traceXHR:f,shouldCreateSpanForRequest:p,enableHTTPTimings:h,instrumentPageLoad:m,instrumentNavigation:g}={...nR,...e},y=XS({recordClsStandaloneSpans:o||!1});t&&bx(),r&&Fg.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?function(){new PerformanceObserver(e=>{if(Wb())for(var _t104 of e.getEntries()){if(!_t104.scripts[0])continue;var _e88=HS(Dy+_t104.startTime),_n92=HS(_t104.duration),_r63={[wb]:"auto.ui.browser.metrics"},_i53=_t104.scripts[0],{invoker:_o32,invokerType:_a25,sourceURL:_s18,sourceFunctionName:_c6,sourceCharPosition:_u7}=_i53;_r63["browser.script.invoker"]=_o32,_r63["browser.script.invoker_type"]=_a25,_s18&&(_r63["code.filepath"]=_s18),_c6&&(_r63["code.function"]=_c6),-1!==_u7&&(_r63["browser.script.source_char_position"]=_u7);var _l5=m_({name:"Main UI thread blocked",op:"ui.long-animation-frame",startTime:_e88,attributes:_r63});_l5&&_l5.end(_e88+_n92);}}).observe({type:"long-animation-frame",buffered:!0});}():n&&function(){PS("longtask",({entries:e})=>{if(Wb())for(var _t105 of e){var _e89=HS(Dy+_t105.startTime),_n93=HS(_t105.duration),_r64=m_({name:"Main UI thread blocked",op:"ui.long-task",startTime:_e89,attributes:{[wb]:"auto.ui.browser.metrics"}});_r64&&_r64.end(_e89+_n93);}});}(),i&&function(){PS("event",({entries:e})=>{if(Wb())for(var _t106 of e)if("click"===_t106.name){var _e90=HS(Dy+_t106.startTime),_n94=HS(_t106.duration),_r65={name:zg(_t106.target),op:`ui.interaction.${_t106.name}`,startTime:_e90,attributes:{[wb]:"auto.ui.browser.metrics"}},_i54=Wg(_t106.target);_i54&&(_r65.attributes["ui.component_name"]=_i54);var _o33=m_(_r65);_o33&&_o33.end(_e90+_n94);}});}();var v={name:void 0,source:void 0};function b(e,t){var n="pageload"===t.op,r=a?a(t):t,i=r.attributes||{};t.name!==r.name&&(i[vb]="custom",r.attributes=i),v.name=r.name,v.source=i[vb];var l=I_(r,{idleTimeout:s,finalTimeout:c,childSpanTimeout:u,disableAutoFinish:n,beforeSpanEnd:e=>{y(),KS(e,{recordClsOnPageloadSpan:!o});}});function d(){["interactive","complete"].includes(gk.document.readyState)&&e.emit("idleSpanEnableAutoFinish",l);}return n&&gk.document&&(gk.document.addEventListener("readystatechange",()=>{d();}),d()),l;}return{name:"BrowserTracing",afterAllSetup(e){var n,r=gk.location&&gk.location.href;e.on("startNavigationSpan",t=>{mb()===e&&(n&&!Bb(n).timestamp&&(_k&&Xg.log(`[Tracing] Finishing current root span with op: ${Bb(n).op}`),n.end()),n=b(e,{op:"navigation",...t}));}),e.on("startPageLoadSpan",(t,r={})=>{if(mb()!==e)return;n&&!Bb(n).timestamp&&(_k&&Xg.log(`[Tracing] Finishing current root span with op: ${Bb(n).op}`),n.end());var i=Tv(r.sentryTrace||aR("sentry-trace"),r.baggage||aR("baggage"));db().setPropagationContext(i),n=b(e,{op:"pageload",...t});}),e.on("spanEnd",e=>{var t=Bb(e).op;if(e!==qb(e)||"navigation"!==t&&"pageload"!==t)return;var n=db(),r=n.getPropagationContext();n.setPropagationContext({...r,sampled:void 0!==r.sampled?r.sampled:Fb(e),dsc:r.dsc||a_(e)});}),gk.location&&(m&&iR(e,{name:gk.location.pathname,startTime:Dy?Dy/1e3:void 0,attributes:{[vb]:"url",[wb]:"auto.pageload.browser"}}),g&&cx(({to:t,from:n})=>{void 0===n&&r&&-1!==r.indexOf(t)?r=void 0:n!==t&&(r=void 0,oR(e,{name:gk.location.pathname,attributes:{[vb]:"url",[wb]:"auto.navigation.browser"}}));})),l&&function(){gk&&gk.document?gk.document.addEventListener("visibilitychange",()=>{var e=Wb();if(!e)return;var t=qb(e);if(gk.document.hidden&&t){var _e91="cancelled",{op:_n95,status:_r66}=Bb(t);_k&&Xg.log(`[Tracing] Transaction: ${_e91} -> since tab moved to the background, op: ${_n95}`),_r66||t.setStatus({code:Ib,message:_e91}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end();}}):_k&&Xg.warn("[Tracing] Could not set up background tab detection due to lack of global document");}(),i&&function(e,t,n,r){var i;var o=()=>{var o="ui.action.click",a=Wb(),s=a&&qb(a);if(s){var _e92=Bb(s).op;if(["navigation","pageload"].includes(_e92))return void(_k&&Xg.warn(`[Tracing] Did not create ${o} span because a pageload or navigation span is in progress.`));}i&&(i.setAttribute(kb,"interactionInterrupted"),i.end(),i=void 0),r.name?i=I_({name:r.name,op:o,attributes:{[vb]:r.source||"url"}},{idleTimeout:e,finalTimeout:t,childSpanTimeout:n}):_k&&Xg.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);};gk.document&&addEventListener("click",o,{once:!1,capture:!0});}(s,c,u,v),t&&function(e){var t=({entries:e})=>{var t=Wb(),n=t&&qb(t);e.forEach(e=>{if(!function(e){return"duration"in e;}(e)||!n)return;var t=e.interactionId;if(null!=t&&!vx.has(t)){if(yx.length>10){var _e93=yx.shift();vx.delete(_e93);}yx.push(t),vx.set(t,n);}});};PS("event",t),PS("first-input",t);}(),ZO(e,{traceFetch:d,traceXHR:f,tracePropagationTargets:e.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:p,enableHTTPTimings:h});}};};function iR(e,t,n){e.emit("startPageLoadSpan",t,n),db().setTransactionName(t.name);var r=Wb();return"pageload"===(r&&Bb(r).op)?r:void 0;}function oR(e,t){fb().setPropagationContext(Gv()),db().setPropagationContext(Gv()),e.emit("startNavigationSpan",t),db().setTransactionName(t.name);var n=Wb();return"navigation"===(n&&Bb(n).op)?n:void 0;}function aR(e){var t=function(e){return Ug.document&&Ug.document.querySelector?Ug.document.querySelector(e):null;}(`meta[name=${e}]`);return t?t.getAttribute("content"):void 0;}function sR(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error);});}function cR(e){return sR(e.getAllKeys());}function uR(e){var t;function n(){return null==t&&(t=function(e,t){var n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);var r=sR(n);return e=>r.then(n=>e(n.transaction(t,"readwrite").objectStore(t)));}(e.dbName||"sentry-offline",e.storeName||"queue")),t;}return{push:async t=>{try{var _r67=await Lv(t);await function(e,t,n){return e(e=>cR(e).then(r=>{if(!(r.length>=n))return e.put(t,Math.max(...r,0)+1),sR(e.transaction);}));}(n(),_r67,e.maxQueueSize||30);}catch(r){}},unshift:async t=>{try{var _r68=await Lv(t);await function(e,t,n){return e(e=>cR(e).then(r=>{if(!(r.length>=n))return e.put(t,Math.min(...r,0)-1),sR(e.transaction);}));}(n(),_r68,e.maxQueueSize||30);}catch(r){}},shift:async()=>{try{var _e94=await function(e){return e(e=>cR(e).then(t=>{var n=t[0];if(null!=n)return sR(e.get(n)).then(t=>(e.delete(n),sR(e.transaction).then(()=>t)));}));}(n());if(_e94)return Nv(_e94);}catch(e){}}};}var lR=1e6,dR=String(0),fR="main";var pR="",hR="",mR="",gR=gk.navigator&&gk.navigator.userAgent||"",yR="";var vR=gk.navigator&&gk.navigator.language||gk.navigator&&gk.navigator.languages&&gk.navigator.languages[0]||"";var bR=gk.navigator&&gk.navigator.userAgentData;function _R(e){return function(e){return!("thread_metadata"in e);}(e)?function(e){var t,n=0;var r={samples:[],stacks:[],frames:[],thread_metadata:{[dR]:{name:fR}}},i=e.samples[0];if(!i)return r;var o=i.timestamp,a="number"==typeof performance.timeOrigin?performance.timeOrigin:Dy||0,s=a-(Dy||a);return e.samples.forEach((i,a)=>{if(void 0===i.stackId)return void 0===t&&(t=n,r.stacks[t]=[],n++),void(r.samples[a]={elapsed_since_start_ns:((i.timestamp+s-o)*lR).toFixed(0),stack_id:t,thread_id:dR});var c=e.stacks[i.stackId];var u=[];for(;c;){u.push(c.frameId);var _t107=e.frames[c.frameId];_t107&&void 0===r.frames[c.frameId]&&(r.frames[c.frameId]={function:_t107.name,abs_path:"number"==typeof _t107.resourceId?e.resources[_t107.resourceId]:void 0,lineno:_t107.line,colno:_t107.column}),c=void 0===c.parentId?void 0:e.stacks[c.parentId];}var l={elapsed_since_start_ns:((i.timestamp+s-o)*lR).toFixed(0),stack_id:n,thread_id:dR};r.stacks[n]=u,r.samples[a]=l,n++;}),r;}(e):e;}function wR(e,t,n,r){if("transaction"!==r.type)throw new TypeError("Profiling events may only be attached to transactions, this should never occur.");if(null==n)throw new TypeError(`Cannot construct profiling event envelope without a valid profile. Got ${n} instead.`);var i=function(e){var t=e&&e.contexts&&e.contexts.trace&&e.contexts.trace.trace_id;return"string"==typeof t&&32!==t.length&&_k&&Xg.log(`[Profiling] Invalid traceId: ${t} on profiled event`),"string"!=typeof t?"":t;}(r),o=_R(n),a=t||("number"==typeof r.start_timestamp?1e3*r.start_timestamp:1e3*Ny()),s="number"==typeof r.timestamp?1e3*r.timestamp:1e3*Ny();return{event_id:e,timestamp:new Date(a).toISOString(),platform:"javascript",version:"1",release:r.release||"",environment:r.environment||n_,runtime:{name:"javascript",version:gk.navigator.userAgent},os:{name:pR,version:hR,build_number:gR},device:{locale:vR,model:yR,manufacturer:gR,architecture:mR,is_emulator:!1},debug_meta:{images:xR(n.resources)},profile:o,transactions:[{name:r.transaction||"",id:r.event_id||Xy(),trace_id:i,active_thread_id:dR,relative_start_ns:"0",relative_end_ns:(1e6*(s-a)).toFixed(0)}]};}function kR(e){return"pageload"===Bb(e).op;}(function(e){return"object"==typeof e&&null!==e&&"getHighEntropyValues"in e;})(bR)&&bR.getHighEntropyValues(["architecture","model","platform","platformVersion","fullVersionList"]).then(e=>{if(pR=e.platform||"",mR=e.architecture||"",yR=e.model||"",hR=e.platformVersion||"",e.fullVersionList&&e.fullVersionList.length>0){var _t108=e.fullVersionList[e.fullVersionList.length-1];gR=`${_t108.brand} ${_t108.version}`;}}).catch(e=>{});var SR=new WeakMap();function xR(e){var t=Fg._sentryDebugIds;if(!t)return[];var n=mb(),r=n&&n.getOptions(),i=r&&r.stackParser;if(!i)return[];var o;var a=SR.get(i);a?o=a:(o=new Map(),SR.set(i,o));var s=Object.keys(t).reduce((e,n)=>{var r;var a=o.get(n);a?r=a:(r=i(n),o.set(n,r));for(var _i55=r.length-1;_i55>=0;_i55--){var _o34=r[_i55],_a26=_o34&&_o34.filename;if(_o34&&_a26){e[_a26]=t[n];break;}}return e;},{}),c=[];for(var _u8 of e)_u8&&s[_u8]&&c.push({type:"sourcemap",code_file:_u8,debug_id:s[_u8]});return c;}var ER=!1;var CR=3e4;function TR(e){if(ER)return _k&&Xg.log("[Profiling] Profiling has been disabled for the duration of the current user session."),!1;if(!e.isRecording())return _k&&Xg.log("[Profiling] Discarding profile because transaction was not sampled."),!1;var t=mb(),n=t&&t.getOptions();if(!n)return _k&&Xg.log("[Profiling] Profiling disabled, no options found."),!1;var r=n.profilesSampleRate;if(!function(e){return"number"!=typeof e&&"boolean"!=typeof e||"number"==typeof e&&isNaN(e)?(_k&&Xg.warn(`[Profiling] Invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!0===e||!1===e||!(e<0||e>1)||(_k&&Xg.warn(`[Profiling] Invalid sample rate. Sample rate must be between 0 and 1. Got ${e}.`),!1);}(r))return _k&&Xg.warn("[Profiling] Discarding profile because of invalid sample rate."),!1;if(!r)return _k&&Xg.log("[Profiling] Discarding profile because a negative sampling decision was inherited or profileSampleRate is set to 0"),!1;return!!(!0===r||Math.random()<r)||(_k&&Xg.log(`[Profiling] Discarding profile because it's not included in the random sample (sampling rate = ${Number(r)})`),!1);}function IR(e,t,n,r){return function(e){return e.samples.length<2?(_k&&Xg.log("[Profiling] Discarding profile because it contains less than 2 samples"),!1):!!e.frames.length||(_k&&Xg.log("[Profiling] Discarding profile because it contains no frames"),!1);}(n)?wR(e,t,n,r):null;}var PR=new Map();function AR(e){var t=PR.get(e);return t&&PR.delete(e),t;}function OR(e){var t;kR(e)&&(t=1e3*Ny());var n=function(){var e=gk.Profiler;if(!function(e){return"function"==typeof e;}(e))return void(_k&&Xg.log("[Profiling] Profiling is not supported by this browser, Profiler interface missing on window object."));var t=Math.floor(CR/10);try{return new e({sampleInterval:10,maxBufferSize:t});}catch(n){_k&&(Xg.log("[Profiling] Failed to initialize the Profiling constructor, this is likely due to a missing 'Document-Policy': 'js-profiling' header."),Xg.log("[Profiling] Disabling profiling for current user session.")),ER=!0;}}();if(!n)return;_k&&Xg.log(`[Profiling] started profiling span: ${Bb(e).description}`);var r=Xy();async function i(){if(e&&n)return n.stop().then(t=>{o&&(gk.clearTimeout(o),o=void 0),_k&&Xg.log(`[Profiling] stopped profiling of span: ${Bb(e).description}`),t?function(e,t){if(PR.set(e,t),PR.size>30){var _e95=PR.keys().next().value;PR.delete(_e95);}}(r,t):_k&&Xg.log(`[Profiling] profiler returned null profile for: ${Bb(e).description}`,"this may indicate an overlapping span or a call to stopProfiling with a profile title that was never started");}).catch(e=>{_k&&Xg.log("[Profiling] error while stopping profiler:",e);});}db().setContext("profile",{profile_id:r,start_timestamp:t});var o=gk.setTimeout(()=>{_k&&Xg.log("[Profiling] max profile duration elapsed, stopping profiling for:",Bb(e).description),i();},CR);var a=e.end.bind(e);e.end=function(){return e?(i().then(()=>{a();},()=>{a();}),e):a();};}var RR=aw(()=>({name:"BrowserProfiling",setup(e){var t=Wb(),n=t&&qb(t);n&&kR(n)&&TR(n)&&OR(n),e.on("spanStart",e=>{e===qb(e)&&TR(e)&&OR(e);}),e.on("beforeEnvelope",e=>{if(!function(){return PR.size;}())return;var t=function(e){var t=[];return Ov(e,(e,n)=>{if("transaction"===n)for(var _r69=1;_r69<e.length;_r69++){var _n96=e[_r69];_n96&&_n96.contexts&&_n96.contexts.profile&&_n96.contexts.profile.profile_id&&t.push(e[_r69]);}}),t;}(e);if(!t.length)return;var n=[];for(var _r70 of t){var _e96=_r70&&_r70.contexts,_t109=_e96&&_e96.profile&&_e96.profile.profile_id,_i56=_e96&&_e96.profile&&_e96.profile.start_timestamp;if("string"!=typeof _t109){_k&&Xg.log("[Profiling] cannot find profile for a span without a profile context");continue;}if(!_t109){_k&&Xg.log("[Profiling] cannot find profile for a span without a profile context");continue;}_e96&&_e96.profile&&delete _e96.profile;var _o35=AR(_t109);if(!_o35){_k&&Xg.log(`[Profiling] Could not retrieve profile for span: ${_t109}`);continue;}var _a27=IR(_t109,_i56,_o35,_r70);_a27&&n.push(_a27);}!function(e,t){if(!t.length)return e;for(var _n97 of t)e[1].push([{type:"profile"},_n97]);}(e,n);});}}));function MR(e,{componentStack:t},n){if(function(e){var t=e.match(/^([^.]+)/);return null!==t&&parseInt(t[0])>=17;}(Bs.version)&&mg(e)&&t){var _n98=new Error(e.message);_n98.name=`React ErrorBoundary ${e.name}`,_n98.stack=t,function(e,t){var n=new WeakSet();!function e(t,r){if(!n.has(t))return t.cause?(n.add(t),e(t.cause,r)):void(t.cause=r);}(e,t);}(e,_n98);}return B_(e,{...n,captureContext:{contexts:{react:{componentStack:t}}}});}var LR,NR,DR,BR,FR={exports:{}},jR={};function UR(){return NR||(NR=1,FR.exports=function(){if(LR)return jR;LR=1;var e="function"==typeof Symbol&&Symbol.for,t=e?Symbol.for("react.element"):60103,n=e?Symbol.for("react.portal"):60106,r=e?Symbol.for("react.fragment"):60107,i=e?Symbol.for("react.strict_mode"):60108,o=e?Symbol.for("react.profiler"):60114,a=e?Symbol.for("react.provider"):60109,s=e?Symbol.for("react.context"):60110,c=e?Symbol.for("react.async_mode"):60111,u=e?Symbol.for("react.concurrent_mode"):60111,l=e?Symbol.for("react.forward_ref"):60112,d=e?Symbol.for("react.suspense"):60113,f=e?Symbol.for("react.suspense_list"):60120,p=e?Symbol.for("react.memo"):60115,h=e?Symbol.for("react.lazy"):60116,m=e?Symbol.for("react.block"):60121,g=e?Symbol.for("react.fundamental"):60117,y=e?Symbol.for("react.responder"):60118,v=e?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var f=e.$$typeof;switch(f){case t:switch(e=e.type){case c:case u:case r:case o:case i:case d:return e;default:switch(e=e&&e.$$typeof){case s:case l:case h:case p:case a:return e;default:return f;}}case n:return f;}}}function _(e){return b(e)===u;}return jR.AsyncMode=c,jR.ConcurrentMode=u,jR.ContextConsumer=s,jR.ContextProvider=a,jR.Element=t,jR.ForwardRef=l,jR.Fragment=r,jR.Lazy=h,jR.Memo=p,jR.Portal=n,jR.Profiler=o,jR.StrictMode=i,jR.Suspense=d,jR.isAsyncMode=function(e){return _(e)||b(e)===c;},jR.isConcurrentMode=_,jR.isContextConsumer=function(e){return b(e)===s;},jR.isContextProvider=function(e){return b(e)===a;},jR.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===t;},jR.isForwardRef=function(e){return b(e)===l;},jR.isFragment=function(e){return b(e)===r;},jR.isLazy=function(e){return b(e)===h;},jR.isMemo=function(e){return b(e)===p;},jR.isPortal=function(e){return b(e)===n;},jR.isProfiler=function(e){return b(e)===o;},jR.isStrictMode=function(e){return b(e)===i;},jR.isSuspense=function(e){return b(e)===d;},jR.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===u||e===o||e===i||e===d||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===h||e.$$typeof===p||e.$$typeof===a||e.$$typeof===s||e.$$typeof===l||e.$$typeof===g||e.$$typeof===y||e.$$typeof===v||e.$$typeof===m);},jR.typeOf=b,jR;}()),FR.exports;}var $R=C(function(){if(BR)return DR;BR=1;var e=UR(),t={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},n={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function o(n){return e.isMemo(n)?r:i[n.$$typeof]||t;}i[e.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[e.Memo]=r;var a=Object.defineProperty,s=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,u=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,d=Object.prototype;return DR=function e(t,r,i){if("string"!=typeof r){if(d){var f=l(r);f&&f!==d&&e(t,f,i);}var p=s(r);c&&(p=p.concat(c(r)));for(var h=o(t),m=o(r),g=0;g<p.length;++g){var y=p[g];if(!(n[y]||i&&i[y]||m&&m[y]||h&&h[y])){var v=u(r,y);try{a(t,y,v);}catch(b){}}}}return t;};}()),zR="ui.react.render",HR="ui.react.mount";class qR extends Bs.Component{static __initStatic(){this.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0};}constructor(e){super(e);var{name:t,disabled:n=!1}=this.props;n||(this._mountSpan=m_({name:`<${t}>`,onlyIfParent:!0,op:HR,attributes:{[wb]:"auto.ui.react.profiler","ui.component_name":t}}));}componentDidMount(){this._mountSpan&&this._mountSpan.end();}shouldComponentUpdate({updateProps:e,includeUpdates:t=!0}){if(t&&this._mountSpan&&e!==this.props.updateProps){var _t110=Object.keys(e).filter(t=>e[t]!==this.props.updateProps[t]);if(_t110.length>0){var _e97=Ny();this._updateSpan=g_(this._mountSpan,()=>m_({name:`<${this.props.name}>`,onlyIfParent:!0,op:"ui.react.update",startTime:_e97,attributes:{[wb]:"auto.ui.react.profiler","ui.component_name":this.props.name,"ui.react.changed_props":_t110}}));}}return!0;}componentDidUpdate(){this._updateSpan&&(this._updateSpan.end(),this._updateSpan=void 0);}componentWillUnmount(){var e=Ny(),{name:t,includeRender:n=!0}=this.props;if(this._mountSpan&&n){var _n99=Bb(this._mountSpan).timestamp;g_(this._mountSpan,()=>{var r=m_({onlyIfParent:!0,name:`<${t}>`,op:zR,startTime:_n99,attributes:{[wb]:"auto.ui.react.profiler","ui.component_name":t}});r&&r.end(e);});}}render(){return this.props.children;}}qR.__initStatic();var WR="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,VR={componentStack:null,error:null,eventId:null};class GR extends Bs.Component{constructor(e){super(e),GR.prototype.__init.call(this),this.state=VR,this._openFallbackReportDialog=!0;var t=mb();t&&e.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=t.on("afterSendEvent",t=>{!t.type&&this._lastEventId&&t.event_id===this._lastEventId&&eE({...e.dialogOptions,eventId:this._lastEventId});}));}componentDidCatch(e,t){var{componentStack:n}=t,r=null==n?void 0:n,{beforeCapture:i,onError:o,showDialog:a,dialogOptions:s}=this.props;hb(c=>{i&&i(c,e,r);var u=MR(e,t,{mechanism:{handled:!!this.props.fallback}});o&&o(e,r,u),a&&(this._lastEventId=u,this._openFallbackReportDialog&&eE({...s,eventId:u})),this.setState({error:e,componentStack:n,eventId:u});});}componentDidMount(){var{onMount:e}=this.props;e&&e();}componentWillUnmount(){var{error:e,componentStack:t,eventId:n}=this.state,{onUnmount:r}=this.props;r&&r(e,t,n),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0);}__init(){this.resetErrorBoundary=()=>{var{onReset:e}=this.props,{error:t,componentStack:n,eventId:r}=this.state;e&&e(t,n,r),this.setState(VR);};}render(){var{fallback:e,children:t}=this.props,n=this.state;if(n.error){var _t111;return _t111="function"==typeof e?Bs.createElement(e,{error:n.error,componentStack:n.componentStack,resetError:this.resetErrorBoundary,eventId:n.eventId}):e,Bs.isValidElement(_t111)?_t111:(e&&WR&&Xg.warn("fallback did not produce a valid ReactElement"),null);}return"function"==typeof t?t():t;}}var YR={attachReduxState:!0,actionTransformer:e=>e,stateTransformer:e=>e||null};function JR(e,t,n,r){var i=t.pathname;n({location:t,routes:e},(e,t,n)=>{if(e||!n)return r(i);var o=function(e){if(!Array.isArray(e)||0===e.length)return"";var t=e.filter(e=>!!e.path);var n=-1;for(var _r71=t.length-1;_r71>=0;_r71--){var _e98=t[_r71];if(_e98.path&&_e98.path.startsWith("/")){n=_r71;break;}}return t.slice(n).filter(({path:e})=>!!e).map(({path:e})=>e).join("");}(n.routes||[]);return 0===o.length||"/*"===o?r(i):(i=o,r(i,"route"));});}function XR(e){if(!e)return{};var t={};return Object.entries(e.params).forEach(([e,n])=>{t[`url.path.params.${e}`]=n;}),t;}function KR(e,t,n,r,i,o=[],a){function s(e){if(0===o.length||!a)return[e,"url"];var t=ZR(o,e,a);for(var _n100 of t)if(_n100.match.isExact)return[_n100.match.path,"route"];return[e,"url"];}if(t){var _t112=function(){return r&&r.location?r.location.pathname:gk&&gk.location?gk.location.pathname:void 0;}();if(_t112){var[_n101,_r72]=s(_t112);iR(e,{name:_n101,attributes:{[_b]:"pageload",[wb]:`auto.pageload.react.${i}`,[vb]:_r72}});}}n&&r.listen&&r.listen((t,n)=>{if(n&&("PUSH"===n||"POP"===n)){var[_n102,_r73]=s(t.pathname);oR(e,{name:_n102,attributes:{[_b]:"navigation",[wb]:`auto.navigation.react.${i}`,[vb]:_r73}});}});}function ZR(e,t,n,r=[]){return e.some(e=>{var i=e.path?n(t,e):r.length?r[r.length-1].match:function(e){return{path:"/",url:"/",params:{},isExact:"/"===e};}(t);return i&&(r.push({route:e,match:i}),e.routes&&ZR(e.routes,t,n,r)),!!i;}),r;}var QR,eM,tM,nM,rM,iM=!1;var oM=new WeakSet();function aM(e,t){if(!t||"/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return e;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?e:e.slice(n)||"/";}function sM(e,t,n,r=""){if(!e||0===e.length)return[iM?aM(t.pathname,r):t.pathname,"url"];var i="";if(n)for(var _o36 of n){var _e99=_o36.route;if(_e99){if(_e99.index)return[iM?aM(_o36.pathname,r):_o36.pathname,"route"];var _n103=_e99.path;if(_n103){var _e100="/"===_n103[0]||"/"===i[i.length-1]?_n103:`/${_n103}`;if(i+=_e100,r+_o36.pathname===t.pathname)return gv(i)!==gv(_o36.pathname)&&"/*"!==i.slice(-2)?[(iM?"":r)+_e100,"route"]:[(iM?"":r)+i,"route"];}}}return[iM?aM(t.pathname,r):t.pathname,"url"];}function cM(e,t,n,r,i){var o=Array.isArray(r)?r:rM(n,t,i);if(o){var[_r74,_a28]=sM(n,t,o,i);db().setTransactionName(_r74),e&&(e.updateName(_r74),e.setAttribute(vb,_a28));}}function uM(e,t,n,r,i){var o=Array.isArray(r)?r:rM(t,e,i),a=mb();if(a&&oM.has(a)&&("PUSH"===n||"POP"===n)&&o){var[_n104,_r75]=sM(t,e,o,i);oR(a,{name:_n104,attributes:{[vb]:_r75,[_b]:"navigation",[wb]:"auto.navigation.react.reactrouter_v6"}});}}function lM(){var e=Wb(),t=e?qb(e):void 0;if(!t)return;var n=Bb(t).op;return"navigation"===n||"pageload"===n?t:void 0;}var dM=Object.freeze(Object.defineProperty({__proto__:null,BrowserClient:Nk,ErrorBoundary:GR,Profiler:qR,SDK_VERSION:Bg,SEMANTIC_ATTRIBUTE_SENTRY_OP:_b,SEMANTIC_ATTRIBUTE_SENTRY_ORIGIN:wb,SEMANTIC_ATTRIBUTE_SENTRY_SAMPLE_RATE:bb,SEMANTIC_ATTRIBUTE_SENTRY_SOURCE:vb,Scope:ib,WINDOW:gk,addBreadcrumb:xw,addEventProcessor:G_,addIntegration:function(e){var t=mb();t?t.addIntegration(e):Jv&&Xg.warn(`Cannot add integration "${e.name}" because no SDK Client is available.`);},addTracingExtensions:function(){Yb();},breadcrumbsIntegration:Ux,browserApiErrorsIntegration:zx,browserProfilingIntegration:RR,browserTracingIntegration:rR,captureConsoleIntegration:Bw,captureEvent:j_,captureException:B_,captureFeedback:hk,captureMessage:F_,captureSession:K_,captureUserFeedback:function(e){var t=mb();t&&t.captureUserFeedback(e);},chromeStackLineParser:Cx,close:async function(e){var t=mb();return t?t.close(e):(Jv&&Xg.warn("Cannot flush events and disable SDK. No client defined."),Promise.resolve(!1));},contextLinesIntegration:mE,continueTrace:({sentryTrace:e,baggage:t},n)=>hb(r=>{var i=Tv(e,t);return r.setPropagationContext(i),n();}),createReduxEnhancer:function(e){var t={...YR,...e};return e=>(n,r)=>{t.attachReduxState&&pb().addEventProcessor((e,t)=>{try{void 0===e.type&&"redux"===e.contexts.state.state.type&&(t.attachments=[...(t.attachments||[]),{filename:"redux_state.json",data:JSON.stringify(e.contexts.state.state.value)}]);}catch(n){}return e;});return e((e,r)=>{var i=n(e,r),o=db(),a=t.actionTransformer(r);null!=a&&xw({category:"redux.action",data:a,type:"info"});var s=t.stateTransformer(i);if(null!=s){var _e101=mb(),_t113=_e101&&_e101.getOptions(),_n105={state:{type:"redux",value:s}};iy(_n105,"__sentry_override_normalization_depth__",3+(_t113&&_t113.normalizeDepth||3)),o.setContext("state",_n105);}else o.setContext("state",null);var{configureScopeWithState:c}=t;return"function"==typeof c&&c(o,i),i;},r);};},createTransport:pw,createUserFeedbackEnvelope:Lk,debugIntegration:Fw,dedupeIntegration:jw,defaultRequestInstrumentationOptions:KO,defaultStackLineParsers:Dx,defaultStackParser:Bx,endSession:J_,eventFromException:Pk,eventFromMessage:Ak,exceptionFromError:wk,extraErrorDataIntegration:Hw,feedbackAsyncIntegration:VO,feedbackIntegration:GO,feedbackSyncIntegration:GO,flush:async function(e){var t=mb();return t?t.flush(e):(Jv&&Xg.warn("Cannot flush events. No client defined."),Promise.resolve(!1));},forceLoad:function(){},functionToStringIntegration:Tw,geckoStackLineParser:Px,getActiveSpan:Wb,getClient:mb,getCurrentHub:mk,getCurrentScope:db,getDefaultIntegrations:Zx,getFeedback:function(){var e=mb();return e&&e.getIntegrationByName("Feedback");},getGlobalScope:pb,getIsolationScope:fb,getReplay:function(){var e=mb();return e&&e.getIntegrationByName("Replay");},getRootSpan:qb,getSpanDescendants:Hb,getSpanStatusFromHttpCode:Pb,globalHandlersIntegration:Gx,httpClientIntegration:sE,httpContextIntegration:Xx,inboundFiltersIntegration:Pw,init:function(e){var t={...e};return kw(t,"react"),U_("react",{version:Bs.version}),Qx(t);},instrumentOutgoingRequests:ZO,isInitialized:function(){return!!mb();},lastEventId:V_,lazyLoadIntegration:rE,linkedErrorsIntegration:Kx,makeBrowserOfflineTransport:function(e=wx){return function(e){return t=>e({...t,createStore:uR});}(vw(e));},makeFetchTransport:wx,makeMultiplexedTransport:function(e,t){return n=>{var r=e(n),i=new Map();function o(t,r){var o=r?`${t}:${r}`:t;var a=i.get(o);if(!a){var _s19=Qg(t);if(!_s19)return;var _c7=tw(_s19,n.tunnel);a=r?function(e,t){return n=>{var r=e(n);return{...r,send:async e=>{var n=bw(e,["event","transaction","profile","replay_event"]);return n&&(n.release=t),r.send(e);}};};}(e,r)({...n,url:_c7}):e({...n,url:_c7}),i.set(o,a);}return[t,a];}return{send:async function(e){var n=t({envelope:e,getEvent:function(t){var n=t&&t.length?t:["event"];return bw(e,n);}}).map(e=>"string"==typeof e?o(e,void 0):o(e.dsn,e.release)).filter(e=>!!e),i=n.length?n:[["",r]];return(await Promise.all(i.map(([t,n])=>n.send(function(e,t){return Pv(t?{...e[0],dsn:t}:e[0],e[1]);}(e,t)))))[0];},flush:async function(e){var t=[...i.values(),r];return(await Promise.all(t.map(t=>t.flush(e)))).every(e=>e);}};};},metrics:YO,moduleMetadataIntegration:Dw,onLoad:function(e){e();},opera10StackLineParser:Mx,opera11StackLineParser:Nx,parameterize:function(e,...t){var n=new String(String.raw(e,...t));return n.__sentry_template_string__=e.join("\0").replace(/%/g,"%%").replace(/\0/g,"%s"),n.__sentry_template_values__=t,n;},reactErrorHandler:function(e){return(t,n)=>{var r=MR(t,n);e&&e(t,n,r);};},reactRouterV3BrowserTracingIntegration:function(e){var t=rR({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,match:i,instrumentPageLoad:o=!0,instrumentNavigation:a=!0}=e;return{...t,afterAllSetup(e){t.afterAllSetup(e),o&&gk&&gk.location&&JR(r,gk.location,i,(t,n="url")=>{iR(e,{name:t,attributes:{[_b]:"pageload",[wb]:"auto.pageload.react.reactrouter_v3",[vb]:n}});}),a&&n.listen&&n.listen(t=>{"PUSH"!==t.action&&"POP"!==t.action||JR(r,t,i,(t,n="url")=>{oR(e,{name:t,attributes:{[_b]:"navigation",[wb]:"auto.navigation.react.reactrouter_v3",[vb]:n}});});});}};},reactRouterV4BrowserTracingIntegration:function(e){var t=rR({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:i,instrumentPageLoad:o=!0,instrumentNavigation:a=!0}=e;return{...t,afterAllSetup(e){t.afterAllSetup(e),KR(e,o,a,n,"reactrouter_v4",r,i);}};},reactRouterV5BrowserTracingIntegration:function(e){var t=rR({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{history:n,routes:r,matchPath:i,instrumentPageLoad:o=!0,instrumentNavigation:a=!0}=e;return{...t,afterAllSetup(e){t.afterAllSetup(e),KR(e,o,a,n,"reactrouter_v5",r,i);}};},reactRouterV6BrowserTracingIntegration:function(e){var t=rR({...e,instrumentPageLoad:!1,instrumentNavigation:!1}),{useEffect:n,useLocation:r,useNavigationType:i,createRoutesFromChildren:o,matchRoutes:a,stripBasename:s,instrumentPageLoad:c=!0,instrumentNavigation:u=!0}=e;return{...t,setup(){QR=n,eM=r,tM=i,rM=a,nM=o,iM=s||!1;},afterAllSetup(e){t.afterAllSetup(e);var n=gk&&gk.location&&gk.location.pathname;c&&n&&iR(e,{name:n,attributes:{[vb]:"url",[_b]:"pageload",[wb]:"auto.pageload.react.reactrouter_v6"}}),u&&oM.add(e);}};},registerSpanErrorInstrumentation:Yb,replayCanvasIntegration:XP,replayIntegration:e=>new _P(e),reportingObserverIntegration:aE,rewriteFramesIntegration:qw,sendFeedback:nA,sessionTimingIntegration:Ww,setContext:U_,setCurrentClient:dw,setExtra:z_,setExtras:$_,setHttpStatus:Ab,setMeasurement:c_,setTag:q_,setTags:H_,setUser:W_,showReportDialog:eE,spanToBaggageHeader:function(e){return xv(a_(e));},spanToJSON:Bb,spanToTraceHeader:Lb,startBrowserTracingNavigationSpan:oR,startBrowserTracingPageLoadSpan:iR,startInactiveSpan:m_,startNewTrace:function(e){return hb(t=>(t.setPropagationContext(Gv()),Jv&&Xg.info(`Starting a new trace with id ${t.getPropagationContext().traceId}`),g_(null,e)));},startSession:Y_,startSpan:function(e,t){var n=b_();if(n.startSpan)return n.startSpan(e,t);var r=v_(e),{forceTransaction:i,parentSpan:o}=e;return hb(e.scope,()=>k_(o)(()=>{var n=db(),o=w_(n),a=e.onlyIfParent&&!o?new e_():y_({parentSpan:o,spanArguments:r,forceTransaction:i,scope:n});return tb(n,a),t_(()=>t(a),()=>{var{status:e}=Bb(a);!a.isRecording()||e&&"ok"!==e||a.setStatus({code:Ib,message:"internal_error"});},()=>a.end());}));},startSpanManual:h_,tanstackRouterBrowserTracingIntegration:function(e,t={}){var n=e,r=rR({...t,instrumentNavigation:!1,instrumentPageLoad:!1}),{instrumentPageLoad:i=!0,instrumentNavigation:o=!0}=t;return{...r,afterAllSetup(e){r.afterAllSetup(e);var t=gk.location;if(i&&t){var _r76=n.matchRoutes(t.pathname,t.search,{preload:!1,throwOnError:!1}),_i57=_r76[_r76.length-1];iR(e,{name:_i57?_i57.routeId:t.pathname,attributes:{[_b]:"pageload",[wb]:"auto.pageload.react.tanstack_router",[vb]:_i57?"route":"url",...XR(_i57)}});}o&&n.subscribe("onBeforeNavigate",t=>{if(t.toLocation.state===t.fromLocation.state)return;var r=n.matchRoutes(t.toLocation.pathname,t.toLocation.search,{preload:!1,throwOnError:!1}),i=r[r.length-1],o=gk.location,a=oR(e,{name:i?i.routeId:o.pathname,attributes:{[_b]:"navigation",[wb]:"auto.navigation.react.tanstack_router",[vb]:i?"route":"url"}}),s=n.subscribe("onResolved",e=>{if(s(),a){var _t114=n.matchRoutes(e.toLocation.pathname,e.toLocation.search,{preload:!1,throwOnError:!1}),_r77=_t114[_t114.length-1];_r77&&(a.updateName(_r77.routeId),a.setAttribute(vb,"route"),a.setAttributes(XR(_r77)));}});});}};},thirdPartyErrorFilterIntegration:Xw,useProfiler:function(e,t={disabled:!1,hasRenderSpan:!0}){var[n]=Bs.useState(()=>{if(!t||!t.disabled)return m_({name:`<${e}>`,onlyIfParent:!0,op:HR,attributes:{[wb]:"auto.ui.react.profiler","ui.component_name":e}});});Bs.useEffect(()=>(n&&n.end(),()=>{if(n&&t.hasRenderSpan){var _t115=Bb(n).timestamp,_r78=Ny(),_i58=m_({name:`<${e}>`,onlyIfParent:!0,op:zR,startTime:_t115,attributes:{[wb]:"auto.ui.react.profiler","ui.component_name":e}});_i58&&_i58.end(_r78);}}),[]);},winjsStackLineParser:Ox,withActiveSpan:g_,withErrorBoundary:function(e,t){var n=e.displayName||e.name||"unknown",r=n=>Bs.createElement(GR,{...t},Bs.createElement(e,{...n}));return r.displayName=`errorBoundary(${n})`,$R(r,e),r;},withIsolationScope:function(...e){var t=lb(Xv());if(2===e.length){var[_n106,_r79]=e;return _n106?t.withSetIsolationScope(_n106,_r79):t.withIsolationScope(_r79);}return t.withIsolationScope(e[0]);},withProfiler:function(e,t){var n=t&&t.name||e.displayName||e.name||"unknown",r=r=>Bs.createElement(qR,{...t,name:n,updateProps:r},Bs.createElement(e,{...r}));return r.displayName=`profiler(${n})`,$R(r,e),r;},withScope:hb,withSentryReactRouterV6Routing:function(e){if(!(QR&&eM&&tM&&nM&&rM))return WR&&Xg.warn(`reactRouterV6Instrumentation was unable to wrap Routes because of one or more missing parameters.\n      useEffect: ${QR}. useLocation: ${eM}. useNavigationType: ${tM}.\n      createRoutesFromChildren: ${nM}. matchRoutes: ${rM}.`),e;var t=!0;var n=n=>{var r=eM(),i=tM();return QR(()=>{var e=nM(n.children);t?(cM(lM(),r,e),t=!1):uM(r,e,i);},[r,i]),Bs.createElement(e,{...n});};return $R(n,e),n;},withSentryRouting:function(e){var t=e.displayName||e.name,n=t=>{if(t&&t.computedMatch&&t.computedMatch.isExact){var _e102=t.computedMatch.path,_n107=function(){var e=Wb(),t=e&&qb(e);if(!t)return;var n=Bb(t).op;return"navigation"===n||"pageload"===n?t:void 0;}();db().setTransactionName(_e102),_n107&&(_n107.updateName(_e102),_n107.setAttribute(vb,"route"));}return Bs.createElement(e,{...t});};return n.displayName=`sentryRoute(${t})`,$R(n,e),n;},wrapCreateBrowserRouter:function(e){return QR&&eM&&tM&&rM?function(t,n){var r=e(t,n),i=n&&n.basename,o=lM();return"POP"===r.state.historyAction&&o&&cM(o,r.state.location,t,void 0,i),r.subscribe(e=>{var n=e.location;"PUSH"!==e.historyAction&&"POP"!==e.historyAction||uM(n,t,e.historyAction,void 0,i);}),r;}:(WR&&Xg.warn("reactRouterV6Instrumentation was unable to wrap the `createRouter` function because of one or more missing parameters."),e);},wrapUseRoutes:function(e){if(!(QR&&eM&&tM&&rM))return WR&&Xg.warn("reactRouterV6Instrumentation was unable to wrap `useRoutes` because of one or more missing parameters."),e;var t=!0;var n=n=>{var{routes:r,locationArg:i}=n,o=e(r,i),a=eM(),s=tM(),c="string"==typeof i||i&&i.pathname?i:a;return QR(()=>{var e="string"==typeof c?{pathname:c}:c;t?(cM(lM(),e,r),t=!1):uM(e,r,s);},[s,c]),o;};return(e,t)=>Bs.createElement(n,{routes:e,locationArg:t});},zodErrorsIntegration:Jw},Symbol.toStringTag,{value:"Module"}));});
//# sourceMappingURL=solid-form.js.map
